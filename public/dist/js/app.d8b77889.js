(function(Q){function U(U){for(var B,s,C=U[0],n=U[1],t=U[2],i=0,c=[];i<C.length;i++)s=C[i],Object.prototype.hasOwnProperty.call(g,s)&&g[s]&&c.push(g[s][0]),g[s]=0;for(B in n)Object.prototype.hasOwnProperty.call(n,B)&&(Q[B]=n[B]);e&&e(U);while(c.length)c.shift()();return I.push.apply(I,t||[]),F()}function F(){for(var Q,U=0;U<I.length;U++){for(var F=I[U],B=!0,C=1;C<F.length;C++){var n=F[C];0!==g[n]&&(B=!1)}B&&(I.splice(U--,1),Q=s(s.s=F[0]))}return Q}var B={},g={app:0},I=[];function s(U){if(B[U])return B[U].exports;var F=B[U]={i:U,l:!1,exports:{}};return Q[U].call(F.exports,F,F.exports,s),F.l=!0,F.exports}s.m=Q,s.c=B,s.d=function(Q,U,F){s.o(Q,U)||Object.defineProperty(Q,U,{enumerable:!0,get:F})},s.r=function(Q){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},s.t=function(Q,U){if(1&U&&(Q=s(Q)),8&U)return Q;if(4&U&&"object"===typeof Q&&Q&&Q.__esModule)return Q;var F=Object.create(null);if(s.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:Q}),2&U&&"string"!=typeof Q)for(var B in Q)s.d(F,B,function(U){return Q[U]}.bind(null,B));return F},s.n=function(Q){var U=Q&&Q.__esModule?function(){return Q["default"]}:function(){return Q};return s.d(U,"a",U),U},s.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},s.p="";var C=window["webpackJsonp"]=window["webpackJsonp"]||[],n=C.push.bind(C);C.push=U,C=C.slice();for(var t=0;t<C.length;t++)U(C[t]);var e=n;I.push([0,"chunk-vendors"]),F()})({0:function(Q,U,F){Q.exports=F("56d7")},"034f":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f8a4");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnZ1ZT8zYjhiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUF5aUIsQ0FBZ0IsbW1CQUFHLEVBQUMiLCJmaWxlIjoiMDM0Zi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vbm9kZV9tb2R1bGVzL19taW5pLWNzcy1leHRyYWN0LXBsdWdpbkAwLjkuMEBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS02LW9uZU9mLTEtMCEuLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMy41LjNAY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS02LW9uZU9mLTEtMSEuLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuOS4yQHZ1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9fcG9zdGNzcy1sb2FkZXJAMy4wLjBAcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTYtb25lT2YtMS0yIS4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDQuMS4wQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuMkB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQXBwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uL25vZGVfbW9kdWxlcy9fbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5AMC45LjBAbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tNi1vbmVPZi0xLTAhLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDMuNS4zQGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNi1vbmVPZi0xLTEhLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuMkB2dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi9ub2RlX21vZHVsZXMvX3Bvc3Rjc3MtbG9hZGVyQDMuMC4wQHBvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS02LW9uZU9mLTEtMiEuLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckA0LjEuMEBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjJAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0FwcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///034f\n')},2643:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4160");\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fb6a");\n/* harmony import */ var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("159b");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar listener = {};\n\nlistener.on = function (type, callback) {\n  if (!listener[type]) {\n    listener[type] = [];\n  }\n\n  listener[type].push(callback);\n};\n\nlistener.emit = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var type = args.shift();\n  listener[type] && listener[type].forEach(function (item) {\n    item.apply(null, args);\n  });\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (listener);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9saXN0ZW5lci5qcz8yNjQzIl0sIm5hbWVzIjpbImxpc3RlbmVyIiwib24iLCJ0eXBlIiwiY2FsbGJhY2siLCJwdXNoIiwiZW1pdCIsImFyZ3MiLCJhcmd1bWVudHMiLCJzaGlmdCIsImZvckVhY2giLCJpdGVtIiwiYXBwbHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxRQUFRLEdBQUcsRUFBakI7O0FBSUFBLFFBQVEsQ0FBQ0MsRUFBVCxHQUFjLFVBQVNDLElBQVQsRUFBZUMsUUFBZixFQUF3QjtBQUNsQyxNQUFHLENBQUNILFFBQVEsQ0FBQ0UsSUFBRCxDQUFaLEVBQW1CO0FBQ2ZGLFlBQVEsQ0FBQ0UsSUFBRCxDQUFSLEdBQWlCLEVBQWpCO0FBQ0g7O0FBQ0RGLFVBQVEsQ0FBQ0UsSUFBRCxDQUFSLENBQWVFLElBQWYsQ0FBb0JELFFBQXBCO0FBQ0gsQ0FMRDs7QUFPQUgsUUFBUSxDQUFDSyxJQUFULEdBQWdCLFlBQVU7QUFDdEIsTUFBSUMsSUFBSSw4QkFBT0MsU0FBUCxDQUFSO0FBQ0EsTUFBSUwsSUFBSSxHQUFHSSxJQUFJLENBQUNFLEtBQUwsRUFBWDtBQUNBUixVQUFRLENBQUNFLElBQUQsQ0FBUixJQUFrQkYsUUFBUSxDQUFDRSxJQUFELENBQVIsQ0FBZU8sT0FBZixDQUF1QixVQUFBQyxJQUFJLEVBQUk7QUFDN0NBLFFBQUksQ0FBQ0MsS0FBTCxDQUFXLElBQVgsRUFBaUJMLElBQWpCO0FBQ0gsR0FGaUIsQ0FBbEI7QUFHSCxDQU5EOztBQVFlTix1RUFBZiIsImZpbGUiOiIyNjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbGlzdGVuZXIgPSB7XG5cbn1cblxubGlzdGVuZXIub24gPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjayl7XG4gICAgaWYoIWxpc3RlbmVyW3R5cGVdKXtcbiAgICAgICAgbGlzdGVuZXJbdHlwZV0gPSBbXTtcbiAgICB9XG4gICAgbGlzdGVuZXJbdHlwZV0ucHVzaChjYWxsYmFjayk7XG59XG5cbmxpc3RlbmVyLmVtaXQgPSBmdW5jdGlvbigpe1xuICAgIGxldCBhcmdzID0gWy4uLmFyZ3VtZW50c107XG4gICAgbGV0IHR5cGUgPSBhcmdzLnNoaWZ0KCk7XG4gICAgbGlzdGVuZXJbdHlwZV0gJiYgbGlzdGVuZXJbdHlwZV0uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaXRlbS5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBsaXN0ZW5lcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2643\n')},"29f2":function(module,exports,__webpack_require__){"use strict";eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\n}) : function(o, v) {\n    o["default"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.BaseScene = void 0;\nvar PIXI = __importStar(__webpack_require__("f015"));\nvar BaseScene = /** @class */ (function () {\n    function BaseScene() {\n        this.loader = PIXI.Loader.shared;\n        this.container = new PIXI.Container();\n    }\n    BaseScene.prototype.load = function (url) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            if (_this.loader.resources[url]) {\n                resolve();\n            }\n            else {\n                _this.loader.add({\n                    url: url,\n                    crossOrigin: \'\'\n                }).load(function () {\n                    resolve();\n                });\n            }\n        });\n    };\n    BaseScene.prototype.init = function (width, height, app) {\n        this.width = width;\n        this.height = height;\n        this.app = app;\n    };\n    BaseScene.prototype.update = function () {\n    };\n    BaseScene.prototype.destory = function () {\n        this.container.destroy({\n            children: true\n        });\n    };\n    return BaseScene;\n}());\nexports.BaseScene = BaseScene;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9kZW1vL0Jhc2VTY2VuZS50cz82MjRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxREFBZ0M7QUFHaEM7SUFPSTtRQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDakMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUMxQyxDQUFDO0lBRUQsd0JBQUksR0FBSixVQUFLLEdBQVU7UUFBZixpQkFjQztRQWJHLE9BQU8sSUFBSSxPQUFPLENBQUMsaUJBQU87WUFDdEIsSUFBRyxLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBQztnQkFDMUIsT0FBTyxFQUFFLENBQUM7YUFDYjtpQkFDRztnQkFDQSxLQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztvQkFDWixHQUFHLEVBQUUsR0FBRztvQkFDUixXQUFXLEVBQUUsRUFBRTtpQkFDbEIsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDSixPQUFPLEVBQUUsQ0FBQztnQkFDZCxDQUFDLENBQUMsQ0FBQzthQUNOO1FBQ0wsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVELHdCQUFJLEdBQUosVUFBSyxLQUFZLEVBQUUsTUFBYSxFQUFFLEdBQW9CO1FBQ2xELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ25CLENBQUM7SUFFRCwwQkFBTSxHQUFOO0lBRUEsQ0FBQztJQUVELDJCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztZQUNuQixRQUFRLEVBQUUsSUFBSTtTQUNqQixDQUFDO0lBQ04sQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FBQztBQTNDWSw4QkFBUyIsImZpbGUiOiIyOWYyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCB7IElTY2VuZSB9IGZyb20gJy4vSVNjZW5lJztcblxuZXhwb3J0IGNsYXNzIEJhc2VTY2VuZSBpbXBsZW1lbnRzIElTY2VuZXtcbiAgICBsb2FkZXI6IFBJWEkuTG9hZGVyO1xuICAgIHdpZHRoOm51bWJlcjtcbiAgICBoZWlnaHQ6bnVtYmVyO1xuICAgIGNvbnRhaW5lcjogUElYSS5Db250YWluZXI7XG4gICAgYXBwOlBJWEkuQXBwbGljYXRpb247XG4gICAgXG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gICAgfVxuXG4gICAgbG9hZCh1cmw6c3RyaW5nKTpQcm9taXNlPHZvaWQ+e1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBpZih0aGlzLmxvYWRlci5yZXNvdXJjZXNbdXJsXSl7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlci5hZGQoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46ICcnXG4gICAgICAgICAgICAgICAgfSkubG9hZCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaW5pdCh3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIsIGFwcDpQSVhJLkFwcGxpY2F0aW9uKTp2b2lke1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcbiAgICB9XG5cbiAgICB1cGRhdGUoKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgZGVzdG9yeSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZGVzdHJveSh7XG4gICAgICAgICAgICBjaGlsZHJlbjogdHJ1ZVxuICAgICAgICB9KVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29f2\n')},"2e2d":function(module,exports,__webpack_require__){"use strict";eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\n}) : function(o, v) {\n    o["default"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.Game = void 0;\nvar PIXI = __importStar(__webpack_require__("f015"));\nvar Game = /** @class */ (function () {\n    function Game(canvas) {\n        this.url = \'man.jpg\';\n        this.canvas = canvas;\n        this.init();\n    }\n    Game.prototype.init = function () {\n        this.width = 750 || false;\n        this.height = 750 || false;\n        this.app = new PIXI.Application({\n            autoStart: true,\n            width: this.width,\n            height: this.height,\n            view: this.canvas,\n            antialias: true,\n            transparent: true\n        });\n        this.app.renderer.backgroundColor = 0xf0f0f0;\n        this.app.ticker.add(this.loop.bind(this));\n    };\n    Game.prototype.reset = function (scene) {\n        if (this.scene) {\n            this.scene.destory();\n        }\n        this.scene = scene;\n        this.app.stage.addChild(this.scene.container);\n        this.scene.init(this.width, this.height, this.app);\n    };\n    Game.prototype.destroy = function () {\n        console.log("destroy");\n    };\n    Game.prototype.loop = function () {\n        if (this.scene) {\n            this.scene.update();\n        }\n    };\n    return Game;\n}());\nexports.Game = Game;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9kZW1vL0dhbWUudHM/NmQ1YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscURBQWdDO0FBR2hDO0lBV0ksY0FBWSxNQUFVO1FBSnRCLFFBQUcsR0FBVSxTQUFTLENBQUM7UUFLbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxtQkFBSSxHQUFKO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLElBQUksS0FBMkMsQ0FBQztRQUNoRSxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxLQUEyQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzVCLFNBQVMsRUFBRSxJQUFJO1lBQ2YsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO1lBQ2pCLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtZQUNuQixJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDakIsU0FBUyxFQUFFLElBQUk7WUFDZixXQUFXLEVBQUUsSUFBSTtTQUNwQixDQUFDO1FBRUYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsZUFBZSxHQUFHLFFBQVEsQ0FBQztRQUM3QyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRUQsb0JBQUssR0FBTCxVQUFNLEtBQVk7UUFDZCxJQUFHLElBQUksQ0FBQyxLQUFLLEVBQUM7WUFDVixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsc0JBQU8sR0FBUDtRQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELG1CQUFJLEdBQUo7UUFDSSxJQUFHLElBQUksQ0FBQyxLQUFLLEVBQUM7WUFDVixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUNMLFdBQUM7QUFBRCxDQUFDO0FBbERZLG9CQUFJIiwiZmlsZSI6IjJlMmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHsgSVNjZW5lIH0gZnJvbSAnLi9JU2NlbmUnO1xuXG5leHBvcnQgY2xhc3MgR2FtZXtcbiAgICBjYW52YXM6YW55O1xuICAgIGFwcDpQSVhJLkFwcGxpY2F0aW9uO1xuICAgIGxvYWRlcjogUElYSS5Mb2FkZXI7XG4gICAgd2lkdGg6bnVtYmVyO1xuICAgIGhlaWdodDpudW1iZXI7XG4gICAgbWFuOlBJWEkuU3ByaXRlO1xuICAgIHVybDpzdHJpbmcgPSAnbWFuLmpwZyc7XG5cbiAgICBzY2VuZTpJU2NlbmU7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW52YXM6YW55KXtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy53aWR0aCA9IDc1MCB8fCB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB0aGlzLmhlaWdodCA9IDc1MCB8fCB3aW5kb3cuaW5uZXJXaWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB0aGlzLmFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKHtcbiAgICAgICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIHZpZXc6IHRoaXMuY2FudmFzLFxuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmFwcC5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSAweGYwZjBmMDtcbiAgICAgICAgdGhpcy5hcHAudGlja2VyLmFkZCh0aGlzLmxvb3AuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcmVzZXQoc2NlbmU6SVNjZW5lKXtcbiAgICAgICAgaWYodGhpcy5zY2VuZSl7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmRlc3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuc2NlbmUuY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5zY2VuZS5pbml0KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmFwcCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpe1xuICAgICAgICBjb25zb2xlLmxvZyhcImRlc3Ryb3lcIik7XG4gICAgfVxuXG4gICAgbG9vcCgpe1xuICAgICAgICBpZih0aGlzLnNjZW5lKXtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2e2d\n')},"3e17":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\n}) : function(o, v) {\n    o["default"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar PIXI = __importStar(__webpack_require__("f015"));\nvar listener_1 = __importDefault(__webpack_require__("2643"));\nvar FrameView = /** @class */ (function (_super) {\n    __extends(FrameView, _super);\n    function FrameView(w, h) {\n        var _this = _super.call(this) || this;\n        _this.pointerSize = 40;\n        _this.padding = 40;\n        _this.stageWidth = w;\n        _this.stageHeight = h;\n        _this.rect = new PIXI.Bounds();\n        _this.frameMask = new PIXI.Graphics();\n        _this.addChild(_this.frameMask);\n        _this.frame = new PIXI.Graphics();\n        _this.frame.interactive = true;\n        _this.addChild(_this.frame);\n        _this.pointers = [];\n        for (var i = 0; i < 8; i++) {\n            var p = _this.makePointer();\n            p.interactive = true;\n            _this.pointers.push(p);\n            _this.addChild(p);\n            p.on(\'pointerdown\', _this.onDragStart.bind(_this));\n        }\n        listener_1.default.on("pre-scale", function (horizontal) {\n            var size = (w - 2 * _this.padding) / 2.4;\n            if (horizontal) {\n                _this.reset(_this.padding, w - _this.padding, size, h - size);\n            }\n            else {\n                _this.reset(size, w - size, _this.padding, h - _this.padding);\n            }\n            listener_1.default.emit("pre-div", {\n                left: _this.rect.minX,\n                right: _this.rect.maxX,\n                top: _this.rect.minY,\n                bottom: _this.rect.maxY\n            });\n        });\n        _this.reset(_this.padding, w - _this.padding, _this.padding, h - _this.padding);\n        return _this;\n    }\n    FrameView.prototype.checkNearPointer = function (p) {\n        for (var i = 0; i < this.pointers.length; i++) {\n            var distance = this.getDistance(this.pointers[i], p);\n            if (distance < this.pointerSize) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    FrameView.prototype.getDistance = function (a, b) {\n        return Math.sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));\n    };\n    FrameView.prototype.onDragStart = function (e) {\n        console.log(e);\n        e.stopPropagation();\n        var local = e.data.getLocalPosition(this);\n        this.dragging = true;\n        this.startPot = { x: local.x, y: local.y };\n        var item = e.target;\n        this.pointerIndex = this.checkNearPointer(local);\n        console.log("this.pointerIndex", this.pointerIndex);\n        // this.box.setChildIndex(item, this.box.children.length - 1);\n        item.on(\'pointerup\', this.onDragEnd, this);\n        item.on(\'pointerupoutside\', this.onDragEnd, this);\n        item.on(\'pointermove\', this.onDragMove, this);\n        this.dragItem = item;\n    };\n    FrameView.prototype.hitFrame = function (e) {\n        var local = e.data.getLocalPosition(this);\n        if (local.x > this.rect.minX && local.x < this.rect.maxX) {\n            if (local.y > this.rect.minY && local.y < this.rect.maxY) {\n                return true;\n            }\n        }\n        return false;\n    };\n    FrameView.prototype.moveFrame = function (x, y) {\n        if (this.rect.minX + x < this.padding) {\n            console.log("over left");\n        }\n        else {\n            if (this.rect.maxX + x > this.stageWidth - this.padding) {\n                console.log("over right");\n            }\n            else {\n                this.rect.minX += x;\n                this.rect.maxX += x;\n            }\n        }\n        if (this.rect.minY + y < this.padding) {\n            console.log("over top");\n        }\n        else {\n            if (this.rect.maxY + y > this.stageHeight - this.padding) {\n                console.log("over bottom");\n            }\n            else {\n                this.rect.minY += y;\n                this.rect.maxY += y;\n            }\n        }\n        this.update();\n    };\n    FrameView.prototype.onDragMove = function (e) {\n        if (this.dragging) {\n            var local = e.data.getLocalPosition(this);\n            //左上\n            if (this.pointerIndex == 0) {\n                this.rect.minX = local.x;\n                this.rect.minY = local.y;\n                console.log("左上");\n            }\n            //中上\n            else if (this.pointerIndex == 1) {\n                this.rect.minY = local.y;\n                console.log("中上");\n            }\n            //右上\n            else if (this.pointerIndex == 2) {\n                this.rect.maxX = local.x;\n                this.rect.minY = local.y;\n                console.log("右上");\n            }\n            //右中\n            else if (this.pointerIndex == 3) {\n                this.rect.maxX = local.x;\n                console.log("右中");\n            }\n            //右下\n            else if (this.pointerIndex == 4) {\n                this.rect.maxX = local.x;\n                this.rect.maxY = local.y;\n                console.log("右下");\n            }\n            //中下\n            else if (this.pointerIndex == 5) {\n                this.rect.maxY = local.y;\n                console.log("中下");\n            }\n            //左下\n            else if (this.pointerIndex == 6) {\n                this.rect.minX = local.x;\n                this.rect.maxY = local.y;\n                console.log("左下");\n            }\n            //左中\n            else if (this.pointerIndex == 7) {\n                this.rect.minX = local.x;\n                console.log("左中");\n            }\n            if (this.rect.minX < this.padding) {\n                this.rect.minX = this.padding;\n            }\n            if (this.rect.maxX > this.stageWidth - this.padding) {\n                this.rect.maxX = this.stageWidth - this.padding;\n            }\n            if (this.rect.minY < this.padding) {\n                this.rect.minY = this.padding;\n            }\n            if (this.rect.maxY > this.stageHeight - this.padding) {\n                this.rect.maxY = this.stageHeight - this.padding;\n            }\n            this.clipWidth = this.rect.maxX - this.rect.minX;\n            this.clipHeight = this.rect.maxY - this.rect.minY;\n            this.startPot = { x: local.x, y: local.y };\n            this.update();\n        }\n    };\n    FrameView.prototype.onDragEnd = function (e) {\n        this.dragging = false;\n        var item = this.dragItem;\n        item.off(\'pointerup\', this.onDragEnd, this);\n        item.off(\'pointerupoutside\', this.onDragEnd, this);\n        item.off(\'pointermove\', this.onDragMove, this);\n        console.log(this.stageWidth, this.stageHeight);\n    };\n    FrameView.prototype.makePointer = function () {\n        var graphics = new PIXI.Graphics();\n        graphics.beginFill(0x069cff, 1);\n        graphics.drawRect(0, 0, this.pointerSize, this.pointerSize);\n        graphics.endFill();\n        return graphics;\n    };\n    FrameView.prototype.reset = function (l, r, t, b) {\n        this.rect.minX = l;\n        this.rect.maxX = r;\n        this.rect.minY = t;\n        this.rect.maxY = b;\n        this.clipWidth = this.rect.maxX - this.rect.minX;\n        this.clipHeight = this.rect.maxY - this.rect.minY;\n        this.update();\n    };\n    FrameView.prototype.update = function () {\n        var left = this.rect.minX;\n        var top = this.rect.minY;\n        var right = this.rect.maxX;\n        var bottom = this.rect.maxY;\n        var graphics = this.frame;\n        graphics.clear();\n        graphics.lineStyle(1, 0x069cff);\n        //透明层，用来交互\n        graphics.beginFill(0xffffff, 0.04);\n        graphics.drawRect(left, top, right - left, bottom - top);\n        graphics.endFill();\n        var offset = this.pointerSize / 2;\n        //左上\n        this.pointers[0].x = left - offset;\n        this.pointers[0].y = top - offset;\n        //中上\n        this.pointers[1].x = (left + right) / 2 - offset;\n        this.pointers[1].y = top - offset;\n        //右上\n        this.pointers[2].x = right - offset;\n        this.pointers[2].y = top - offset;\n        //右中\n        this.pointers[3].x = right - offset;\n        this.pointers[3].y = (top + bottom) / 2 - offset;\n        //右下\n        this.pointers[4].x = right - offset;\n        this.pointers[4].y = bottom - offset;\n        //中下\n        this.pointers[5].x = (right + left) / 2 - offset;\n        this.pointers[5].y = bottom - offset;\n        //左下\n        this.pointers[6].x = left - offset;\n        this.pointers[6].y = bottom - offset;\n        //左中\n        this.pointers[7].x = left - offset;\n        this.pointers[7].y = (bottom + top) / 2 - offset;\n        graphics = this.frameMask;\n        graphics.clear();\n        graphics.beginFill(0x000000, 0.8);\n        graphics.drawRect(0, 0, this.stageWidth, this.stageHeight);\n        graphics.beginHole();\n        graphics.drawRect(left, top, right - left, bottom - top);\n        graphics.endHole();\n        graphics.endFill();\n    };\n    return FrameView;\n}(PIXI.Container));\nexports.default = FrameView;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92aWV3L0ZyYW1lVmlldy50cz82MjhjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxREFBZ0M7QUFDaEMsOERBQWtDO0FBRWxDO0lBQXVDLDZCQUFjO0lBcUJqRCxtQkFBWSxDQUFRLEVBQUUsQ0FBUTtRQUE5QixZQUNJLGlCQUFPLFNBd0NWO1FBckRELGlCQUFXLEdBQVUsRUFBRSxDQUFDO1FBU3hCLGFBQU8sR0FBVSxFQUFFLENBQUM7UUFNaEIsS0FBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDcEIsS0FBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFFckIsS0FBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU5QixLQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3JDLEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRTlCLEtBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDakMsS0FBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQzlCLEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTFCLEtBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ25CLEtBQUksSUFBSSxDQUFDLEdBQVUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUM7WUFDN0IsSUFBSSxDQUFDLEdBQWtCLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMxQyxDQUFDLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztZQUNyQixLQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENB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SSxDQUFDLEVBQUM7Z0JBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDckI7WUFDRCxJQUFJO2lCQUNDLElBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLEVBQUM7Z0JBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDckI7WUFDRCxJQUFJO2lCQUNDLElBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLEVBQUM7Z0JBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDckI7WUFDRCxJQUFJO2lCQUNDLElBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLEVBQUM7Z0JBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDckI7WUFDRCxJQUFJO2lCQUNDLElBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLEVBQUM7Z0JBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFD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LFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQixRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNsQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDM0QsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEdBQUcsSUFBSSxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztRQUN6RCxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkIsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFDTCxnQkFBQztBQUFELENBQUMsQ0F0U3NDLElBQUksQ0FBQyxTQUFTLEdBc1NwRCIsImZpbGUiOiIzZTE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCBsaXN0ZW5lciBmcm9tICcuLi9saXN0ZW5lcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbWVWaWV3IGV4dGVuZHMgUElYSS5Db250YWluZXJ7XG4gICAgXG4gICAgZHJhZ0l0ZW06UElYSS5HcmFwaGljcztcbiAgICBkcmFnZ2luZzpib29sZWFuO1xuICAgIHN0YXJ0UG90OmFueTtcblxuICAgIGZyYW1lOlBJWEkuR3JhcGhpY3M7XG4gICAgZnJhbWVNYXNrOlBJWEkuR3JhcGhpY3M7XG4gICAgcG9pbnRlcnM6QXJyYXk8UElYSS5HcmFwaGljcz47XG4gICAgcG9pbnRlclNpemU6bnVtYmVyID0gNDA7XG4gICAgcG9pbnRlckluZGV4Om51bWJlcjtcblxuICAgIHN0YWdlV2lkdGg6bnVtYmVyO1xuICAgIHN0YWdlSGVpZ2h0Om51bWJlcjtcblxuICAgIGNsaXBXaWR0aDpudW1iZXI7XG4gICAgY2xpcEhlaWdodDpudW1iZXI7XG5cbiAgICBwYWRkaW5nOm51bWJlciA9IDQwO1xuICAgIHJlY3Q6UElYSS5Cb3VuZHM7XG5cbiAgICBjb25zdHJ1Y3Rvcih3Om51bWJlciwgaDpudW1iZXIpe1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc3RhZ2VXaWR0aCA9IHc7XG4gICAgICAgIHRoaXMuc3RhZ2VIZWlnaHQgPSBoO1xuXG4gICAgICAgIHRoaXMucmVjdCA9IG5ldyBQSVhJLkJvdW5kcygpO1xuXG4gICAgICAgIHRoaXMuZnJhbWVNYXNrID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmZyYW1lTWFzayk7XG5cbiAgICAgICAgdGhpcy5mcmFtZSA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIHRoaXMuZnJhbWUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuZnJhbWUpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5wb2ludGVycyA9IFtdO1xuICAgICAgICBmb3IodmFyIGk6bnVtYmVyID0gMDsgaSA8IDg7IGkrKyl7XG4gICAgICAgICAgICB2YXIgcDogUElYSS5HcmFwaGljcyA9IHRoaXMubWFrZVBvaW50ZXIoKTtcbiAgICAgICAgICAgIHAuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wb2ludGVycy5wdXNoKHApO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChwKTtcbiAgICAgICAgICAgIHAub24oJ3BvaW50ZXJkb3duJywgdGhpcy5vbkRyYWdTdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3RlbmVyLm9uKFwicHJlLXNjYWxlXCIsIChob3Jpem9udGFsOmJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIHZhciBzaXplID0gKHcgLSAyICogdGhpcy5wYWRkaW5nKSAvIDIuNDtcbiAgICAgICAgICAgIGlmKGhvcml6b250YWwpe1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQodGhpcy5wYWRkaW5nLCB3IC0gdGhpcy5wYWRkaW5nLCBzaXplLCBoIC0gc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoc2l6ZSwgdyAtIHNpemUsIHRoaXMucGFkZGluZywgaCAtIHRoaXMucGFkZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lci5lbWl0KFwicHJlLWRpdlwiLCB7XG4gICAgICAgICAgICAgICAgbGVmdDogdGhpcy5yZWN0Lm1pblgsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMucmVjdC5tYXhYLFxuICAgICAgICAgICAgICAgIHRvcDogdGhpcy5yZWN0Lm1pblksXG4gICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLnJlY3QubWF4WVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnJlc2V0KHRoaXMucGFkZGluZywgdyAtIHRoaXMucGFkZGluZywgdGhpcy5wYWRkaW5nLCBoIC0gdGhpcy5wYWRkaW5nKTtcbiAgICB9XG5cbiAgICBjaGVja05lYXJQb2ludGVyKHA6YW55KXtcbiAgICAgICAgZm9yKHZhciBpOm51bWJlciA9IDA7IGkgPCB0aGlzLnBvaW50ZXJzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZTpudW1iZXIgPSB0aGlzLmdldERpc3RhbmNlKHRoaXMucG9pbnRlcnNbaV0sIHApO1xuICAgICAgICAgICAgaWYoZGlzdGFuY2UgPCB0aGlzLnBvaW50ZXJTaXplKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgZ2V0RGlzdGFuY2UoYTphbnksIGI6YW55KXtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgoYS54IC0gYi54KSAqIChhLnggLSBiLngpICsgKGEueSAtIGIueSkgKiAoYS55IC0gYi55KSk7XG4gICAgfVxuXG4gICAgb25EcmFnU3RhcnQoZTphbnkpe1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdmFyIGxvY2FsID0gZS5kYXRhLmdldExvY2FsUG9zaXRpb24odGhpcyk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnN0YXJ0UG90ID0ge3g6IGxvY2FsLngsIHk6bG9jYWwueX07XG5cbiAgICAgICAgdmFyIGl0ZW0gPSBlLnRhcmdldDtcbiAgICAgICAgdGhpcy5wb2ludGVySW5kZXggPSB0aGlzLmNoZWNrTmVhclBvaW50ZXIobG9jYWwpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInRoaXMucG9pbnRlckluZGV4XCIsIHRoaXMucG9pbnRlckluZGV4KTtcbiAgICAgICAgXG4gICAgICAgIC8vIHRoaXMuYm94LnNldENoaWxkSW5kZXgoaXRlbSwgdGhpcy5ib3guY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgIGl0ZW0ub24oJ3BvaW50ZXJ1cCcsIHRoaXMub25EcmFnRW5kLCB0aGlzKTtcbiAgICAgICAgaXRlbS5vbigncG9pbnRlcnVwb3V0c2lkZScsIHRoaXMub25EcmFnRW5kLCB0aGlzKTtcbiAgICAgICAgaXRlbS5vbigncG9pbnRlcm1vdmUnLCB0aGlzLm9uRHJhZ01vdmUsIHRoaXMpO1xuICAgICAgICB0aGlzLmRyYWdJdGVtID0gaXRlbTtcbiAgICB9XG5cbiAgICBoaXRGcmFtZShlOmFueSl7XG4gICAgICAgIHZhciBsb2NhbCA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMpO1xuICAgICAgICBpZihsb2NhbC54ID4gdGhpcy5yZWN0Lm1pblggJiYgbG9jYWwueCA8IHRoaXMucmVjdC5tYXhYKXtcbiAgICAgICAgICAgIGlmKGxvY2FsLnkgPiB0aGlzLnJlY3QubWluWSAmJiBsb2NhbC55IDwgdGhpcy5yZWN0Lm1heFkpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlRnJhbWUoeDpudW1iZXIsIHk6bnVtYmVyKXtcbiAgICAgICAgaWYodGhpcy5yZWN0Lm1pblggKyB4IDwgdGhpcy5wYWRkaW5nKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3ZlciBsZWZ0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBpZih0aGlzLnJlY3QubWF4WCArIHggPiB0aGlzLnN0YWdlV2lkdGggLSB0aGlzLnBhZGRpbmcpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3ZlciByaWdodFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblggKz0geDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWF4WCArPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5yZWN0Lm1pblkgKyB5IDwgdGhpcy5wYWRkaW5nKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3ZlciB0b3BcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGlmKHRoaXMucmVjdC5tYXhZICsgeSA+IHRoaXMuc3RhZ2VIZWlnaHQgLSB0aGlzLnBhZGRpbmcpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3ZlciBib3R0b21cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5taW5ZICs9IHk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1heFkgKz0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgb25EcmFnTW92ZShlOmFueSl7XG4gICAgICAgIGlmKHRoaXMuZHJhZ2dpbmcpe1xuICAgICAgICAgICAgdmFyIGxvY2FsID0gZS5kYXRhLmdldExvY2FsUG9zaXRpb24odGhpcyk7XG5cbiAgICAgICAgICAgIC8v5bem5LiKXG4gICAgICAgICAgICBpZih0aGlzLnBvaW50ZXJJbmRleCA9PSAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWCA9IGxvY2FsLng7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblkgPSBsb2NhbC55O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5bem5LiKXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/kuK3kuIpcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5wb2ludGVySW5kZXggPT0gMSl7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblkgPSBsb2NhbC55O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Lit5LiKXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/lj7PkuIpcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5wb2ludGVySW5kZXggPT0gMil7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1heFggPSBsb2NhbC54O1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5taW5ZID0gbG9jYWwueTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPs+S4ilwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v5Y+z5LitXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMucG9pbnRlckluZGV4ID09IDMpe1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5tYXhYID0gbG9jYWwueDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPs+S4rVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8v5Y+z5LiLXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMucG9pbnRlckluZGV4ID09IDQpe1xuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5tYXhYID0gbG9jYWwueDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWF4WSA9IGxvY2FsLnk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlj7PkuItcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+S4reS4i1xuICAgICAgICAgICAgZWxzZSBpZih0aGlzLnBvaW50ZXJJbmRleCA9PSA1KXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWF4WSA9IGxvY2FsLnk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLkuK3kuItcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL+W3puS4i1xuICAgICAgICAgICAgZWxzZSBpZih0aGlzLnBvaW50ZXJJbmRleCA9PSA2KXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWCA9IGxvY2FsLng7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1heFkgPSBsb2NhbC55O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5bem5LiLXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy/lt6bkuK1cbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5wb2ludGVySW5kZXggPT0gNyl7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblggPSBsb2NhbC54O1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5bem5LitXCIpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGlmKHRoaXMucmVjdC5taW5YIDwgdGhpcy5wYWRkaW5nKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWCA9IHRoaXMucGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMucmVjdC5tYXhYID4gdGhpcy5zdGFnZVdpZHRoIC0gdGhpcy5wYWRkaW5nKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWF4WCA9IHRoaXMuc3RhZ2VXaWR0aCAtIHRoaXMucGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMucmVjdC5taW5ZIDwgdGhpcy5wYWRkaW5nKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWSA9IHRoaXMucGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMucmVjdC5tYXhZID4gdGhpcy5zdGFnZUhlaWdodCAtIHRoaXMucGFkZGluZyl7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1heFkgPSB0aGlzLnN0YWdlSGVpZ2h0IC0gdGhpcy5wYWRkaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNsaXBXaWR0aCA9IHRoaXMucmVjdC5tYXhYIC0gdGhpcy5yZWN0Lm1pblg7XG4gICAgICAgICAgICB0aGlzLmNsaXBIZWlnaHQgPSB0aGlzLnJlY3QubWF4WSAtIHRoaXMucmVjdC5taW5ZO1xuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG90ID0ge3g6IGxvY2FsLngsIHk6bG9jYWwueX07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EcmFnRW5kKGU6YW55KXtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMuZHJhZ0l0ZW07XG4gICAgICAgIGl0ZW0ub2ZmKCdwb2ludGVydXAnLCB0aGlzLm9uRHJhZ0VuZCwgdGhpcyk7XG4gICAgICAgIGl0ZW0ub2ZmKCdwb2ludGVydXBvdXRzaWRlJywgdGhpcy5vbkRyYWdFbmQsIHRoaXMpO1xuICAgICAgICBpdGVtLm9mZigncG9pbnRlcm1vdmUnLCB0aGlzLm9uRHJhZ01vdmUsIHRoaXMpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YWdlV2lkdGgsIHRoaXMuc3RhZ2VIZWlnaHQpO1xuICAgIH1cblxuICAgIG1ha2VQb2ludGVyKCl7XG4gICAgICAgIHZhciBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICAgIGdyYXBoaWNzLmJlZ2luRmlsbCgweDA2OWNmZiwgMSk7XG4gICAgICAgIGdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIHRoaXMucG9pbnRlclNpemUsIHRoaXMucG9pbnRlclNpemUpO1xuICAgICAgICBncmFwaGljcy5lbmRGaWxsKCk7XG4gICAgICAgIHJldHVybiBncmFwaGljcztcbiAgICB9XG5cbiAgICByZXNldChsOm51bWJlciwgcjpudW1iZXIsIHQ6bnVtYmVyLCBiOm51bWJlcil7XG4gICAgICAgIHRoaXMucmVjdC5taW5YID0gbDtcbiAgICAgICAgdGhpcy5yZWN0Lm1heFggPSByO1xuICAgICAgICB0aGlzLnJlY3QubWluWSA9IHQ7XG4gICAgICAgIHRoaXMucmVjdC5tYXhZID0gYjtcblxuICAgICAgICB0aGlzLmNsaXBXaWR0aCA9IHRoaXMucmVjdC5tYXhYIC0gdGhpcy5yZWN0Lm1pblg7XG4gICAgICAgIHRoaXMuY2xpcEhlaWdodCA9IHRoaXMucmVjdC5tYXhZIC0gdGhpcy5yZWN0Lm1pblk7XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKXtcblxuICAgICAgICB2YXIgbGVmdCA9IHRoaXMucmVjdC5taW5YO1xuICAgICAgICB2YXIgdG9wID0gdGhpcy5yZWN0Lm1pblk7XG4gICAgICAgIHZhciByaWdodCA9IHRoaXMucmVjdC5tYXhYO1xuICAgICAgICB2YXIgYm90dG9tID0gdGhpcy5yZWN0Lm1heFk7XG5cbiAgICAgICAgdmFyIGdyYXBoaWNzID0gdGhpcy5mcmFtZTtcbiAgICAgICAgZ3JhcGhpY3MuY2xlYXIoKTtcbiAgICAgICAgZ3JhcGhpY3MubGluZVN0eWxlKDEsIDB4MDY5Y2ZmKTtcbiAgICAgICAgLy/pgI/mmI7lsYLvvIznlKjmnaXkuqTkupJcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDB4ZmZmZmZmLCAwLjA0KTtcbiAgICAgICAgZ3JhcGhpY3MuZHJhd1JlY3QobGVmdCwgdG9wLCByaWdodCAtIGxlZnQsIGJvdHRvbSAtIHRvcCk7XG4gICAgICAgIGdyYXBoaWNzLmVuZEZpbGwoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0Om51bWJlciA9IHRoaXMucG9pbnRlclNpemUgLyAyO1xuXG4gICAgICAgIC8v5bem5LiKXG4gICAgICAgIHRoaXMucG9pbnRlcnNbMF0ueCA9IGxlZnQgLSBvZmZzZXQ7XG4gICAgICAgIHRoaXMucG9pbnRlcnNbMF0ueSA9IHRvcCAtIG9mZnNldDtcblxuICAgICAgICAvL+S4reS4ilxuICAgICAgICB0aGlzLnBvaW50ZXJzWzFdLnggPSAobGVmdCArIHJpZ2h0KSAvIDIgLSBvZmZzZXQ7XG4gICAgICAgIHRoaXMucG9pbnRlcnNbMV0ueSA9IHRvcCAtIG9mZnNldDtcblxuICAgICAgICAvL+WPs+S4ilxuICAgICAgICB0aGlzLnBvaW50ZXJzWzJdLnggPSByaWdodCAtIG9mZnNldDtcbiAgICAgICAgdGhpcy5wb2ludGVyc1syXS55ID0gdG9wIC0gb2Zmc2V0O1xuXG4gICAgICAgIC8v5Y+z5LitXG4gICAgICAgIHRoaXMucG9pbnRlcnNbM10ueCA9IHJpZ2h0IC0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnBvaW50ZXJzWzNdLnkgPSAodG9wICsgYm90dG9tKSAvIDIgLSBvZmZzZXQ7XG5cbiAgICAgICAgLy/lj7PkuItcbiAgICAgICAgdGhpcy5wb2ludGVyc1s0XS54ID0gcmlnaHQgLSBvZmZzZXQ7XG4gICAgICAgIHRoaXMucG9pbnRlcnNbNF0ueSA9IGJvdHRvbSAtIG9mZnNldDtcblxuICAgICAgICAvL+S4reS4i1xuICAgICAgICB0aGlzLnBvaW50ZXJzWzVdLnggPSAocmlnaHQgKyBsZWZ0KSAvIDIgLSBvZmZzZXQ7XG4gICAgICAgIHRoaXMucG9pbnRlcnNbNV0ueSA9IGJvdHRvbSAtIG9mZnNldDtcblxuICAgICAgICAvL+W3puS4i1xuICAgICAgICB0aGlzLnBvaW50ZXJzWzZdLnggPSBsZWZ0IC0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnBvaW50ZXJzWzZdLnkgPSBib3R0b20gLSBvZmZzZXQ7XG5cbiAgICAgICAgLy/lt6bkuK1cbiAgICAgICAgdGhpcy5wb2ludGVyc1s3XS54ID0gbGVmdCAtIG9mZnNldDtcbiAgICAgICAgdGhpcy5wb2ludGVyc1s3XS55ID0gKGJvdHRvbSArIHRvcCkgLyAyIC0gb2Zmc2V0O1xuXG4gICAgICAgIGdyYXBoaWNzID0gdGhpcy5mcmFtZU1hc2s7XG4gICAgICAgIGdyYXBoaWNzLmNsZWFyKCk7XG4gICAgICAgIGdyYXBoaWNzLmJlZ2luRmlsbCgweDAwMDAwMCwgMC44KTtcbiAgICAgICAgZ3JhcGhpY3MuZHJhd1JlY3QoMCwgMCwgdGhpcy5zdGFnZVdpZHRoLCB0aGlzLnN0YWdlSGVpZ2h0KTtcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5Ib2xlKCk7XG4gICAgICAgIGdyYXBoaWNzLmRyYXdSZWN0KGxlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0LCBib3R0b20gLSB0b3ApO1xuICAgICAgICBncmFwaGljcy5lbmRIb2xlKCk7XG4gICAgICAgIGdyYXBoaWNzLmVuZEZpbGwoKTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3e17\n')},"56d7":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\nvar es_array_index_of = __webpack_require__("c975");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.search.js\nvar es_string_search = __webpack_require__("841c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__("e260");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__("e6cf");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__("cca6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.finally.js\nvar es_promise_finally = __webpack_require__("a79d");\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__("2b0e");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"d5571756-vue-loader-template"}!./node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.2@vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=template&id=74765888&\nvar Appvue_type_template_id_74765888_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{attrs:{"id":"app"}},[_c(\'Clip\')],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/App.vue?vue&type=template&id=74765888&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"d5571756-vue-loader-template"}!./node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.2@vue-loader/lib??vue-loader-options!./src/components/Clip/index.vue?vue&type=template&id=0cdbbef0&scoped=true&\nvar Clipvue_type_template_id_0cdbbef0_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"stage"},[_c(\'div\',{staticClass:"bg",class:{\'pre\': _vm.hide},style:(_vm.style)}),_c(\'canvas\',{ref:"canvas",staticClass:"canvas",class:{hide: _vm.hide}}),_c(\'div\',{staticClass:"control"},[_c(\'div\',{staticClass:"btns"},[_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onChange(\'fitWidth\')}}},[_c(\'div\',{staticClass:"ico size width"})]),_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onChange(\'fitHeight\')}}},[_c(\'div\',{staticClass:"ico size height"})])]),_c(\'div\',{staticClass:"btns"},[_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onChange(\'rotateLeft\')}}},[_c(\'div\',{staticClass:"ico rotate left"})]),_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onChange(\'rotateRight\')}}},[_c(\'div\',{staticClass:"ico rotate right"})])]),_c(\'div\',{staticClass:"btns"},[_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onChange(\'turnX\')}}},[_c(\'div\',{staticClass:"ico turn x"})]),_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onChange(\'turnY\')}}},[_c(\'div\',{staticClass:"ico turn y"})])])]),_c(\'div\',{staticClass:"clip-btns"},[_c(\'div\',{staticClass:"clip btn",on:{"click":_vm.preStart}},[_vm._v("预处理")]),_c(\'div\',{staticClass:"clip btn",on:{"click":_vm.preCancel}},[_vm._v("×")]),_c(\'div\',{staticClass:"clip btn",on:{"click":_vm.preEnd}},[_vm._v("√")]),_c(\'div\',{staticClass:"clip btn",on:{"click":_vm.clip}},[_vm._v("裁剪")])]),(_vm.preview)?_c(\'div\',{staticClass:"preview"},[_c(\'div\',{staticClass:"box"},[_c(\'div\',{staticClass:"img-box"},[(_vm.url)?_c(\'img\',{staticClass:"img",attrs:{"src":_vm.url}}):_vm._e()]),(_vm.info)?_c(\'div\',{staticClass:"info"},[_c(\'div\',{staticClass:"tip"},[_vm._v("原始尺寸："+_vm._s(_vm.info.originSize.width)+"x"+_vm._s(_vm.info.originSize.height))]),_c(\'div\',{staticClass:"tip"},[_vm._v("裁剪尺寸："+_vm._s(_vm.info.clipSize.width)+"x"+_vm._s(_vm.info.clipSize.height))])]):_vm._e(),_c(\'div\',{staticClass:"scale"},_vm._l((_vm.scales),function(item,index){return _c(\'div\',{key:item.label,staticClass:"size",class:{selected:_vm.scaleId==index},on:{"click":function($event){return _vm.changeSize(index)}}},[_vm._v(_vm._s(item.label))])}),0),_c(\'div\',{staticClass:"result-btns"},[_c(\'div\',{staticClass:"btn",on:{"click":_vm.quit}},[_vm._v("取消")]),_c(\'div\',{staticClass:"sure btn",on:{"click":_vm.sure}},[_vm._v("确定")])])])]):_vm._e()])}\nvar Clipvue_type_template_id_0cdbbef0_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/Clip/index.vue?vue&type=template&id=0cdbbef0&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.constructor.js\nvar es_regexp_constructor = __webpack_require__("4d63");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__("25f0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\nvar es_string_match = __webpack_require__("466d");\n\n// EXTERNAL MODULE: ./src/core/demo/Game.ts\nvar Game = __webpack_require__("2e2d");\n\n// EXTERNAL MODULE: ./src/core/demo/ClipTest.ts\nvar ClipTest = __webpack_require__("a5d5");\n\n// EXTERNAL MODULE: ./src/core/listener.js\nvar listener = __webpack_require__("2643");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.2@vue-loader/lib??vue-loader-options!./src/components/Clip/index.vue?vue&type=script&lang=js&\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n // import {SpriteTest} from \'../../core/demo/SpriteTest\'\n// import {PositionTest} from \'../../core/demo/PositionTest\'\n// import {ShapeTest} from \'../../core/demo/ShapeTest\'\n// import {TextTest} from \'../../core/demo/TextTest\'\n// import {DragTest} from \'../../core/demo/DragTest\'\n// import {ScaleTest} from \'../../core/demo/ScaleTest\'\n// import {BlendModeTest} from \'../../core/demo/BlendModeTest\'\n\n\n\nvar game;\n/* harmony default export */ var Clipvue_type_script_lang_js_ = ({\n  data: function data() {\n    return {\n      hide: false,\n      url: \'./logo.png\',\n      preview: false,\n      blob: null,\n      info: null,\n      scaleId: 0,\n      // clipWidth: 0,\n      // clipHeight: 0,\n      scales: [{\n        label: "无缩放",\n        value: 1\n      }, {\n        label: "750px",\n        value: 750\n      }, {\n        label: "30%",\n        value: 0.3\n      }, {\n        label: "50%",\n        value: 0.5\n      }, {\n        label: "70%",\n        value: 0.7\n      }],\n      style: {},\n      pic: {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0,\n        padding: 0\n      },\n      img: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    game = new Game["Game"](this.$refs.canvas);\n    game.reset(new ClipTest["ClipTest"]());\n    listener["default"].on("clipEnd", function (url, blob, info) {\n      _this.preview = true;\n      _this.url = url;\n      _this.blob = blob;\n      _this.info = info;\n      console.log(info, "info");\n    });\n    listener["default"].on("move", function (offset) {\n      var _this$pic = _this.pic,\n          top = _this$pic.top,\n          left = _this$pic.left,\n          width = _this$pic.width,\n          height = _this$pic.height,\n          padding = _this$pic.padding;\n\n      if (width > height) {\n        left += offset.x;\n\n        if (left + width + padding < window.innerWidth) {\n          left = window.innerWidth - (width + padding);\n        } else if (left > padding) {\n          left = padding;\n        }\n      } else {\n        top += offset.y;\n\n        if (top + height + padding < window.innerWidth) {\n          top = window.innerWidth - (height + padding);\n        } else if (top > padding) {\n          top = padding;\n        }\n      }\n\n      _this.pic.left = left;\n      _this.pic.top = top;\n\n      _this.update();\n    });\n    listener["default"].on("pre-div", function (rect) {\n      var left = rect.left;\n      var top = rect.top;\n      var width = rect.right - rect.left;\n      var height = rect.bottom - rect.top;\n      var padding = Math.min(left, top);\n\n      if (width > height) {\n        width = _this.img.width * height / _this.img.height;\n      } else {\n        height = _this.img.height * width / _this.img.width;\n      }\n\n      var r = window.innerWidth / 750;\n      width = width * r;\n      height = height * r;\n      left = left * r;\n      top = top * r;\n      padding = padding * r;\n      _this.pic = {\n        left: left,\n        top: top,\n        width: width,\n        height: height,\n        padding: padding\n      };\n      console.log(_this.pic, "pic");\n\n      _this.update();\n    });\n  },\n  methods: {\n    getQueryString: function getQueryString(name) {\n      var reg = new RegExp(\'(^|&)\' + name + \'=([^&]*)(&|$)\', \'i\');\n      var r = window.location.search.substr(1).match(reg);\n\n      if (r != null) {\n        return unescape(r[2]);\n      }\n\n      return null;\n    },\n    quit: function quit() {\n      this.preview = false;\n    },\n    sure: function sure() {\n      this.preview = false;\n      var data = {\n        type: "complete",\n        url: this.url,\n        blob: this.blob,\n        info: this.info\n      };\n      console.log("裁剪完成", data);\n      window.parent.postMessage(data);\n    },\n    changeSize: function changeSize(n) {\n      this.scaleId = n;\n\n      if (this.scaleId == 1) {\n        listener["default"].emit("clipStart", this.scales[this.scaleId].value / this.info.originSize.width);\n      } else {\n        listener["default"].emit("clipStart", this.scales[this.scaleId].value);\n      }\n    },\n    clip: function clip() {\n      listener["default"].emit("clipStart", 1);\n    },\n    onChange: function onChange(type) {\n      listener["default"].emit("transform", type);\n    },\n    update: function update() {\n      var obj = {\n        top: this.pic.top + "px",\n        left: this.pic.left + "px",\n        width: this.pic.width + "px",\n        height: this.pic.height + "px"\n      };\n      var style = Object.assign(this.style, obj);\n      this.style = style;\n    },\n    preEnd: function preEnd() {\n      var r = window.innerWidth / 750;\n      var _this$pic2 = this.pic,\n          left = _this$pic2.left,\n          top = _this$pic2.top,\n          width = _this$pic2.width,\n          height = _this$pic2.height;\n      listener["default"].emit("preClip", {\n        left: left / r,\n        top: top / r,\n        width: width / r,\n        height: height / r,\n        img: this.img\n      });\n      listener["default"].emit("preStart", false);\n      this.hide = false;\n    },\n    preCancel: function preCancel() {\n      listener["default"].emit("preStart", false);\n      this.hide = false;\n    },\n    preStart: function preStart() {\n      var _this2 = this;\n\n      listener["default"].emit("preStart", true);\n      this.hide = true;\n      var url = this.getQueryString("url");\n      this.style = {\n        backgroundImage: "url(" + url + ")",\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      };\n      var img = new Image();\n\n      img.onload = function () {\n        _this2.img = img;\n        listener["default"].emit("pre-scale", img.width > img.height);\n      };\n\n      img.src = url;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/Clip/index.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_Clipvue_type_script_lang_js_ = (Clipvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/Clip/index.vue?vue&type=style&index=0&id=0cdbbef0&lang=less&scoped=true&\nvar Clipvue_type_style_index_0_id_0cdbbef0_lang_less_scoped_true_ = __webpack_require__("5cfe");\n\n// EXTERNAL MODULE: ./node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("4023");\n\n// CONCATENATED MODULE: ./src/components/Clip/index.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  components_Clipvue_type_script_lang_js_,\n  Clipvue_type_template_id_0cdbbef0_scoped_true_render,\n  Clipvue_type_template_id_0cdbbef0_scoped_true_staticRenderFns,\n  false,\n  null,\n  "0cdbbef0",\n  null\n  \n)\n\n/* harmony default export */ var Clip = (component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!./node_modules/_vue-loader@15.9.2@vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n// import Stage from \'./components/Stage\'\n\n/* harmony default export */ var Appvue_type_script_lang_js_ = ({\n  name: \'App\',\n  components: {\n    Clip: Clip\n  }\n});\n// CONCATENATED MODULE: ./src/App.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_Appvue_type_script_lang_js_ = (Appvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/App.vue?vue&type=style&index=0&lang=css&\nvar Appvue_type_style_index_0_lang_css_ = __webpack_require__("034f");\n\n// CONCATENATED MODULE: ./src/App.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar App_component = Object(componentNormalizer["a" /* default */])(\n  src_Appvue_type_script_lang_js_,\n  Appvue_type_template_id_74765888_render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var App = (App_component.exports);\n// CONCATENATED MODULE: ./src/main.js\n\n\n\n\n\n\n\n// import \'lib-flexible\'\n\n\n\n(function () {\n  var active = false;\n\n  if (location.search.indexOf("eruda=true") != -1) {\n    active = true;\n  } else {\n    if (localStorage.getItem("active-eruda") == "true") {\n      active = true;\n    }\n  }\n\n  if (!active) return;\n  var script = document.createElement("script");\n  script.src = "//cdn.bootcss.com/eruda/1.3.0/eruda.min.js";\n  document.body.appendChild(script);\n  script = document.createElement("script");\n  script.innerHTML = \'setTimeout(function(){eruda.init();console.log("eruda.init");}, 3000);\';\n  document.body.appendChild(script);\n})();\n\nvue_runtime_esm["a" /* default */].config.productionTip = false;\nnew vue_runtime_esm["a" /* default */]({\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount(\'#app\');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnZ1ZT9jOTRlIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0NsaXAvaW5kZXgudnVlP2VhZDciLCJ3ZWJwYWNrOi8vL3NyYy9jb21wb25lbnRzL0NsaXAvaW5kZXgudnVlPzg1MDIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQ2xpcC9pbmRleC52dWU/MGEyOCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DbGlwL2luZGV4LnZ1ZT83NDg0Iiwid2VicGFjazovLy9zcmMvQXBwLnZ1ZT9jNjVkIiwid2VicGFjazovLy8uL3NyYy9BcHAudnVlP2FjYTgiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC52dWU/Nzc0YyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz81NmQ3Il0sIm5hbWVzIjpbImFjdGl2ZSIsImxvY2F0aW9uIiwic2VhcmNoIiwiaW5kZXhPZiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJWdWUiLCJjb25maWciLCJwcm9kdWN0aW9uVGlwIiwicmVuZGVyIiwiaCIsIkFwcCIsIiRtb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUksdUNBQU0sZ0JBQWdCLGFBQWEsMEJBQTBCLHdCQUF3QixpQkFBaUIsT0FBTyxZQUFZO0FBQzdIOzs7Ozs7QUNEQSxJQUFJLG9EQUFNLGdCQUFnQixhQUFhLDBCQUEwQix3QkFBd0IsaUJBQWlCLG9CQUFvQixZQUFZLHdCQUF3QixnQkFBZ0IsbUJBQW1CLGVBQWUseUNBQXlDLGdCQUFnQixZQUFZLHNCQUFzQixZQUFZLG1CQUFtQixZQUFZLHNCQUFzQix5QkFBeUIsa0NBQWtDLFlBQVksNkJBQTZCLGNBQWMsc0JBQXNCLHlCQUF5QixtQ0FBbUMsWUFBWSw4QkFBOEIs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LCtCQUFNO0FBQ1IsRUFBRSx1Q0FBTTtBQUNSLEVBQUUsZUFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFZSxxREFBUyxROzs7Ozs7Ozs7QUNuQnhCO0FBQ0E7QUFDQTs7QUFFQSxDQUFDLFlBQVk7QUFDVCxNQUFJQSxNQUFNLEdBQUcsS0FBYjs7QUFDQSxNQUFHQyxRQUFRLENBQUNDLE1BQVQsQ0FBZ0JDLE9BQWhCLENBQXdCLFlBQXhCLEtBQXlDLENBQUMsQ0FBN0MsRUFBK0M7QUFDM0NILFVBQU0sR0FBRyxJQUFUO0FBQ0gsR0FGRCxNQUdJO0FBQ0EsUUFBR0ksWUFBWSxDQUFDQyxPQUFiLENBQXFCLGNBQXJCLEtBQXdDLE1BQTNDLEVBQWtEO0FBQzlDTCxZQUFNLEdBQUcsSUFBVDtBQUNIO0FBQ0o7O0FBQ0QsTUFBSSxDQUFDQSxNQUFMLEVBQWE7QUFDYixNQUFJTSxNQUFNLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixRQUF2QixDQUFiO0FBQ0FGLFFBQU0sQ0FBQ0csR0FBUCxHQUFhLDRDQUFiO0FBQ0FGLFVBQVEsQ0FBQ0csSUFBVCxDQUFjQyxXQUFkLENBQTBCTCxNQUExQjtBQUNBQSxRQUFNLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixRQUF2QixDQUFUO0FBQ0FGLFFBQU0sQ0FBQ00sU0FBUCxHQUFtQix3RUFBbkI7QUFDQUwsVUFBUSxDQUFDRyxJQUFULENBQWNDLFdBQWQsQ0FBMEJMLE1BQTFCO0FBQ0gsQ0FqQkQ7O0FBbUJBTyxrQ0FBRyxDQUFDQyxNQUFKLENBQVdDLGFBQVgsR0FBMkIsS0FBM0I7QUFFQSxJQUFJRixrQ0FBSixDQUFRO0FBQ05HLFFBQU0sRUFBRSxnQkFBQUMsQ0FBQztBQUFBLFdBQUlBLENBQUMsQ0FBQ0MsR0FBRCxDQUFMO0FBQUE7QUFESCxDQUFSLEVBRUdDLE1BRkgsQ0FFVSxNQUZWIiwiZmlsZSI6IjU2ZDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7YXR0cnM6e1wiaWRcIjpcImFwcFwifX0sW19jKCdDbGlwJyldLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJzdGFnZVwifSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYmdcIixjbGFzczp7J3ByZSc6IF92bS5oaWRlfSxzdHlsZTooX3ZtLnN0eWxlKX0pLF9jKCdjYW52YXMnLHtyZWY6XCJjYW52YXNcIixzdGF0aWNDbGFzczpcImNhbnZhc1wiLGNsYXNzOntoaWRlOiBfdm0uaGlkZX19KSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJjb250cm9sXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJidG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vbkNoYW5nZSgnZml0V2lkdGgnKX19fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaWNvIHNpemUgd2lkdGhcIn0pXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYm94XCIsb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe3JldHVybiBfdm0ub25DaGFuZ2UoJ2ZpdEhlaWdodCcpfX19LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpY28gc2l6ZSBoZWlnaHRcIn0pXSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJidG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vbkNoYW5nZSgncm90YXRlTGVmdCcpfX19LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpY28gcm90YXRlIGxlZnRcIn0pXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYm94XCIsb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe3JldHVybiBfdm0ub25DaGFuZ2UoJ3JvdGF0ZVJpZ2h0Jyl9fX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImljbyByb3RhdGUgcmlnaHRcIn0pXSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJidG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vbkNoYW5nZSgndHVyblgnKX19fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaWNvIHR1cm4geFwifSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vbkNoYW5nZSgndHVyblknKX19fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaWNvIHR1cm4geVwifSldKV0pXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiY2xpcC1idG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJjbGlwIGJ0blwiLG9uOntcImNsaWNrXCI6X3ZtLnByZVN0YXJ0fX0sW192bS5fdihcIumihOWkhOeQhlwiKV0pLF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcImNsaXAgYnRuXCIsb246e1wiY2xpY2tcIjpfdm0ucHJlQ2FuY2VsfX0sW192bS5fdihcIsOXXCIpXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiY2xpcCBidG5cIixvbjp7XCJjbGlja1wiOl92bS5wcmVFbmR9fSxbX3ZtLl92KFwi4oiaXCIpXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiY2xpcCBidG5cIixvbjp7XCJjbGlja1wiOl92bS5jbGlwfX0sW192bS5fdihcIuijgeWJqlwiKV0pXSksKF92bS5wcmV2aWV3KT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJwcmV2aWV3XCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImltZy1ib3hcIn0sWyhfdm0udXJsKT9fYygnaW1nJyx7c3RhdGljQ2xhc3M6XCJpbWdcIixhdHRyczp7XCJzcmNcIjpfdm0udXJsfX0pOl92bS5fZSgpXSksKF92bS5pbmZvKT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpbmZvXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ0aXBcIn0sW192bS5fdihcIuWOn+Wni+WwuuWvuO+8mlwiK192bS5fcyhfdm0uaW5mby5vcmlnaW5TaXplLndpZHRoKStcInhcIitfdm0uX3MoX3ZtLmluZm8ub3JpZ2luU2l6ZS5oZWlnaHQpKV0pLF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInRpcFwifSxbX3ZtLl92KFwi6KOB5Ymq5bC65a+477yaXCIrX3ZtLl9zKF92bS5pbmZvLmNsaXBTaXplLndpZHRoKStcInhcIitfdm0uX3MoX3ZtLmluZm8uY2xpcFNpemUuaGVpZ2h0KSldKV0pOl92bS5fZSgpLF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInNjYWxlXCJ9LF92bS5fbCgoX3ZtLnNjYWxlcyksZnVuY3Rpb24oaXRlbSxpbmRleCl7cmV0dXJuIF9jKCdkaXYnLHtrZXk6aXRlbS5sYWJlbCxzdGF0aWNDbGFzczpcInNpemVcIixjbGFzczp7c2VsZWN0ZWQ6X3ZtLnNjYWxlSWQ9PWluZGV4fSxvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5jaGFuZ2VTaXplKGluZGV4KX19fSxbX3ZtLl92KF92bS5fcyhpdGVtLmxhYmVsKSldKX0pLDApLF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInJlc3VsdC1idG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJidG5cIixvbjp7XCJjbGlja1wiOl92bS5xdWl0fX0sW192bS5fdihcIuWPlua2iFwiKV0pLF9jKCdkaXYnLHtzdGF0aWNDbGFzczpcInN1cmUgYnRuXCIsb246e1wiY2xpY2tcIjpfdm0uc3VyZX19LFtfdm0uX3YoXCLnoa7lrppcIildKV0pXSldKTpfdm0uX2UoKV0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XG4gICAgPGRpdiBjbGFzcz1cInN0YWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZ1wiIDpzdHlsZT1cInN0eWxlXCIgOmNsYXNzPVwieydwcmUnOiBoaWRlfVwiPjwvZGl2PlxuICAgICAgICA8Y2FudmFzIGNsYXNzPVwiY2FudmFzXCIgOmNsYXNzPVwie2hpZGV9XCIgcmVmPVwiY2FudmFzXCI+PC9jYW52YXM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hcIiBAY2xpY2s9XCJvbkNoYW5nZSgnZml0V2lkdGgnKVwiPjxkaXYgY2xhc3M9XCJpY28gc2l6ZSB3aWR0aFwiPjwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hcIiBAY2xpY2s9XCJvbkNoYW5nZSgnZml0SGVpZ2h0JylcIj48ZGl2IGNsYXNzPVwiaWNvIHNpemUgaGVpZ2h0XCI+PC9kaXY+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bnNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25DaGFuZ2UoJ3JvdGF0ZUxlZnQnKVwiPjxkaXYgY2xhc3M9XCJpY28gcm90YXRlIGxlZnRcIj48L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25DaGFuZ2UoJ3JvdGF0ZVJpZ2h0JylcIj48ZGl2IGNsYXNzPVwiaWNvIHJvdGF0ZSByaWdodFwiPjwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG5zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveFwiIEBjbGljaz1cIm9uQ2hhbmdlKCd0dXJuWCcpXCI+PGRpdiBjbGFzcz1cImljbyB0dXJuIHhcIj48L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25DaGFuZ2UoJ3R1cm5ZJylcIj48ZGl2IGNsYXNzPVwiaWNvIHR1cm4geVwiPjwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGlwLWJ0bnNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGlwIGJ0blwiIEBjbGljaz1cInByZVN0YXJ0XCI+6aKE5aSE55CGPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xpcCBidG5cIiBAY2xpY2s9XCJwcmVDYW5jZWxcIj7DlzwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsaXAgYnRuXCIgQGNsaWNrPVwicHJlRW5kXCI+4oiaPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xpcCBidG5cIiBAY2xpY2s9XCJjbGlwXCI+6KOB5YmqPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3XCIgdi1pZj1cInByZXZpZXdcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1nLWJveFwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHYtaWY9XCJ1cmxcIiA6c3JjPVwidXJsXCIgY2xhc3M9XCJpbWdcIj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvXCIgdi1pZj1cImluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpcFwiPuWOn+Wni+WwuuWvuO+8mnt7aW5mby5vcmlnaW5TaXplLndpZHRofX14e3tpbmZvLm9yaWdpblNpemUuaGVpZ2h0fX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpcFwiPuijgeWJquWwuuWvuO+8mnt7aW5mby5jbGlwU2l6ZS53aWR0aH19eHt7aW5mby5jbGlwU2l6ZS5oZWlnaHR9fTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNjYWxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaXplXCIgQGNsaWNrPVwiY2hhbmdlU2l6ZShpbmRleClcIiA6Y2xhc3M9XCJ7c2VsZWN0ZWQ6c2NhbGVJZD09aW5kZXh9XCIgdi1mb3I9XCIoaXRlbSwgaW5kZXgpIGluIHNjYWxlc1wiIHYtYmluZDprZXk9XCJpdGVtLmxhYmVsXCI+e3tpdGVtLmxhYmVsfX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzdWx0LWJ0bnNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0blwiIEBjbGljaz1cInF1aXRcIj7lj5bmtog8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1cmUgYnRuXCIgQGNsaWNrPVwic3VyZVwiPuehruWumjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHtHYW1lfSBmcm9tICcuLi8uLi9jb3JlL2RlbW8vR2FtZSdcbi8vIGltcG9ydCB7U3ByaXRlVGVzdH0gZnJvbSAnLi4vLi4vY29yZS9kZW1vL1Nwcml0ZVRlc3QnXG4vLyBpbXBvcnQge1Bvc2l0aW9uVGVzdH0gZnJvbSAnLi4vLi4vY29yZS9kZW1vL1Bvc2l0aW9uVGVzdCdcbi8vIGltcG9ydCB7U2hhcGVUZXN0fSBmcm9tICcuLi8uLi9jb3JlL2RlbW8vU2hhcGVUZXN0J1xuLy8gaW1wb3J0IHtUZXh0VGVzdH0gZnJvbSAnLi4vLi4vY29yZS9kZW1vL1RleHRUZXN0J1xuLy8gaW1wb3J0IHtEcmFnVGVzdH0gZnJvbSAnLi4vLi4vY29yZS9kZW1vL0RyYWdUZXN0J1xuLy8gaW1wb3J0IHtTY2FsZVRlc3R9IGZyb20gJy4uLy4uL2NvcmUvZGVtby9TY2FsZVRlc3QnXG4vLyBpbXBvcnQge0JsZW5kTW9kZVRlc3R9IGZyb20gJy4uLy4uL2NvcmUvZGVtby9CbGVuZE1vZGVUZXN0J1xuaW1wb3J0IHtDbGlwVGVzdH0gZnJvbSAnLi4vLi4vY29yZS9kZW1vL0NsaXBUZXN0J1xuXG5pbXBvcnQgbGlzdGVuZXIgZnJvbSAnLi4vLi4vY29yZS9saXN0ZW5lcidcblxubGV0IGdhbWU7XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZGF0YSgpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGlkZTogZmFsc2UsXG4gICAgICAgICAgICB1cmw6ICcuL2xvZ28ucG5nJyxcbiAgICAgICAgICAgIHByZXZpZXc6IGZhbHNlLFxuICAgICAgICAgICAgYmxvYjogbnVsbCxcbiAgICAgICAgICAgIGluZm86IG51bGwsXG4gICAgICAgICAgICBzY2FsZUlkOiAwLFxuICAgICAgICAgICAgLy8gY2xpcFdpZHRoOiAwLFxuICAgICAgICAgICAgLy8gY2xpcEhlaWdodDogMCxcbiAgICAgICAgICAgIHNjYWxlczogW1xuICAgICAgICAgICAgICAgIHtsYWJlbDogXCLml6DnvKnmlL5cIiwgdmFsdWU6IDF9LFxuICAgICAgICAgICAgICAgIHtsYWJlbDogXCI3NTBweFwiLCB2YWx1ZTogNzUwfSxcbiAgICAgICAgICAgICAgICB7bGFiZWw6IFwiMzAlXCIsIHZhbHVlOiAwLjN9LFxuICAgICAgICAgICAgICAgIHtsYWJlbDogXCI1MCVcIiwgdmFsdWU6IDAuNX0sXG4gICAgICAgICAgICAgICAge2xhYmVsOiBcIjcwJVwiLCB2YWx1ZTogMC43fVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHN0eWxlOiB7fSxcbiAgICAgICAgICAgIHBpYzoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1nOiBudWxsLFxuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkKCl7XG4gICAgICAgIGdhbWUgPSBuZXcgR2FtZSh0aGlzLiRyZWZzLmNhbnZhcyk7XG4gICAgICAgIGdhbWUucmVzZXQobmV3IENsaXBUZXN0KTtcbiAgICAgICAgXG4gICAgICAgIGxpc3RlbmVyLm9uKFwiY2xpcEVuZFwiLCAodXJsLCBibG9iLCBpbmZvKT0+e1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICAgICAgdGhpcy5ibG9iID0gYmxvYjtcbiAgICAgICAgICAgIHRoaXMuaW5mbyA9IGluZm87XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpbmZvLCBcImluZm9cIik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgbGlzdGVuZXIub24oXCJtb3ZlXCIsIG9mZnNldCA9PiB7XG4gICAgICAgICAgICB2YXIge3RvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFkZGluZ30gPSB0aGlzLnBpYztcblxuICAgICAgICAgICAgaWYod2lkdGggPiBoZWlnaHQpe1xuICAgICAgICAgICAgICAgIGxlZnQgKz0gb2Zmc2V0Lng7XG4gICAgICAgICAgICAgICAgaWYobGVmdCArIHdpZHRoICsgcGFkZGluZyA8IHdpbmRvdy5pbm5lcldpZHRoKXtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gKHdpZHRoICsgcGFkZGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYobGVmdCA+IHBhZGRpbmcpe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRvcCArPSBvZmZzZXQueTtcbiAgICAgICAgICAgICAgICBpZih0b3AgKyBoZWlnaHQgKyBwYWRkaW5nIDwgd2luZG93LmlubmVyV2lkdGgpe1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIChoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZih0b3AgPiBwYWRkaW5nKXtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gcGFkZGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucGljLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5waWMudG9wID0gdG9wO1xuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsaXN0ZW5lci5vbihcInByZS1kaXZcIiwgcmVjdCA9PiB7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IHJlY3QubGVmdDtcbiAgICAgICAgICAgIHZhciB0b3AgPSByZWN0LnRvcDtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gTWF0aC5taW4obGVmdCwgdG9wKTtcblxuICAgICAgICAgICAgaWYod2lkdGggPiBoZWlnaHQpe1xuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5pbWcud2lkdGggKiBoZWlnaHQgLyB0aGlzLmltZy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuaW1nLmhlaWdodCAqIHdpZHRoIC8gdGhpcy5pbWcud2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByID0gd2luZG93LmlubmVyV2lkdGggLyA3NTA7XG5cbiAgICAgICAgICAgIHdpZHRoID0gd2lkdGggKiByO1xuICAgICAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0ICogcjtcbiAgICAgICAgICAgIGxlZnQgPSBsZWZ0ICogcjtcbiAgICAgICAgICAgIHRvcCA9IHRvcCAqIHI7XG4gICAgICAgICAgICBwYWRkaW5nID0gcGFkZGluZyAqIHI7XG5cbiAgICAgICAgICAgIHRoaXMucGljID0ge2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgcGFkZGluZ307XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBpYywgXCJwaWNcIik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBnZXRRdWVyeVN0cmluZyhuYW1lKSB7XG4gICAgICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKF58JiknICsgbmFtZSArICc9KFteJl0qKSgmfCQpJywgJ2knKTtcbiAgICAgICAgICAgIHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcbiAgICAgICAgICAgIGlmIChyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5lc2NhcGUoclsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgcXVpdCgpe1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3ID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHN1cmUoKXtcbiAgICAgICAgICAgIHRoaXMucHJldmlldyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJjb21wbGV0ZVwiLFxuICAgICAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICAgICAgYmxvYjogdGhpcy5ibG9iLFxuICAgICAgICAgICAgICAgIGluZm86IHRoaXMuaW5mb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLoo4HliarlrozmiJBcIiwgZGF0YSk7XG4gICAgICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKGRhdGEpO1xuICAgICAgICB9LFxuICAgICAgICBjaGFuZ2VTaXplKG4pe1xuICAgICAgICAgICAgdGhpcy5zY2FsZUlkID0gbjtcbiAgICAgICAgICAgIGlmKHRoaXMuc2NhbGVJZCA9PSAxKXtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5lbWl0KFwiY2xpcFN0YXJ0XCIsIHRoaXMuc2NhbGVzW3RoaXMuc2NhbGVJZF0udmFsdWUgLyB0aGlzLmluZm8ub3JpZ2luU2l6ZS53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmVtaXQoXCJjbGlwU3RhcnRcIiwgdGhpcy5zY2FsZXNbdGhpcy5zY2FsZUlkXS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNsaXAoKXtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVtaXQoXCJjbGlwU3RhcnRcIiwgMSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2hhbmdlKHR5cGUpe1xuICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcInRyYW5zZm9ybVwiLCB0eXBlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlKCl7XG4gICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgIHRvcDogdGhpcy5waWMudG9wICsgXCJweFwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMucGljLmxlZnQgKyBcInB4XCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMucGljLndpZHRoICsgXCJweFwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5waWMuaGVpZ2h0ICsgXCJweFwiLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0eWxlID0gT2JqZWN0LmFzc2lnbih0aGlzLnN0eWxlLCBvYmopO1xuICAgICAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBwcmVFbmQoKXtcbiAgICAgICAgICAgIHZhciByID0gd2luZG93LmlubmVyV2lkdGggLyA3NTA7XG4gICAgICAgICAgICB2YXIge2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodH0gPSB0aGlzLnBpYztcbiAgICAgICAgICAgIGxpc3RlbmVyLmVtaXQoXCJwcmVDbGlwXCIsIHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0IC8gcixcbiAgICAgICAgICAgICAgICB0b3A6IHRvcCAvIHIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoIC8gcixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAvIHIsXG4gICAgICAgICAgICAgICAgaW1nOiB0aGlzLmltZ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbWl0KFwicHJlU3RhcnRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5oaWRlID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHByZUNhbmNlbCgpe1xuICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcInByZVN0YXJ0XCIsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBwcmVTdGFydCgpe1xuICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcInByZVN0YXJ0XCIsIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmhpZGUgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMuZ2V0UXVlcnlTdHJpbmcoXCJ1cmxcIik7XG4gICAgICAgICAgICB0aGlzLnN0eWxlID0ge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXCIgKyB1cmwgKyBcIilcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmltZyA9IGltZztcblxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmVtaXQoXCJwcmUtc2NhbGVcIiwgaW1nLndpZHRoID4gaW1nLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9LFxufVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwibGVzc1wiIHNjb3BlZD5cbkBpbXBvcnQgJy4vaW5kZXgubGVzcyc7XG48L3N0eWxlPiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDQuMS4wQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuMkB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX2NhY2hlLWxvYWRlckA0LjEuMEBjYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjJAdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTBjZGJiZWYwJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTBjZGJiZWYwJmxhbmc9bGVzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuMkB2dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjBjZGJiZWYwXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGlkPVwiYXBwXCI+XG4gICAgPENsaXAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG4vLyBpbXBvcnQgU3RhZ2UgZnJvbSAnLi9jb21wb25lbnRzL1N0YWdlJ1xuaW1wb3J0IENsaXAgZnJvbSAnLi9jb21wb25lbnRzL0NsaXAnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ0FwcCcsXG4gIGNvbXBvbmVudHM6IHtcbiAgICBDbGlwXG4gIH1cbn1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG5odG1sLCBib2R5e1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xufVxuPC9zdHlsZT5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9fY2FjaGUtbG9hZGVyQDQuMS4wQGNhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vbm9kZV9tb2R1bGVzL192dWUtbG9hZGVyQDE1LjkuMkB2dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQXBwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJANC4xLjBAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuOS4yQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BcHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTc0NzY1ODg4JlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL0FwcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL0FwcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vQXBwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuOS4yQHZ1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiLy8gaW1wb3J0ICdsaWItZmxleGlibGUnXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJ1xuXG4oZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY3RpdmUgPSBmYWxzZTtcbiAgICBpZihsb2NhdGlvbi5zZWFyY2guaW5kZXhPZihcImVydWRhPXRydWVcIikgIT0gLTEpe1xuICAgICAgICBhY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNle1xuICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImFjdGl2ZS1lcnVkYVwiKSA9PSBcInRydWVcIil7XG4gICAgICAgICAgICBhY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYWN0aXZlKSByZXR1cm47XG4gICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgc2NyaXB0LnNyYyA9IFwiLy9jZG4uYm9vdGNzcy5jb20vZXJ1ZGEvMS4zLjAvZXJ1ZGEubWluLmpzXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgc2NyaXB0LmlubmVySFRNTCA9ICdzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZXJ1ZGEuaW5pdCgpO2NvbnNvbGUubG9nKFwiZXJ1ZGEuaW5pdFwiKTt9LCAzMDAwKTsnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn0pKCk7XG5cblZ1ZS5jb25maWcucHJvZHVjdGlvblRpcCA9IGZhbHNlO1xuXG5uZXcgVnVlKHtcbiAgcmVuZGVyOiBoID0+IGgoQXBwKSxcbn0pLiRtb3VudCgnI2FwcCcpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///56d7\n')},"5cfe":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0cdbbef0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("7691");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0cdbbef0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0cdbbef0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_mini_css_extract_plugin_0_9_0_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_3_5_3_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_15_9_2_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_4_1_0_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_9_2_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_0cdbbef0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DbGlwL2luZGV4LnZ1ZT8wNmRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUE0cUIsQ0FBZ0IsdXJCQUFHLEVBQUMiLCJmaWxlIjoiNWNmZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19taW5pLWNzcy1leHRyYWN0LXBsdWdpbkAwLjkuMEBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS0xMC1vbmVPZi0xLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDMuNS4zQGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTAtb25lT2YtMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjJAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tMTAtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJANC4xLjBAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuOS4yQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wY2RiYmVmMCZsYW5nPWxlc3Mmc2NvcGVkPXRydWUmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19taW5pLWNzcy1leHRyYWN0LXBsdWdpbkAwLjkuMEBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS0xMC1vbmVPZi0xLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDMuNS4zQGNzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTAtb25lT2YtMS0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9fdnVlLWxvYWRlckAxNS45LjJAdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19wb3N0Y3NzLWxvYWRlckAzLjAuMEBwb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tMTAtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL19jYWNoZS1sb2FkZXJANC4xLjBAY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvX3Z1ZS1sb2FkZXJAMTUuOS4yQHZ1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0wY2RiYmVmMCZsYW5nPWxlc3Mmc2NvcGVkPXRydWUmXCIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5cfe\n')},"6a68":function(module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar listener_1 = __importDefault(__webpack_require__(\"2643\"));\nvar ScaleTooler = /** @class */ (function () {\n    function ScaleTooler(frameView, target) {\n        this.points = [];\n        this.frameView = frameView;\n        this.target = target;\n        this.frameView.interactive = true;\n        this.frameView.on('pointerdown', this.onDragStart.bind(this));\n        this.frameView.on('pointerup', this.onDragEnd, this);\n        this.frameView.on('pointerupoutside', this.onDragEnd, this);\n        this.frameView.on('pointermove', this.onDragMove, this);\n    }\n    ScaleTooler.prototype.onDragStart = function (e) {\n        var local = e.data.getLocalPosition(this.frameView);\n        this.dragging = true;\n        this.startPot = local;\n        this.inFrame = this.frameView.hitFrame(e);\n        this.points.push({\n            data: e.data.getLocalPosition(this.frameView),\n            global: e.data.global,\n            id: e.data.identifier\n        });\n        if (this.points.length == 2) {\n            this.center = this.getCenter(this.points[0].data, this.points[1].data);\n        }\n    };\n    ScaleTooler.prototype.onDragMove = function (e) {\n        if (!this.dragging)\n            return;\n        var ox, oy;\n        if (this.points.length == 2) {\n            var size = this.getDistance(this.points[0].global, this.points[1].global);\n            if (this.distance) {\n                var width = this.target.width;\n                var height = this.target.height;\n                var scale = this.target.scale.x;\n                if (size > this.distance) {\n                    scale *= 1.01;\n                }\n                else {\n                    scale *= 0.99;\n                }\n                if (scale < 0.1) {\n                    scale = 0.1;\n                }\n                else if (scale > 2.4) {\n                    scale = 2.4;\n                }\n                this.target.scale.set(scale, scale);\n                ox = this.target.width - width;\n                oy = this.target.height - height;\n                this.target.x -= ox * this.center.x / this.target.texture.width;\n                this.target.y -= oy * this.center.y / this.target.texture.height;\n            }\n            else {\n                this.distance = size;\n            }\n        }\n        else {\n            var local = e.data.getLocalPosition(this.frameView);\n            ox = local.x - this.startPot.x;\n            oy = local.y - this.startPot.y;\n            if (this.inFrame) {\n                this.frameView.moveFrame(ox, oy);\n            }\n            else {\n                if (this.target.visible) {\n                    this.target.x += ox;\n                    this.target.y += oy;\n                }\n                else {\n                    //网页预处理截取拖动\n                    listener_1.default.emit(\"move\", { x: ox, y: oy });\n                }\n            }\n            this.startPot = local;\n        }\n    };\n    ScaleTooler.prototype.onDragEnd = function (e) {\n        this.points = this.points.filter(function (item) { return item.id != e.data.identifier; });\n        if (this.points.length != 2) {\n            this.distance = 0;\n            this.dragging = false;\n            this.center = null;\n        }\n    };\n    ScaleTooler.prototype.getDistance = function (a, b) {\n        return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n    };\n    ScaleTooler.prototype.getCenter = function (a, b) {\n        return {\n            x: (a.x + b.x) / 2,\n            y: (a.y + b.y) / 2\n        };\n    };\n    return ScaleTooler;\n}());\nexports.default = ScaleTooler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90b29sZXIvU2NhbGVUb29sZXIudHM/MWJhOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUVBLDhEQUFrQztBQUVsQztJQVdJLHFCQUFZLFNBQW1CLEVBQUUsTUFBa0I7UUFKbkQsV0FBTSxHQUFTLEVBQUUsQ0FBQztRQUtkLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBRXJCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUNsQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVELENBQUM7SUFHRCxpQ0FBVyxHQUFYLFVBQVksQ0FBSztRQUNiLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBRXRCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUMsSUFB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R0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRCwrQkFBUyxHQUFULFVBQVUsQ0FBSyxFQUFFLENBQUs7UUFDbEIsT0FBTztZQUNILENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7WUFDbEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztTQUNyQjtJQUNMLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUMiLCJmaWxlIjoiNmE2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQgRnJhbWVWaWV3IGZyb20gJy4uL3ZpZXcvRnJhbWVWaWV3JztcbmltcG9ydCBsaXN0ZW5lciBmcm9tICcuLi9saXN0ZW5lcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhbGVUb29sZXJ7XG5cbiAgICBmcmFtZVZpZXc6RnJhbWVWaWV3O1xuICAgIGRyYWdnaW5nOmJvb2xlYW47XG4gICAgc3RhcnRQb3Q6YW55O1xuICAgIGRpc3RhbmNlOm51bWJlcjtcbiAgICBjZW50ZXI6YW55O1xuICAgIHBvaW50czphbnlbXSA9IFtdO1xuICAgIHRhcmdldDpQSVhJLlNwcml0ZTtcbiAgICBpbkZyYW1lOkJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihmcmFtZVZpZXc6RnJhbWVWaWV3LCB0YXJnZXQ6UElYSS5TcHJpdGUpe1xuICAgICAgICB0aGlzLmZyYW1lVmlldyA9IGZyYW1lVmlldztcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgICAgdGhpcy5mcmFtZVZpZXcuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmZyYW1lVmlldy5vbigncG9pbnRlcmRvd24nLCB0aGlzLm9uRHJhZ1N0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmZyYW1lVmlldy5vbigncG9pbnRlcnVwJywgdGhpcy5vbkRyYWdFbmQsIHRoaXMpO1xuICAgICAgICB0aGlzLmZyYW1lVmlldy5vbigncG9pbnRlcnVwb3V0c2lkZScsIHRoaXMub25EcmFnRW5kLCB0aGlzKTtcbiAgICAgICAgdGhpcy5mcmFtZVZpZXcub24oJ3BvaW50ZXJtb3ZlJywgdGhpcy5vbkRyYWdNb3ZlLCB0aGlzKTtcbiAgICB9XG5cblxuICAgIG9uRHJhZ1N0YXJ0KGU6YW55KXtcbiAgICAgICAgdmFyIGxvY2FsID0gZS5kYXRhLmdldExvY2FsUG9zaXRpb24odGhpcy5mcmFtZVZpZXcpO1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdGFydFBvdCA9IGxvY2FsO1xuXG4gICAgICAgIHRoaXMuaW5GcmFtZSA9IHRoaXMuZnJhbWVWaWV3LmhpdEZyYW1lKGUpO1xuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHtcbiAgICAgICAgICAgIGRhdGE6IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMuZnJhbWVWaWV3KSxcbiAgICAgICAgICAgIGdsb2JhbDogZS5kYXRhLmdsb2JhbCxcbiAgICAgICAgICAgIGlkOiBlLmRhdGEuaWRlbnRpZmllclxuICAgICAgICB9KTtcblxuICAgICAgICBpZih0aGlzLnBvaW50cy5sZW5ndGggPT0gMil7XG4gICAgICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyKHRoaXMucG9pbnRzWzBdLmRhdGEsIHRoaXMucG9pbnRzWzFdLmRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EcmFnTW92ZShlOmFueSl7XG4gICAgICAgIGlmKCF0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cbiAgICAgICAgdmFyIG94LCBveTtcbiAgICAgICAgaWYodGhpcy5wb2ludHMubGVuZ3RoID09IDIpe1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmdldERpc3RhbmNlKHRoaXMucG9pbnRzWzBdLmdsb2JhbCwgdGhpcy5wb2ludHNbMV0uZ2xvYmFsKTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGlzdGFuY2Upe1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMudGFyZ2V0LndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnRhcmdldC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gdGhpcy50YXJnZXQuc2NhbGUueDtcbiAgICAgICAgICAgICAgICBpZihzaXplID4gdGhpcy5kaXN0YW5jZSl7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlICo9IDEuMDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlICo9IDAuOTk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoc2NhbGUgPCAwLjEpe1xuICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IDAuMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihzY2FsZSA+IDIuNCl7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gMi40O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5zY2FsZS5zZXQoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgICAgICAgICBveCA9IHRoaXMudGFyZ2V0LndpZHRoIC0gd2lkdGg7XG4gICAgICAgICAgICAgICAgb3kgPSB0aGlzLnRhcmdldC5oZWlnaHQgLSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQueCAtPSBveCAqIHRoaXMuY2VudGVyLnggLyB0aGlzLnRhcmdldC50ZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnkgLT0gb3kgKiB0aGlzLmNlbnRlci55IC8gdGhpcy50YXJnZXQudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICB2YXIgbG9jYWwgPSBlLmRhdGEuZ2V0TG9jYWxQb3NpdGlvbih0aGlzLmZyYW1lVmlldyk7XG4gICAgICAgICAgICBveCA9IGxvY2FsLnggLSB0aGlzLnN0YXJ0UG90Lng7XG4gICAgICAgICAgICBveSA9IGxvY2FsLnkgLSB0aGlzLnN0YXJ0UG90Lnk7XG4gICAgICAgICAgICBpZih0aGlzLmluRnJhbWUpe1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVWaWV3Lm1vdmVGcmFtZShveCwgb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnRhcmdldC52aXNpYmxlKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQueCArPSBveDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQueSArPSBveTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgLy/nvZHpobXpooTlpITnkIbmiKrlj5bmi5bliqhcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcIm1vdmVcIiwge3g6IG94LCB5OiBveX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb3QgPSBsb2NhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRHJhZ0VuZChlOmFueSl7XG4gICAgICAgIHRoaXMucG9pbnRzID0gdGhpcy5wb2ludHMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPSBlLmRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIGlmKHRoaXMucG9pbnRzLmxlbmd0aCAhPSAyKXtcbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RGlzdGFuY2UoYTphbnksIGI6YW55KXtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhLnggLSBiLngsIDIpICsgTWF0aC5wb3coYS55IC0gYi55LCAyKSk7XG4gICAgfVxuXG4gICAgZ2V0Q2VudGVyKGE6YW55LCBiOmFueSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgICAgICB5OiAoYS55ICsgYi55KSAvIDJcbiAgICAgICAgfVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6a68\n")},7691:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9DbGlwL2luZGV4LnZ1ZT9mNzAwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijc2OTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7691\n")},"81b2":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar CanvasTooler = /** @class */ (function () {\n    function CanvasTooler() {\n    }\n    CanvasTooler.getCanvasByUrl = function (url) {\n        return new Promise(function (resolve) {\n            var canvas = document.createElement("canvas");\n            var img = new Image();\n            img.onload = function () {\n                canvas.width = img.width;\n                canvas.height = img.height;\n                var ctx = canvas.getContext("2d");\n                ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, 0, 0);\n                resolve(canvas);\n            };\n            img.src = url;\n        });\n    };\n    CanvasTooler.scaleCanvas = function (img, x, y) {\n        var canvas = document.createElement("canvas");\n        canvas.width = img.width * Math.abs(x);\n        canvas.height = img.height * Math.abs(y);\n        var ctx = canvas.getContext("2d");\n        ctx === null || ctx === void 0 ? void 0 : ctx.save();\n        // ctx?.translate(-img.width / 2, -img.height / 2)\n        ctx === null || ctx === void 0 ? void 0 : ctx.scale(x, y);\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, x > 0 ? 0 : x * img.width, y > 0 ? 0 : y * img.height);\n        ctx === null || ctx === void 0 ? void 0 : ctx.restore();\n        return canvas;\n    };\n    CanvasTooler.rotateCanvas = function (img, angle) {\n        var canvas = document.createElement("canvas");\n        if (angle == 90 || angle == -90) {\n            canvas.width = img.height;\n            canvas.height = img.width;\n        }\n        var ctx = canvas.getContext("2d");\n        ctx === null || ctx === void 0 ? void 0 : ctx.save();\n        // ctx?.translate(-img.width / 2, -img.height / 2)\n        ctx === null || ctx === void 0 ? void 0 : ctx.rotate(angle * Math.PI / 180);\n        if (angle == 90) {\n            ctx === null || ctx === void 0 ? void 0 : ctx.translate(0, -img.height);\n        }\n        else {\n            ctx === null || ctx === void 0 ? void 0 : ctx.translate(-img.width, 0);\n        }\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, 0, 0);\n        ctx === null || ctx === void 0 ? void 0 : ctx.restore();\n        return canvas;\n    };\n    return CanvasTooler;\n}());\nexports.default = CanvasTooler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90b29sZXIvQ2FudmFzVG9vbGVyLnRzPzcyMjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQUFBO0lBMkRBLENBQUM7SUF6RFUsMkJBQWMsR0FBckIsVUFBc0IsR0FBVTtRQUM1QixPQUFPLElBQUksT0FBTyxDQUFDLGlCQUFPO1lBQ3RCLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUMsSUFBSSxHQUFHLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUN0QixHQUFHLENBQUMsTUFBTSxHQUFHO2dCQUNULE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQztnQkFDekIsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO2dCQUMzQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNsQyxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO2dCQUMxQixPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEIsQ0FBQztZQUNELEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2xCLENBQUMsQ0FBQztJQUVOLENBQUM7SUFFTSx3QkFBVyxHQUFsQixVQUFtQixHQUFxQixFQUFFLENBQVEsRUFBRSxDQUFRO1FBQ3hELElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVsQyxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsSUFBSSxHQUFHO1FBQ1osa0RBQWtEO1FBQ2xELEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUVqQixHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsU0FBUyxDQUNWLEdBQUcsRUFDSCxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxFQUN6QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUM1QjtRQUNGLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxPQUFPLEdBQUc7UUFDZixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRU0seUJBQVksR0FBbkIsVUFBb0IsR0FBcUIsRUFBRSxLQUFZO1FBQ25ELElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsSUFBRyxLQUFLLElBQUksRUFBRSxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUUsRUFBQztZQUMzQixNQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDMUIsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO1NBQzdCO1FBQ0QsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVsQyxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsSUFBSSxHQUFHO1FBQ1osa0RBQWtEO1FBQ2xELEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxFQUFFO1FBQ25DLElBQUcsS0FBSyxJQUFJLEVBQUUsRUFBQztZQUNYLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRTtTQUNsQzthQUNHO1lBQ0EsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFO1NBQ2pDO1FBRUQsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUMxQixHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsT0FBTyxHQUFHO1FBQ2YsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiI4MWIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzVG9vbGVye1xuXG4gICAgc3RhdGljIGdldENhbnZhc0J5VXJsKHVybDpzdHJpbmcpe1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZT0+e1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICAgICAgY3R4Py5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGNhbnZhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgc3RhdGljIHNjYWxlQ2FudmFzKGltZzpIVE1MQ2FudmFzRWxlbWVudCwgeDpudW1iZXIsIHk6bnVtYmVyKXtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aCAqIE1hdGguYWJzKHgpO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodCAqIE1hdGguYWJzKHkpO1xuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBjdHg/LnNhdmUoKTtcbiAgICAgICAgLy8gY3R4Py50cmFuc2xhdGUoLWltZy53aWR0aCAvIDIsIC1pbWcuaGVpZ2h0IC8gMilcbiAgICAgICAgY3R4Py5zY2FsZSh4LCB5KTtcbiAgICAgICAgXG4gICAgICAgIGN0eD8uZHJhd0ltYWdlKFxuICAgICAgICAgICAgaW1nLCBcbiAgICAgICAgICAgIHggPiAwID8gMCA6IHggKiBpbWcud2lkdGgsIFxuICAgICAgICAgICAgeSA+IDAgPyAwIDogeSAqIGltZy5oZWlnaHRcbiAgICAgICAgKTtcbiAgICAgICAgY3R4Py5yZXN0b3JlKCk7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfVxuXG4gICAgc3RhdGljIHJvdGF0ZUNhbnZhcyhpbWc6SFRNTENhbnZhc0VsZW1lbnQsIGFuZ2xlOm51bWJlcil7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBpZihhbmdsZSA9PSA5MCB8fCBhbmdsZSA9PSAtOTApe1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLmhlaWdodDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgY3R4Py5zYXZlKCk7XG4gICAgICAgIC8vIGN0eD8udHJhbnNsYXRlKC1pbWcud2lkdGggLyAyLCAtaW1nLmhlaWdodCAvIDIpXG4gICAgICAgIGN0eD8ucm90YXRlKGFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgIGlmKGFuZ2xlID09IDkwKXtcbiAgICAgICAgICAgIGN0eD8udHJhbnNsYXRlKDAsIC1pbWcuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgY3R4Py50cmFuc2xhdGUoLWltZy53aWR0aCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGN0eD8uZHJhd0ltYWdlKGltZywgMCwgMCk7XG4gICAgICAgIGN0eD8ucmVzdG9yZSgpO1xuICAgICAgICByZXR1cm4gY2FudmFzO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81b2\n')},a5d5:function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\n}) : function(o, v) {\n    o["default"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.ClipTest = void 0;\nvar PIXI = __importStar(__webpack_require__("f015"));\nvar BaseScene_1 = __webpack_require__("29f2");\nvar FrameView_1 = __importDefault(__webpack_require__("3e17"));\nvar ScaleTooler_1 = __importDefault(__webpack_require__("6a68"));\nvar listener_1 = __importDefault(__webpack_require__("2643"));\nvar FileTooler_1 = __webpack_require__("de86");\nvar CanvasTooler_1 = __importDefault(__webpack_require__("81b2"));\nvar ClipTest = /** @class */ (function (_super) {\n    __extends(ClipTest, _super);\n    function ClipTest() {\n        var _this = _super.call(this) || this;\n        _this.times = 0;\n        _this.rotation = 0;\n        return _this;\n    }\n    ClipTest.prototype.sleep = function (t) {\n        return new Promise(function (resolve) {\n            setTimeout(function () {\n                resolve();\n            }, t);\n        });\n    };\n    ClipTest.prototype.init = function (width, height, app) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, res, texture, _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _super.prototype.init.call(this, width, height, app);\n                        url = this.getQueryString("url");\n                        console.log("裁剪图片", url);\n                        return [4 /*yield*/, FileTooler_1.FileTooler.isPng(url)];\n                    case 1:\n                        res = _b.sent();\n                        console.log(res, \'png\');\n                        this.png = !!res;\n                        if (!url.startsWith("http")) return [3 /*break*/, 3];\n                        return [4 /*yield*/, this.load(url)];\n                    case 2:\n                        _b.sent();\n                        texture = this.loader.resources[url].texture;\n                        return [3 /*break*/, 4];\n                    case 3:\n                        texture = PIXI.Texture.from(url);\n                        _b.label = 4;\n                    case 4:\n                        _a = this;\n                        return [4 /*yield*/, CanvasTooler_1.default.getCanvasByUrl(url)];\n                    case 5:\n                        _a.imgCanvas = _b.sent();\n                        this.times = 0;\n                        _b.label = 6;\n                    case 6:\n                        if (!(++this.times < 30)) return [3 /*break*/, 8];\n                        return [4 /*yield*/, this.sleep(30)];\n                    case 7:\n                        _b.sent();\n                        console.log("time" + this.times, texture.width);\n                        if (texture.width > 10) {\n                            this.times = 30;\n                        }\n                        return [3 /*break*/, 6];\n                    case 8:\n                        this.setup(texture);\n                        listener_1.default.on("preStart", function (v) {\n                            if (v) {\n                                _this.pic.visible = false;\n                            }\n                            else {\n                                _this.pic.visible = true;\n                            }\n                        });\n                        listener_1.default.on("preClip", function (rect) {\n                            var left = rect.left, top = rect.top, width = rect.width, height = rect.height, padding = rect.padding, img = rect.img;\n                            console.log(rect, "rect");\n                            console.log(_this.frameView.rect, "this.frameView.rect");\n                            var _a = _this.frameView.rect, maxX = _a.maxX, maxY = _a.maxY, minX = _a.minX, minY = _a.minY;\n                            var scale;\n                            if (width > height) {\n                                scale = img.width / width;\n                            }\n                            else {\n                                scale = img.height / height;\n                            }\n                            var x = (minX - left) * scale;\n                            var y = (minY - top) * scale;\n                            var w = (maxX - minX) * scale;\n                            var h = (maxY - minY) * scale;\n                            var div = FileTooler_1.FileTooler.getClipImage(img, x, y, w, h);\n                            // document.body.appendChild(div);\n                            _this.imgCanvas = div;\n                            _this.texture = PIXI.Texture.from(_this.imgCanvas);\n                            _this.pic.texture = _this.texture;\n                            if (w > h) {\n                                _this.fitWidth();\n                            }\n                            else {\n                                _this.fitHeight();\n                            }\n                        });\n                        listener_1.default.on("clipStart", function (scale) {\n                            console.log(scale, "scale");\n                            _this.onDraw(scale);\n                        });\n                        listener_1.default.on("transform", function (key) {\n                            switch (key) {\n                                case "fitWidth":\n                                    _this.fitWidth();\n                                    break;\n                                case "fitHeight":\n                                    _this.fitHeight();\n                                    break;\n                                case "rotateLeft":\n                                    _this.rotateLeft();\n                                    break;\n                                case "rotateRight":\n                                    _this.rotateRight();\n                                    break;\n                                case "turnX":\n                                    _this.turnX();\n                                    break;\n                                case "turnY":\n                                    _this.turnY();\n                                    break;\n                                default:\n                                    break;\n                            }\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ClipTest.prototype.getQueryString = function (name) {\n        var reg = new RegExp(\'(^|&)\' + name + \'=([^&]*)(&|$)\', \'i\');\n        var r = window.location.search.substr(1).match(reg);\n        if (r != null) {\n            return unescape(r[2]);\n        }\n        return null;\n    };\n    ClipTest.prototype.fitWidth = function () {\n        var p = this.frameView.padding;\n        var w = this.texture.width;\n        var h = this.texture.height;\n        var s = (this.width - 2 * p) / w;\n        this.pic.scale.set(s, s);\n        this.pic.position.x = p;\n        this.pic.position.y = this.height / 2 - (s * h) / 2;\n        var l = p;\n        var r = this.width - p;\n        var t = w > h ? this.pic.position.y : p;\n        var b = w > h ? this.height - this.pic.position.y : this.height - p;\n        this.frameView.reset(l, r, t, b);\n    };\n    ClipTest.prototype.fitHeight = function () {\n        var p = this.frameView.padding;\n        var w = this.texture.width;\n        var h = this.texture.height;\n        var s = (this.height - 2 * p) / h;\n        this.pic.scale.set(s, s);\n        this.pic.position.x = this.width / 2 - (s * w) / 2;\n        this.pic.position.y = p;\n        var l = w > h ? p : this.pic.position.x;\n        var r = w > h ? this.width - p : this.width - this.pic.position.x;\n        var t = p;\n        var b = this.height - p;\n        this.frameView.reset(l, r, t, b);\n    };\n    ClipTest.prototype.rotateLeft = function () {\n        this.imgCanvas = CanvasTooler_1.default.rotateCanvas(this.imgCanvas, -90);\n        this.texture = PIXI.Texture.from(this.imgCanvas);\n        this.pic.texture = this.texture;\n        if (this.texture.width > this.texture.height) {\n            this.fitWidth();\n        }\n        else {\n            this.fitHeight();\n        }\n    };\n    ClipTest.prototype.rotateRight = function () {\n        this.imgCanvas = CanvasTooler_1.default.rotateCanvas(this.imgCanvas, 90);\n        this.texture = PIXI.Texture.from(this.imgCanvas);\n        this.pic.texture = this.texture;\n        if (this.texture.width > this.texture.height) {\n            this.fitWidth();\n        }\n        else {\n            this.fitHeight();\n        }\n    };\n    ClipTest.prototype.turnX = function () {\n        this.imgCanvas = CanvasTooler_1.default.scaleCanvas(this.imgCanvas, -1, 1);\n        this.texture = PIXI.Texture.from(this.imgCanvas);\n        this.pic.texture = this.texture;\n    };\n    ClipTest.prototype.turnY = function () {\n        this.imgCanvas = CanvasTooler_1.default.scaleCanvas(this.imgCanvas, 1, -1);\n        this.texture = PIXI.Texture.from(this.imgCanvas);\n        this.pic.texture = this.texture;\n    };\n    ClipTest.prototype.setup = function (texture) {\n        this.texture = texture;\n        texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\n        var w = this.texture.width;\n        var h = this.texture.height;\n        this.pic = new PIXI.Sprite(texture);\n        console.log(\'pic\', this.pic);\n        // this.pic.anchor.set(0, 0);\n        this.pic.position.set(this.width / 2 - w / 2, this.height / 2 - h / 2);\n        this.container.addChild(this.pic);\n        this.frameView = new FrameView_1.default(this.width, this.height);\n        this.container.addChild(this.frameView);\n        this.scaleTooler = new ScaleTooler_1.default(this.frameView, this.pic);\n    };\n    ClipTest.prototype.onDraw = function (scale) {\n        var _a = this.frameView.rect, minX = _a.minX, maxX = _a.maxX, minY = _a.minY, maxY = _a.maxY;\n        var x = minX - this.pic.x;\n        var y = minY - this.pic.y;\n        var width = maxX - minX;\n        var height = maxY - minY;\n        var s = this.pic.scale.x;\n        console.log(this.pic, "this.pic");\n        var img = this.texture.baseTexture.resource;\n        if (!this.canvas) {\n            this.canvas = document.createElement(\'canvas\');\n        }\n        var canvas = this.canvas;\n        canvas.width = width / s * scale;\n        canvas.height = height / s * scale;\n        var ctx = canvas.getContext(\'2d\');\n        ctx.drawImage(img.source, x / s, y / s, width / s, height / s, 0, 0, canvas.width, canvas.height);\n        var urlData;\n        if (this.png) {\n            urlData = canvas.toDataURL("image/png");\n        }\n        else {\n            urlData = canvas.toDataURL("image/jpeg", 0.8);\n        }\n        var blob = FileTooler_1.FileTooler.dataURLtoBlob(urlData);\n        var url = urlData;\n        var info = {\n            originSize: {\n                width: this.texture.width,\n                height: this.texture.height\n            },\n            clipSize: {\n                width: canvas.width,\n                height: canvas.height\n            }\n        };\n        listener_1.default.emit("clipEnd", url, blob, info);\n    };\n    ClipTest.prototype.update = function () {\n        // if(this.pic){\n        //     this.pic.rotation += 0.04;\n        // }\n    };\n    ClipTest.prototype.destory = function () {\n        _super.prototype.destory.call(this);\n    };\n    return ClipTest;\n}(BaseScene_1.BaseScene));\nexports.ClipTest = ClipTest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9kZW1vL0NsaXBUZXN0LnRzPzIwZTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxREFBZ0M7QUFDaEMsOENBQXdDO0FBQ3hDLCtEQUEwQztBQUMxQyxpRUFBZ0Q7QUFDaEQsOERBQWtDO0FBQ2xDLCtDQUFrRDtBQUVsRCxrRUFBa0Q7QUFFbEQ7SUFBOEIsNEJBQVM7SUFnQm5DO1FBQUEsWUFDSSxpQkFBTyxTQUNWO1FBUEQsV0FBSyxHQUFVLENBQUMsQ0FBQztRQUNqQixjQUFRLEdBQVUsQ0FBQyxDQUFDOztJQU1wQixDQUFDO0lBRUQsd0JBQUssR0FBTCxVQUFNLENBQVE7UUFDVixPQUFPLElBQUksT0FBTyxDQUFDLGlCQUFPO1lBQ3RCLFVBQVUsQ0FBQztnQkFDUCxPQUFPLEVBQUUsQ0FBQztZQUNkLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNWLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFSyx1QkFBSSxHQUFWLFVBQVcsS0FBWSxFQUFFLE1BQWEsRUFBRSxHQUFvQjs7Ozs7Ozt3QkFDeEQsaUJBQU0sSUFBSSxZQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7d0JBRTNCLEdBQUcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFFZixxQkFBTSx1QkFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7O3dCQUFqQyxHQUFHLEdBQUcsU0FBMkI7d0JBQ3JDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUN4QixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7NkJB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QUFJLE9BQU8sQ0FBQztRQUNaLElBQUcsSUFBSSxDQUFDLEdBQUcsRUFBQztZQUNSLE9BQU8sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzNDO2FBQ0c7WUFDQSxPQUFPLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDakQ7UUFFRCxJQUFJLElBQUksR0FBRyx1QkFBVSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM3QyxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUM7UUFDbEIsSUFBSSxJQUFJLEdBQUc7WUFDUCxVQUFVLEVBQUU7Z0JBQ1IsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSztnQkFDekIsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTTthQUM5QjtZQUNELFFBQVEsRUFBRTtnQkFDTixLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUs7Z0JBQ25CLE1BQU0sRUFBRSxNQUFNLENBQUMsTUFBTTthQUN4QjtTQUNKLENBQUM7UUFFRixrQkFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRUQseUJBQU0sR0FBTjtRQUNJLGdCQUFnQjtRQUNoQixpQ0FBaUM7UUFDakMsSUFBSTtJQUNSLENBQUM7SUFFRCwwQkFBTyxHQUFQO1FBQ0ksaUJBQU0sT0FBTyxXQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVMLGVBQUM7QUFBRCxDQUFDLENBNVI2QixxQkFBUyxHQTRSdEM7QUE1UlksNEJBQVEiLCJmaWxlIjoiYTVkNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQgeyBCYXNlU2NlbmUgfSBmcm9tICcuL0Jhc2VTY2VuZSc7XG5pbXBvcnQgRnJhbWVWaWV3IGZyb20gJy4uL3ZpZXcvRnJhbWVWaWV3JztcbmltcG9ydCBTY2FsZVRvb2xlciBmcm9tICcuLi90b29sZXIvU2NhbGVUb29sZXInO1xuaW1wb3J0IGxpc3RlbmVyIGZyb20gJy4uL2xpc3RlbmVyJ1xuaW1wb3J0IHsgRmlsZVRvb2xlciB9IGZyb20gJy4uL3Rvb2xlci9GaWxlVG9vbGVyJztcbmltcG9ydCB7IGNyZWF0ZVRydWUgfSBmcm9tICd0eXBlc2NyaXB0JztcbmltcG9ydCBDYW52YXNUb29sZXIgZnJvbSAnLi4vdG9vbGVyL0NhbnZhc1Rvb2xlcic7XG5cbmV4cG9ydCBjbGFzcyBDbGlwVGVzdCBleHRlbmRzIEJhc2VTY2VuZXtcblxuICAgIHBpYzpQSVhJLlNwcml0ZTtcbiAgICB0ZXh0dXJlOlBJWEkuVGV4dHVyZTtcbiAgICBkcmFnZ2luZzpib29sZWFuO1xuICAgIHN0YXJ0UG90OmFueTtcbiAgICBmcmFtZVZpZXc6RnJhbWVWaWV3O1xuICAgIHNjYWxlVG9vbGVyOlNjYWxlVG9vbGVyO1xuICAgIGxpbmU6IFBJWEkuR3JhcGhpY3M7XG4gICAgY2FudmFzOkhUTUxDYW52YXNFbGVtZW50O1xuICAgIHBuZzpib29sZWFuO1xuICAgIHRpbWVzOm51bWJlciA9IDA7XG4gICAgcm90YXRpb246bnVtYmVyID0gMDtcblxuICAgIGltZ0NhbnZhczphbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpO1xuICAgIH0gICBcblxuICAgIHNsZWVwKHQ6bnVtYmVyKXtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmU9PntcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIHQpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGFzeW5jIGluaXQod2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyLCBhcHA6UElYSS5BcHBsaWNhdGlvbil7XG4gICAgICAgIHN1cGVyLmluaXQod2lkdGgsIGhlaWdodCwgYXBwKTtcblxuICAgICAgICB2YXIgdXJsID0gdGhpcy5nZXRRdWVyeVN0cmluZyhcInVybFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLoo4Hliarlm77niYdcIiwgdXJsKTtcblxuICAgICAgICB2YXIgcmVzID0gYXdhaXQgRmlsZVRvb2xlci5pc1BuZyh1cmwpO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMsICdwbmcnKTtcbiAgICAgICAgdGhpcy5wbmcgPSAhIXJlcztcbiAgICAgICAgdmFyIHRleHR1cmU6YW55O1xuXG4gICAgICAgIGlmKHVybC5zdGFydHNXaXRoKFwiaHR0cFwiKSl7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWQodXJsKTtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0aGlzLmxvYWRlci5yZXNvdXJjZXNbdXJsXS50ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20odXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW1nQ2FudmFzID0gYXdhaXQgQ2FudmFzVG9vbGVyLmdldENhbnZhc0J5VXJsKHVybCk7XG5cbiAgICAgICAgdGhpcy50aW1lcyA9IDA7XG4gICAgICAgIHdoaWxlKCsrdGhpcy50aW1lcyA8IDMwKXtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2xlZXAoMzApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aW1lXCIgKyB0aGlzLnRpbWVzLCB0ZXh0dXJlLndpZHRoKTtcbiAgICAgICAgICAgIGlmKHRleHR1cmUud2lkdGggPiAxMCl7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcyA9IDMwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dXAodGV4dHVyZSk7XG5cbiAgICAgICAgbGlzdGVuZXIub24oXCJwcmVTdGFydFwiLCAodjpib29sZWFuKSA9PiB7XG4gICAgICAgICAgICBpZih2KXtcbiAgICAgICAgICAgICAgICB0aGlzLnBpYy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHRoaXMucGljLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsaXN0ZW5lci5vbihcInByZUNsaXBcIiwgKHJlY3Q6YW55KSA9PiB7XG4gICAgICAgICAgICB2YXIge2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgcGFkZGluZywgaW1nfSA9IHJlY3Q7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZWN0LCBcInJlY3RcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZyYW1lVmlldy5yZWN0LCBcInRoaXMuZnJhbWVWaWV3LnJlY3RcIik7XG4gICAgICAgICAgICB2YXIge21heFgsIG1heFksIG1pblgsIG1pbll9ID0gdGhpcy5mcmFtZVZpZXcucmVjdDtcblxuICAgICAgICAgICAgdmFyIHNjYWxlO1xuICAgICAgICAgICAgaWYod2lkdGggPiBoZWlnaHQpe1xuICAgICAgICAgICAgICAgIHNjYWxlID0gaW1nLndpZHRoIC8gd2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIHNjYWxlID0gaW1nLmhlaWdodCAvIGhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHggPSAobWluWCAtIGxlZnQpICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgeSA9IChtaW5ZIC0gdG9wKSAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHcgPSAobWF4WCAtIG1pblgpICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgaCA9IChtYXhZIC0gbWluWSkgKiBzY2FsZTtcblxuICAgICAgICAgICAgdmFyIGRpdiA9IEZpbGVUb29sZXIuZ2V0Q2xpcEltYWdlKGltZywgeCwgeSwgdywgaCk7XG4gICAgICAgICAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICB0aGlzLmltZ0NhbnZhcyA9IGRpdjtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKHRoaXMuaW1nQ2FudmFzKTtcbiAgICAgICAgICAgIHRoaXMucGljLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgICAgICBpZih3ID4gaCl7XG4gICAgICAgICAgICAgICAgdGhpcy5maXRXaWR0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmZpdEhlaWdodCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGlzdGVuZXIub24oXCJjbGlwU3RhcnRcIiwgKHNjYWxlOm51bWJlcik9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjYWxlLCBcInNjYWxlXCIpO1xuICAgICAgICAgICAgdGhpcy5vbkRyYXcoc2NhbGUpO1xuICAgICAgICB9KVxuICAgICAgICBsaXN0ZW5lci5vbihcInRyYW5zZm9ybVwiLCAoa2V5OnN0cmluZyk9PntcbiAgICAgICAgICAgIHN3aXRjaChrZXkpe1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmaXRXaWR0aFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpdFdpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmaXRIZWlnaHRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJvdGF0ZUxlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVMZWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyb3RhdGVSaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVJpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0dXJuWFwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR1cm5YKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0dXJuWVwiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR1cm5ZKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBnZXRRdWVyeVN0cmluZyhuYW1lOnN0cmluZyk6YW55IHtcbiAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJyhefCYpJyArIG5hbWUgKyAnPShbXiZdKikoJnwkKScsICdpJyk7XG4gICAgICAgIHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcbiAgICAgICAgaWYgKHIgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB1bmVzY2FwZShyWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmaXRXaWR0aCgpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzLmZyYW1lVmlldy5wYWRkaW5nO1xuICAgICAgICB2YXIgdyA9IHRoaXMudGV4dHVyZS53aWR0aDtcbiAgICAgICAgdmFyIGggPSB0aGlzLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgcyA9ICh0aGlzLndpZHRoIC0gMiAqIHApIC8gdztcbiAgICAgICAgdGhpcy5waWMuc2NhbGUuc2V0KHMsIHMpO1xuICAgICAgICB0aGlzLnBpYy5wb3NpdGlvbi54ID0gcDtcbiAgICAgICAgdGhpcy5waWMucG9zaXRpb24ueSA9IHRoaXMuaGVpZ2h0IC8gMiAtIChzICogaCkgLyAyO1xuXG4gICAgICAgIHZhciBsID0gcDtcbiAgICAgICAgdmFyIHIgPSB0aGlzLndpZHRoIC0gcDtcbiAgICAgICAgdmFyIHQgPSB3ID4gaCA/IHRoaXMucGljLnBvc2l0aW9uLnkgOiBwO1xuICAgICAgICB2YXIgYiA9IHcgPiBoID8gdGhpcy5oZWlnaHQgLSB0aGlzLnBpYy5wb3NpdGlvbi55IDogdGhpcy5oZWlnaHQgLSBwO1xuICAgICAgICB0aGlzLmZyYW1lVmlldy5yZXNldChsLCByLCB0LCBiKTtcbiAgICB9XG5cbiAgICBmaXRIZWlnaHQoKXtcbiAgICAgICAgdmFyIHAgPSB0aGlzLmZyYW1lVmlldy5wYWRkaW5nO1xuICAgICAgICB2YXIgdyA9IHRoaXMudGV4dHVyZS53aWR0aDtcbiAgICAgICAgdmFyIGggPSB0aGlzLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgcyA9ICh0aGlzLmhlaWdodCAtIDIgKiBwKSAvIGg7XG4gICAgICAgIHRoaXMucGljLnNjYWxlLnNldChzLCBzKTtcbiAgICAgICAgdGhpcy5waWMucG9zaXRpb24ueCA9IHRoaXMud2lkdGggLyAyIC0gKHMgKiB3KSAvIDI7XG4gICAgICAgIHRoaXMucGljLnBvc2l0aW9uLnkgPSBwO1xuXG4gICAgICAgIHZhciBsID0gdyA+IGggPyBwIDogdGhpcy5waWMucG9zaXRpb24ueDtcbiAgICAgICAgdmFyIHIgPSAgdyA+IGggPyB0aGlzLndpZHRoIC0gcCA6IHRoaXMud2lkdGggLSB0aGlzLnBpYy5wb3NpdGlvbi54O1xuICAgICAgICB2YXIgdCA9IHA7XG4gICAgICAgIHZhciBiID0gdGhpcy5oZWlnaHQgLSBwO1xuICAgICAgICB0aGlzLmZyYW1lVmlldy5yZXNldChsLCByLCB0LCBiKTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0KCl7XG4gICAgICAgIHRoaXMuaW1nQ2FudmFzID0gQ2FudmFzVG9vbGVyLnJvdGF0ZUNhbnZhcyh0aGlzLmltZ0NhbnZhcywgLTkwKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20odGhpcy5pbWdDYW52YXMpO1xuICAgICAgICB0aGlzLnBpYy50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBpZih0aGlzLnRleHR1cmUud2lkdGggPiB0aGlzLnRleHR1cmUuaGVpZ2h0KXtcbiAgICAgICAgICAgIHRoaXMuZml0V2lkdGgoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhpcy5maXRIZWlnaHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0KCl7XG4gICAgICAgIHRoaXMuaW1nQ2FudmFzID0gQ2FudmFzVG9vbGVyLnJvdGF0ZUNhbnZhcyh0aGlzLmltZ0NhbnZhcywgOTApO1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSh0aGlzLmltZ0NhbnZhcyk7XG4gICAgICAgIHRoaXMucGljLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIGlmKHRoaXMudGV4dHVyZS53aWR0aCA+IHRoaXMudGV4dHVyZS5oZWlnaHQpe1xuICAgICAgICAgICAgdGhpcy5maXRXaWR0aCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICB0aGlzLmZpdEhlaWdodCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHVyblgoKXtcbiAgICAgICAgdGhpcy5pbWdDYW52YXMgPSBDYW52YXNUb29sZXIuc2NhbGVDYW52YXModGhpcy5pbWdDYW52YXMsIC0xLCAxKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20odGhpcy5pbWdDYW52YXMpO1xuICAgICAgICB0aGlzLnBpYy50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgIH1cblxuICAgIHR1cm5ZKCl7XG4gICAgICAgIHRoaXMuaW1nQ2FudmFzID0gQ2FudmFzVG9vbGVyLnNjYWxlQ2FudmFzKHRoaXMuaW1nQ2FudmFzLCAxLCAtMSk7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKHRoaXMuaW1nQ2FudmFzKTtcbiAgICAgICAgdGhpcy5waWMudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICB9XG4gICAgXG4gICAgc2V0dXAodGV4dHVyZTpQSVhJLlRleHR1cmUpe1xuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlOyAgIFxuICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLndyYXBNb2RlID0gUElYSS5XUkFQX01PREVTLlJFUEVBVDtcbiAgICAgICAgdmFyIHcgPSB0aGlzLnRleHR1cmUud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGhpcy50ZXh0dXJlLmhlaWdodDtcblxuICAgICAgICB0aGlzLnBpYyA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3BpYycsIHRoaXMucGljKTtcblxuICAgICAgICAvLyB0aGlzLnBpYy5hbmNob3Iuc2V0KDAsIDApO1xuICAgICAgICB0aGlzLnBpYy5wb3NpdGlvbi5zZXQodGhpcy53aWR0aCAvIDIgLSB3IC8gMiwgdGhpcy5oZWlnaHQgLyAyIC0gaCAvIDIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnBpYyk7XG5cbiAgICAgICAgdGhpcy5mcmFtZVZpZXcgPSBuZXcgRnJhbWVWaWV3KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLmZyYW1lVmlldyk7XG5cbiAgICAgICAgdGhpcy5zY2FsZVRvb2xlciA9IG5ldyBTY2FsZVRvb2xlcih0aGlzLmZyYW1lVmlldywgdGhpcy5waWMpO1xuICAgIH1cbiAgICBcbiAgICBvbkRyYXcoc2NhbGU6bnVtYmVyKXtcbiAgICAgICAgdmFyIHttaW5YLCBtYXhYLCBtaW5ZLCBtYXhZfSA9IHRoaXMuZnJhbWVWaWV3LnJlY3Q7XG4gICAgICAgIHZhciB4ID0gbWluWCAtIHRoaXMucGljLng7XG4gICAgICAgIHZhciB5ID0gbWluWSAtIHRoaXMucGljLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IG1heFggLSBtaW5YO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gbWF4WSAtIG1pblk7XG4gICAgICAgIHZhciBzID0gdGhpcy5waWMuc2NhbGUueDtcblxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBpYywgXCJ0aGlzLnBpY1wiKTtcbiAgICAgICAgdmFyIGltZzphbnkgPSB0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUucmVzb3VyY2U7XG5cbiAgICAgICAgaWYoIXRoaXMuY2FudmFzKXtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aCAvIHMgKiBzY2FsZTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodCAvIHMgKiBzY2FsZTtcblxuICAgICAgICBsZXQgY3R4OmFueSA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKGltZy5zb3VyY2UsIHggLyBzLCB5IC8gcywgd2lkdGggLyBzLCBoZWlnaHQgLyBzLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBsZXQgdXJsRGF0YTtcbiAgICAgICAgaWYodGhpcy5wbmcpe1xuICAgICAgICAgICAgdXJsRGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHVybERhdGEgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiLCAwLjgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJsb2IgPSBGaWxlVG9vbGVyLmRhdGFVUkx0b0Jsb2IodXJsRGF0YSk7XG4gICAgICAgIHZhciB1cmwgPSB1cmxEYXRhO1xuICAgICAgICB2YXIgaW5mbyA9IHtcbiAgICAgICAgICAgIG9yaWdpblNpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy50ZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy50ZXh0dXJlLmhlaWdodFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsaXBTaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBsaXN0ZW5lci5lbWl0KFwiY2xpcEVuZFwiLCB1cmwsIGJsb2IsIGluZm8pO1xuICAgIH1cbiAgICBcbiAgICB1cGRhdGUoKXtcbiAgICAgICAgLy8gaWYodGhpcy5waWMpe1xuICAgICAgICAvLyAgICAgdGhpcy5waWMucm90YXRpb24gKz0gMC4wNDtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIGRlc3RvcnkoKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmRlc3RvcnkoKTtcbiAgICB9XG5cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///a5d5\n')},de86:function(module,exports,__webpack_require__){"use strict";eval('\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.FileTooler = void 0;\nvar FileTooler = /** @class */ (function () {\n    function FileTooler() {\n    }\n    FileTooler.dataURLtoBlob = function (dataurl) {\n        var arr = dataurl.split(\',\'), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n        while (n--) {\n            u8arr[n] = bstr.charCodeAt(n);\n        }\n        return new Blob([u8arr], { type: mime });\n    };\n    FileTooler.blobToURL = function (blob) {\n        return URL.createObjectURL(blob);\n    };\n    FileTooler.blobToDataURL = function (blob) {\n        return new Promise(function (resolve) {\n            var a = new FileReader();\n            a.onload = function (e) {\n                resolve(e.target.result);\n            };\n            a.readAsDataURL(blob);\n        });\n    };\n    FileTooler.getClipImage = function (img, x, y, width, height) {\n        var canvas = document.createElement(\'canvas\');\n        canvas.width = width;\n        canvas.height = height;\n        var ctx = canvas.getContext(\'2d\');\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, x, y, width, height, 0, 0, width, height);\n        // document.body.appendChild(canvas);\n        return canvas;\n    };\n    FileTooler.getUrlCanvas = function (url) {\n        return new Promise(function (resolve) {\n            var img = new Image();\n            img.onload = function (e) {\n                return __awaiter(this, void 0, void 0, function () {\n                    var canvas, ctx;\n                    return __generator(this, function (_a) {\n                        canvas = document.createElement(\'canvas\');\n                        ctx = canvas.getContext(\'2d\');\n                        ctx === null || ctx === void 0 ? void 0 : ctx.save();\n                        canvas.width = img.width;\n                        canvas.height = img.height;\n                        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, 0, 0);\n                        ctx === null || ctx === void 0 ? void 0 : ctx.restore();\n                        document.body.appendChild(canvas);\n                        setTimeout(function () {\n                            resolve(canvas);\n                        }, 30);\n                        return [2 /*return*/];\n                    });\n                });\n            };\n            img.src = url;\n        });\n    };\n    FileTooler.getRotateCanvas = function (img, angle) {\n        return new Promise(function (resolve) {\n            var canvas = document.createElement(\'canvas\');\n            var ctx = canvas.getContext(\'2d\');\n            ctx === null || ctx === void 0 ? void 0 : ctx.save();\n            if (angle == 90 || angle == -90) {\n                canvas.width = img.height;\n                canvas.height = img.width;\n                ctx === null || ctx === void 0 ? void 0 : ctx.translate(canvas.width / 2, canvas.height / 2);\n                ctx === null || ctx === void 0 ? void 0 : ctx.rotate(angle * Math.PI / 180);\n                ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, -img.width / 2, -img.height / 2);\n            }\n            else {\n                canvas.width = img.width;\n                canvas.height = img.height;\n                ctx === null || ctx === void 0 ? void 0 : ctx.translate(img.width / 2, img.height / 2);\n                ctx === null || ctx === void 0 ? void 0 : ctx.rotate(angle * Math.PI / 180);\n                ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, -img.width / 2, -img.height / 2);\n            }\n            ctx === null || ctx === void 0 ? void 0 : ctx.restore();\n            setTimeout(function () {\n                resolve(canvas);\n            }, 30);\n        });\n        // var ctx = canvas.getContext(\'2d\');\n        // ctx?.save();\n        // console.log(angle, "angler");\n        // if(angle == 90 || angle == -90){\n        //     var cw = canvas.width;\n        //     var ch = canvas.height;\n        //     canvas.width = ch;\n        //     canvas.height = cw;\n        //     ctx?.translate(ch, 0);\n        //     ctx?.rotate(angle * Math.PI / 180);\n        //     ctx?.drawImage(canvas, 0, 0);\n        // }\n        // else{\n        //     ctx?.translate(canvas.width / 2, canvas.height / 2);\n        //     ctx?.rotate(angle * Math.PI / 180);\n        //     ctx?.drawImage(canvas, -canvas.width / 2, -canvas.height / 2);\n        // }\n        // ctx?.restore();\n    };\n    FileTooler.scaleCanvas = function (canvas, x, y) {\n        var ctx = canvas.getContext(\'2d\');\n        ctx === null || ctx === void 0 ? void 0 : ctx.save();\n        ctx === null || ctx === void 0 ? void 0 : ctx.scale(x, y);\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(canvas, 0, 0, x * canvas.width, y * canvas.height);\n        ctx === null || ctx === void 0 ? void 0 : ctx.restore();\n    };\n    FileTooler.getCanvas = function (url, angle) {\n        var img = new Image();\n        img.onload = function (e) {\n            return __awaiter(this, void 0, void 0, function () {\n                var canvas, ctx;\n                return __generator(this, function (_a) {\n                    canvas = document.createElement(\'canvas\');\n                    ctx = canvas.getContext(\'2d\');\n                    ctx === null || ctx === void 0 ? void 0 : ctx.save();\n                    if (angle == 90 || angle == -90) {\n                        canvas.width = img.height;\n                        canvas.height = img.width;\n                        ctx === null || ctx === void 0 ? void 0 : ctx.translate(canvas.width / 2, canvas.height / 2);\n                        ctx === null || ctx === void 0 ? void 0 : ctx.rotate(angle * Math.PI / 180);\n                        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, -img.width / 2, -img.height / 2);\n                    }\n                    else {\n                        canvas.width = img.width;\n                        canvas.height = img.height;\n                        ctx === null || ctx === void 0 ? void 0 : ctx.translate(img.width / 2, img.height / 2);\n                        ctx === null || ctx === void 0 ? void 0 : ctx.rotate(angle * Math.PI / 180);\n                        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, -img.width / 2, -img.height / 2);\n                    }\n                    ctx === null || ctx === void 0 ? void 0 : ctx.restore();\n                    return [2 /*return*/];\n                });\n            });\n        };\n        img.src = url;\n    };\n    FileTooler.isPng = function (url) {\n        return new Promise(function (resolve) {\n            var img = new Image();\n            img.onload = function (e) {\n                return __awaiter(this, void 0, void 0, function () {\n                    var canvas, ctx, w, h, imgData, png, i, list, j, n;\n                    return __generator(this, function (_a) {\n                        canvas = document.createElement(\'canvas\');\n                        ctx = canvas.getContext(\'2d\');\n                        w = Math.floor(img.width / 10);\n                        h = Math.floor(img.height / 10);\n                        canvas.width = w;\n                        canvas.height = h;\n                        ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, w, h);\n                        imgData = ctx.getImageData(0, 0, w, h);\n                        png = false;\n                        for (i = 0; i < h; i++) {\n                            list = [];\n                            for (j = 0; j < w; j++) {\n                                n = i * w * 4 + j * 4;\n                                if (imgData.data[n + 3] < 10) {\n                                    png = true;\n                                    list.push(".");\n                                }\n                                else {\n                                    list.push("m");\n                                }\n                            }\n                            console.log(list.join(""));\n                        }\n                        resolve(png);\n                        return [2 /*return*/];\n                    });\n                });\n            };\n            img.src = url;\n        });\n    };\n    FileTooler.isPngFile = function (blob) {\n        return new Promise(function (resolve) {\n            var file = new FileReader();\n            file.onload = function (e) {\n                var s = new Uint8Array(e.target.result);\n                var list = s.slice(0, 8);\n                if (list.join(",") == "137,80,78,71,13,10,26,10") {\n                    console.log("is png");\n                    resolve(true);\n                }\n                else {\n                    console.log("not png");\n                    resolve(false);\n                }\n            };\n            file.readAsArrayBuffer(blob);\n        });\n    };\n    return FileTooler;\n}());\nexports.FileTooler = FileTooler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90b29sZXIvRmlsZVRvb2xlci50cz9iOWE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0lBQUE7SUF3TUEsQ0FBQztJQXRNVSx3QkFBYSxHQUFwQixVQUFxQixPQUFjO1FBQy9CLElBQUksR0FBRyxHQUFPLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQy9ELElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxHQUFHLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLE9BQU8sQ0FBQyxFQUFFLEVBQUU7WUFDUixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqQztRQUNELE9BQU8sSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFTSxvQkFBUyxHQUFoQixVQUFpQixJQUFRO1FBQ3JCLE9BQU8sR0FBRyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRU0sd0JBQWEsR0FBcEIsVUFBcUIsSUFBUTtRQUN6QixPQUFPLElBQUksT0FBTyxDQUFDLGlCQUFPO1lBQ3RCLElBQUksQ0FBQyxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7WUFDekIsQ0FBQyxDQUFDLE1BQU0sR0FBRyxVQUFDLENBQUs7Z0JBQ2IsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7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Q2pDLENBQUMsQ0FBQztJQUVOLENBQUM7SUFFTCxpQkFBQztBQUFELENBQUM7QUF4TVksZ0NBQVUiLCJmaWxlIjoiZGU4Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc29sdmVNb2R1bGVOYW1lIH0gZnJvbSBcInR5cGVzY3JpcHRcIjtcblxuZXhwb3J0IGNsYXNzIEZpbGVUb29sZXJ7XG5cbiAgICBzdGF0aWMgZGF0YVVSTHRvQmxvYihkYXRhdXJsOnN0cmluZykge1xuICAgICAgICB2YXIgYXJyOmFueSA9IGRhdGF1cmwuc3BsaXQoJywnKSwgbWltZSA9IGFyclswXS5tYXRjaCgvOiguKj8pOy8pWzFdLFxuICAgICAgICAgICAgYnN0ciA9IGF0b2IoYXJyWzFdKSwgbiA9IGJzdHIubGVuZ3RoLCB1OGFyciA9IG5ldyBVaW50OEFycmF5KG4pO1xuICAgICAgICB3aGlsZSAobi0tKSB7XG4gICAgICAgICAgICB1OGFycltuXSA9IGJzdHIuY2hhckNvZGVBdChuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW3U4YXJyXSwgeyB0eXBlOiBtaW1lIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBibG9iVG9VUkwoYmxvYjphbnkpe1xuICAgICAgICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYmxvYlRvRGF0YVVSTChibG9iOmFueSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBsZXQgYSA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICBhLm9ubG9hZCA9IChlOmFueSkgPT4geyBcbiAgICAgICAgICAgICAgICByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7IFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYS5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDbGlwSW1hZ2UoaW1nOmFueSwgeDpudW1iZXIsIHk6bnVtYmVyLCB3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIpe1xuICAgICAgICB2YXIgY2FudmFzOkhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eD8uZHJhd0ltYWdlKGltZywgeCwgeSwgd2lkdGgsIGhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VXJsQ2FudmFzKHVybDpzdHJpbmcpe1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gYXN5bmMgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBjdHg/LnNhdmUoKTtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgY3R4Py5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBjdHg/LnJlc3RvcmUoKTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjYW52YXMpO1xuICAgICAgICAgICAgICAgIH0sIDMwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIGdldFJvdGF0ZUNhbnZhcyhpbWc6SFRNTENhbnZhc0VsZW1lbnQsIGFuZ2xlOm51bWJlcil7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHZhciBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIGN0eD8uc2F2ZSgpO1xuICAgICAgICAgICAgaWYoYW5nbGUgPT0gOTAgfHwgYW5nbGUgPT0gLTkwKXtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcud2lkdGg7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY3R4Py50cmFuc2xhdGUoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIGN0eD8ucm90YXRlKGFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgICAgICAgICAgY3R4Py5kcmF3SW1hZ2UoaW1nLCAtaW1nLndpZHRoIC8gMiwgLWltZy5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgY3R4Py50cmFuc2xhdGUoaW1nLndpZHRoIC8gMiwgaW1nLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIGN0eD8ucm90YXRlKGFuZ2xlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgICAgICAgICAgICAgY3R4Py5kcmF3SW1hZ2UoaW1nLCAtaW1nLndpZHRoIC8gMiwgLWltZy5oZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eD8ucmVzdG9yZSgpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShjYW52YXMpO1xuICAgICAgICAgICAgfSwgMzApO1xuICAgICAgICB9KVxuXG4gICAgICAgIC8vIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgLy8gY3R4Py5zYXZlKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFuZ2xlLCBcImFuZ2xlclwiKTtcbiAgICAgICAgLy8gaWYoYW5nbGUgPT0gOTAgfHwgYW5nbGUgPT0gLTkwKXtcbiAgICAgICAgLy8gICAgIHZhciBjdyA9IGNhbnZhcy53aWR0aDtcbiAgICAgICAgLy8gICAgIHZhciBjaCA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIC8vICAgICBjYW52YXMud2lkdGggPSBjaDtcbiAgICAgICAgLy8gICAgIGNhbnZhcy5oZWlnaHQgPSBjdztcbiAgICAgICAgICAgIFxuICAgICAgICAvLyAgICAgY3R4Py50cmFuc2xhdGUoY2gsIDApO1xuICAgICAgICAvLyAgICAgY3R4Py5yb3RhdGUoYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgLy8gICAgIGN0eD8uZHJhd0ltYWdlKGNhbnZhcywgMCwgMCk7XG4gICAgICAgICAgICBcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBlbHNle1xuICAgICAgICAgICAgXG4gICAgICAgIC8vICAgICBjdHg/LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7XG4gICAgICAgIC8vICAgICBjdHg/LnJvdGF0ZShhbmdsZSAqIE1hdGguUEkgLyAxODApO1xuICAgICAgICAvLyAgICAgY3R4Py5kcmF3SW1hZ2UoY2FudmFzLCAtY2FudmFzLndpZHRoIC8gMiwgLWNhbnZhcy5oZWlnaHQgLyAyKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBjdHg/LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2NhbGVDYW52YXMoY2FudmFzOkhUTUxDYW52YXNFbGVtZW50LCB4Om51bWJlciwgeTpudW1iZXIpe1xuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eD8uc2F2ZSgpO1xuICAgICAgICBjdHg/LnNjYWxlKHgsIHkpO1xuICAgICAgICBjdHg/LmRyYXdJbWFnZShjYW52YXMsIDAsIDAsIHggKiBjYW52YXMud2lkdGgsIHkqIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjdHg/LnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Q2FudmFzKHVybDpzdHJpbmcsIGFuZ2xlOm51bWJlcil7XG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9IGFzeW5jIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgdmFyIGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgY3R4Py5zYXZlKCk7XG4gICAgICAgICAgICBpZihhbmdsZSA9PSA5MCB8fCBhbmdsZSA9PSAtOTApe1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy53aWR0aDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjdHg/LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgY3R4Py5yb3RhdGUoYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgICAgICAgICBjdHg/LmRyYXdJbWFnZShpbWcsIC1pbWcud2lkdGggLyAyLCAtaW1nLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBjdHg/LnRyYW5zbGF0ZShpbWcud2lkdGggLyAyLCBpbWcuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgY3R4Py5yb3RhdGUoYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgICAgICAgICBjdHg/LmRyYXdJbWFnZShpbWcsIC1pbWcud2lkdGggLyAyLCAtaW1nLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4Py5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNQbmcodXJsOnN0cmluZyl7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBhc3luYyBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzOmFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBcbiAgICAgICAgICAgICAgICB2YXIgdyA9IE1hdGguZmxvb3IoaW1nLndpZHRoIC8gMTApO1xuICAgICAgICAgICAgICAgIHZhciBoID0gTWF0aC5mbG9vcihpbWcuaGVpZ2h0IC8gMTApO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdztcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaDtcbiAgICBcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0LCAwLCAwLCB3LCBoKTtcbiAgICAgICAgICAgICAgICB2YXIgaW1nRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdywgaCk7XG4gICAgICAgICAgICAgICAgdmFyIHBuZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogPSAwOyBqIDwgdzsgaisrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gaSAqIHcgKiA0ICsgaiAqIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpbWdEYXRhLmRhdGFbbiArIDNdIDwgMTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKFwibVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0LmpvaW4oXCJcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKHBuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNQbmdGaWxlKGJsb2I6YW55KXtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgZmlsZS5vbmxvYWQgPSBmdW5jdGlvbihlOiBhbnkpe1xuICAgICAgICAgICAgICAgIHZhciBzID0gbmV3ICBVaW50OEFycmF5KGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBzLnNsaWNlKDAsIDgpO1xuICAgICAgICAgICAgICAgIGlmKGxpc3Quam9pbihcIixcIikgPT0gXCIxMzcsODAsNzgsNzEsMTMsMTAsMjYsMTBcIil7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaXMgcG5nXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBwbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGUucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///de86\n')},f015:function(module,exports){eval("module.exports = PIXI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJQSVhJXCI/M2Q3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJmMDE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBQSVhJOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///f015\n")},f8a4:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnZ1ZT80MmRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImY4YTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///f8a4\n")}});