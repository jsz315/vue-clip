(function(Q){function U(U){for(var B,c,g=U[0],n=U[1],e=U[2],C=0,l=[];C<g.length;C++)c=g[C],Object.prototype.hasOwnProperty.call(I,c)&&I[c]&&l.push(I[c][0]),I[c]=0;for(B in n)Object.prototype.hasOwnProperty.call(n,B)&&(Q[B]=n[B]);t&&t(U);while(l.length)l.shift()();return s.push.apply(s,e||[]),F()}function F(){for(var Q,U=0;U<s.length;U++){for(var F=s[U],B=!0,g=1;g<F.length;g++){var n=F[g];0!==I[n]&&(B=!1)}B&&(s.splice(U--,1),Q=c(c.s=F[0]))}return Q}var B={},I={app:0},s=[];function c(U){if(B[U])return B[U].exports;var F=B[U]={i:U,l:!1,exports:{}};return Q[U].call(F.exports,F,F.exports,c),F.l=!0,F.exports}c.m=Q,c.c=B,c.d=function(Q,U,F){c.o(Q,U)||Object.defineProperty(Q,U,{enumerable:!0,get:F})},c.r=function(Q){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},c.t=function(Q,U){if(1&U&&(Q=c(Q)),8&U)return Q;if(4&U&&"object"===typeof Q&&Q&&Q.__esModule)return Q;var F=Object.create(null);if(c.r(F),Object.defineProperty(F,"default",{enumerable:!0,value:Q}),2&U&&"string"!=typeof Q)for(var B in Q)c.d(F,B,function(U){return Q[U]}.bind(null,B));return F},c.n=function(Q){var U=Q&&Q.__esModule?function(){return Q["default"]}:function(){return Q};return c.d(U,"a",U),U},c.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},c.p="";var g=window["webpackJsonp"]=window["webpackJsonp"]||[],n=g.push.bind(g);g.push=U,g=g.slice();for(var e=0;e<g.length;e++)U(g[e]);var t=n;s.push([0,"chunk-vendors"]),F()})({0:function(Q,U,F){Q.exports=F("56d7")},"034f":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("85ec");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnZ1ZT83ZTAyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUF3YSxDQUFnQix3ZUFBRyxFQUFDIiwiZmlsZSI6IjAzNGYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kIGZyb20gXCItIS4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS02LW9uZU9mLTEtMCEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS02LW9uZU9mLTEtMSEuLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS02LW9uZU9mLTEtMiEuLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0FwcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tNi1vbmVPZi0xLTAhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNi1vbmVPZi0xLTEhLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNi1vbmVPZi0xLTIhLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BcHAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///034f\n')},"044f":function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.Game = void 0;\r\nvar PIXI = __importStar(__webpack_require__("f015"));\r\nvar Game = /** @class */ (function () {\r\n    function Game(canvas) {\r\n        this.url = \'man.jpg\';\r\n        this.canvas = canvas;\r\n        this.init();\r\n    }\r\n    Game.prototype.init = function () {\r\n        this.width = 750 || false;\r\n        this.height = 750 || false;\r\n        this.app = new PIXI.Application({\r\n            autoStart: true,\r\n            width: this.width,\r\n            height: this.height,\r\n            view: this.canvas,\r\n            antialias: true,\r\n            transparent: true\r\n        });\r\n        this.app.renderer.backgroundColor = 0xf0f0f0;\r\n        this.app.ticker.add(this.loop.bind(this));\r\n    };\r\n    Game.prototype.reset = function (scene) {\r\n        if (this.scene) {\r\n            this.scene.destory();\r\n        }\r\n        this.scene = scene;\r\n        this.app.stage.addChild(this.scene.container);\r\n        this.scene.init(this.width, this.height, this.app);\r\n    };\r\n    Game.prototype.destroy = function () {\r\n        console.log("destroy");\r\n    };\r\n    Game.prototype.loop = function () {\r\n        if (this.scene) {\r\n            this.scene.update();\r\n        }\r\n    };\r\n    return Game;\r\n}());\r\nexports.Game = Game;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9HYW1lLnRzPzQxZTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUFnQztBQUdoQztJQVdJLGNBQVksTUFBVTtRQUp0QixRQUFHLEdBQVUsU0FBUyxDQUFDO1FBS25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsbUJBQUksR0FBSjtRQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxJQUFJLEtBQTJDLENBQUM7UUFDaEUsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLElBQUksS0FBMkMsQ0FBQztRQUNqRSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUM1QixTQUFTLEVBQUUsSUFBSTtZQUNmLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztZQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDbkIsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ2pCLFNBQVMsRUFBRSxJQUFJO1lBQ2YsV0FBVyxFQUFFLElBQUk7U0FDcEIsQ0FBQztRQUVGLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGVBQWUsR0FBRyxRQUFRLENBQUM7UUFDN0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELG9CQUFLLEdBQUwsVUFBTSxLQUFZO1FBQ2QsSUFBRyxJQUFJLENBQUMsS0FBSyxFQUFDO1lBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUN4QjtRQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELHNCQUFPLEdBQVA7UUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCxtQkFBSSxHQUFKO1FBQ0ksSUFBRyxJQUFJLENBQUMsS0FBSyxFQUFDO1lBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUN2QjtJQUNMLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0FBQztBQWxEWSxvQkFBSSIsImZpbGUiOiIwNDRmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcclxuaW1wb3J0IHsgSVNjZW5lIH0gZnJvbSAnLi9JU2NlbmUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWV7XHJcbiAgICBjYW52YXM6YW55O1xyXG4gICAgYXBwOlBJWEkuQXBwbGljYXRpb247XHJcbiAgICBsb2FkZXI6IFBJWEkuTG9hZGVyO1xyXG4gICAgd2lkdGg6bnVtYmVyO1xyXG4gICAgaGVpZ2h0Om51bWJlcjtcclxuICAgIG1hbjpQSVhJLlNwcml0ZTtcclxuICAgIHVybDpzdHJpbmcgPSAnbWFuLmpwZyc7XHJcblxyXG4gICAgc2NlbmU6SVNjZW5lO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczphbnkpe1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKXtcclxuICAgICAgICB0aGlzLndpZHRoID0gNzUwIHx8IHdpbmRvdy5pbm5lcldpZHRoICogd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSA3NTAgfHwgd2luZG93LmlubmVyV2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgICAgICB0aGlzLmFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKHtcclxuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcclxuICAgICAgICAgICAgdmlldzogdGhpcy5jYW52YXMsXHJcbiAgICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSxcclxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmFwcC5yZW5kZXJlci5iYWNrZ3JvdW5kQ29sb3IgPSAweGYwZjBmMDtcclxuICAgICAgICB0aGlzLmFwcC50aWNrZXIuYWRkKHRoaXMubG9vcC5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldChzY2VuZTpJU2NlbmUpe1xyXG4gICAgICAgIGlmKHRoaXMuc2NlbmUpe1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmRlc3RvcnkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuc2NlbmUuY29udGFpbmVyKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmluaXQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMuYXBwKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJkZXN0cm95XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvb3AoKXtcclxuICAgICAgICBpZih0aGlzLnNjZW5lKXtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///044f\n')},"182d":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvV2ViL2luZGV4LnZ1ZT9lNjE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE4MmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///182d\n")},2643:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4160");\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("fb6a");\n/* harmony import */ var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("159b");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar listener = {};\n\nlistener.on = function (type, callback) {\n  if (!listener[type]) {\n    listener[type] = [];\n  }\n\n  listener[type].push(callback);\n};\n\nlistener.emit = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var type = args.shift();\n  listener[type] && listener[type].forEach(function (item) {\n    item.apply(null, args);\n  });\n};\n\n/* harmony default export */ __webpack_exports__["default"] = (listener);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9saXN0ZW5lci5qcz8yNjQzIl0sIm5hbWVzIjpbImxpc3RlbmVyIiwib24iLCJ0eXBlIiwiY2FsbGJhY2siLCJwdXNoIiwiZW1pdCIsImFyZ3MiLCJhcmd1bWVudHMiLCJzaGlmdCIsImZvckVhY2giLCJpdGVtIiwiYXBwbHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxRQUFRLEdBQUcsRUFBakI7O0FBSUFBLFFBQVEsQ0FBQ0MsRUFBVCxHQUFjLFVBQVNDLElBQVQsRUFBZUMsUUFBZixFQUF3QjtBQUNsQyxNQUFHLENBQUNILFFBQVEsQ0FBQ0UsSUFBRCxDQUFaLEVBQW1CO0FBQ2ZGLFlBQVEsQ0FBQ0UsSUFBRCxDQUFSLEdBQWlCLEVBQWpCO0FBQ0g7O0FBQ0RGLFVBQVEsQ0FBQ0UsSUFBRCxDQUFSLENBQWVFLElBQWYsQ0FBb0JELFFBQXBCO0FBQ0gsQ0FMRDs7QUFPQUgsUUFBUSxDQUFDSyxJQUFULEdBQWdCLFlBQVU7QUFDdEIsTUFBSUMsSUFBSSw4QkFBT0MsU0FBUCxDQUFSO0FBQ0EsTUFBSUwsSUFBSSxHQUFHSSxJQUFJLENBQUNFLEtBQUwsRUFBWDtBQUNBUixVQUFRLENBQUNFLElBQUQsQ0FBUixJQUFrQkYsUUFBUSxDQUFDRSxJQUFELENBQVIsQ0FBZU8sT0FBZixDQUF1QixVQUFBQyxJQUFJLEVBQUk7QUFDN0NBLFFBQUksQ0FBQ0MsS0FBTCxDQUFXLElBQVgsRUFBaUJMLElBQWpCO0FBQ0gsR0FGaUIsQ0FBbEI7QUFHSCxDQU5EOztBQVFlTix1RUFBZiIsImZpbGUiOiIyNjQzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbGlzdGVuZXIgPSB7XHJcblxyXG59XHJcblxyXG5saXN0ZW5lci5vbiA9IGZ1bmN0aW9uKHR5cGUsIGNhbGxiYWNrKXtcclxuICAgIGlmKCFsaXN0ZW5lclt0eXBlXSl7XHJcbiAgICAgICAgbGlzdGVuZXJbdHlwZV0gPSBbXTtcclxuICAgIH1cclxuICAgIGxpc3RlbmVyW3R5cGVdLnB1c2goY2FsbGJhY2spO1xyXG59XHJcblxyXG5saXN0ZW5lci5lbWl0ID0gZnVuY3Rpb24oKXtcclxuICAgIGxldCBhcmdzID0gWy4uLmFyZ3VtZW50c107XHJcbiAgICBsZXQgdHlwZSA9IGFyZ3Muc2hpZnQoKTtcclxuICAgIGxpc3RlbmVyW3R5cGVdICYmIGxpc3RlbmVyW3R5cGVdLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgaXRlbS5hcHBseShudWxsLCBhcmdzKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxpc3RlbmVyOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2643\n')},"2df6":function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ConvertTooler = /** @class */ (function () {\r\n    function ConvertTooler() {\r\n    }\r\n    ConvertTooler.dataURLtoBlob = function (dataurl) {\r\n        var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n        while (n--) {\r\n            u8arr[n] = bstr.charCodeAt(n);\r\n        }\r\n        return new Blob([u8arr], { type: mime });\r\n    };\r\n    ConvertTooler.blobToURL = function (blob) {\r\n        return URL.createObjectURL(blob);\r\n    };\r\n    ConvertTooler.blobToDataURL = function (blob) {\r\n        return new Promise(function (resolve) {\r\n            var a = new FileReader();\r\n            a.onload = function (e) {\r\n                resolve(e.target.result);\r\n            };\r\n            a.readAsDataURL(blob);\r\n        });\r\n    };\r\n    return ConvertTooler;\r\n}());\r\nexports.default = ConvertTooler;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90b29sZXIvQ29udmVydFRvb2xlci50cz9kNGEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7SUFBQTtJQXdCQSxDQUFDO0lBdEJVLDJCQUFhLEdBQXBCLFVBQXFCLE9BQWM7UUFDL0IsSUFBSSxHQUFHLEdBQU8sT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDL0QsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEUsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNSLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2pDO1FBQ0QsT0FBTyxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVNLHVCQUFTLEdBQWhCLFVBQWlCLElBQVE7UUFDckIsT0FBTyxHQUFHLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFTSwyQkFBYSxHQUFwQixVQUFxQixJQUFRO1FBQ3pCLE9BQU8sSUFBSSxPQUFPLENBQUMsaUJBQU87WUFDdEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztZQUN6QixDQUFDLENBQUMsTUFBTSxHQUFHLFVBQUMsQ0FBSztnQkFDYixPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM3QixDQUFDO1lBQ0QsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixDQUFDLENBQUM7SUFDTixDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQUFDIiwiZmlsZSI6IjJkZjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb252ZXJ0VG9vbGVye1xyXG5cclxuICAgIHN0YXRpYyBkYXRhVVJMdG9CbG9iKGRhdGF1cmw6c3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIGFycjphbnkgPSBkYXRhdXJsLnNwbGl0KCcsJyksIG1pbWUgPSBhcnJbMF0ubWF0Y2goLzooLio/KTsvKVsxXSxcclxuICAgICAgICAgICAgYnN0ciA9IGF0b2IoYXJyWzFdKSwgbiA9IGJzdHIubGVuZ3RoLCB1OGFyciA9IG5ldyBVaW50OEFycmF5KG4pO1xyXG4gICAgICAgIHdoaWxlIChuLS0pIHtcclxuICAgICAgICAgICAgdThhcnJbbl0gPSBic3RyLmNoYXJDb2RlQXQobik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbdThhcnJdLCB7IHR5cGU6IG1pbWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGJsb2JUb1VSTChibG9iOmFueSl7XHJcbiAgICAgICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGJsb2JUb0RhdGFVUkwoYmxvYjphbnkpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBhID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgYS5vbmxvYWQgPSAoZTphbnkpID0+IHsgXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGEucmVhZEFzRGF0YVVSTChibG9iKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2df6\n")},"345f":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_17e531b8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3f39");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_17e531b8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_17e531b8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_17e531b8_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3L2luZGV4LnZ1ZT9hNWJjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUEyaUIsQ0FBZ0IsNGpCQUFHLEVBQUMiLCJmaWxlIjoiMzQ1Zi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTEwLW9uZU9mLTEtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tMTAtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0xN2U1MzFiOCZsYW5nPWxlc3Mmc2NvcGVkPXRydWUmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTEwLW9uZU9mLTEtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tMTAtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0xN2U1MzFiOCZsYW5nPWxlc3Mmc2NvcGVkPXRydWUmXCIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///345f\n')},"3e17":function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar PIXI = __importStar(__webpack_require__("f015"));\r\n/**\r\n * 四边框和拖动控制点视图\r\n */\r\nvar FrameView = /** @class */ (function (_super) {\r\n    __extends(FrameView, _super);\r\n    function FrameView(w, h) {\r\n        var _this = _super.call(this) || this;\r\n        _this.pointerSize = 40;\r\n        _this.padding = 40;\r\n        _this.stageWidth = w;\r\n        _this.stageHeight = h;\r\n        _this.rect = new PIXI.Bounds();\r\n        _this.frameMask = new PIXI.Graphics();\r\n        _this.addChild(_this.frameMask);\r\n        _this.frame = new PIXI.Graphics();\r\n        _this.frame.interactive = true;\r\n        _this.addChild(_this.frame);\r\n        _this.pointers = [];\r\n        for (var i = 0; i < 8; i++) {\r\n            var p = _this.makePointer();\r\n            p.interactive = true;\r\n            _this.pointers.push(p);\r\n            _this.addChild(p);\r\n            p.on(\'pointerdown\', _this.onDragStart.bind(_this));\r\n        }\r\n        _this.reset(_this.padding, w - _this.padding, _this.padding, h - _this.padding);\r\n        return _this;\r\n    }\r\n    FrameView.prototype.init = function (horizontal) {\r\n        var w = this.stageWidth;\r\n        var h = this.stageHeight;\r\n        var size = (w - 2 * this.padding) / 2.4;\r\n        if (horizontal) {\r\n            this.reset(this.padding, w - this.padding, size, h - size);\r\n        }\r\n        else {\r\n            this.reset(size, w - size, this.padding, h - this.padding);\r\n        }\r\n    };\r\n    FrameView.prototype.checkNearPointer = function (p) {\r\n        for (var i = 0; i < this.pointers.length; i++) {\r\n            var distance = this.getDistance(this.pointers[i], p);\r\n            if (distance < this.pointerSize) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    FrameView.prototype.getDistance = function (a, b) {\r\n        return Math.sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));\r\n    };\r\n    FrameView.prototype.onDragStart = function (e) {\r\n        console.log(e);\r\n        e.stopPropagation();\r\n        var local = e.data.getLocalPosition(this);\r\n        this.dragging = true;\r\n        this.startPot = { x: local.x, y: local.y };\r\n        var item = e.target;\r\n        this.pointerIndex = this.checkNearPointer(local);\r\n        console.log("this.pointerIndex", this.pointerIndex);\r\n        // this.box.setChildIndex(item, this.box.children.length - 1);\r\n        item.on(\'pointerup\', this.onDragEnd, this);\r\n        item.on(\'pointerupoutside\', this.onDragEnd, this);\r\n        item.on(\'pointermove\', this.onDragMove, this);\r\n        this.dragItem = item;\r\n    };\r\n    FrameView.prototype.hitFrame = function (e) {\r\n        var local = e.data.getLocalPosition(this);\r\n        if (local.x > this.rect.minX && local.x < this.rect.maxX) {\r\n            if (local.y > this.rect.minY && local.y < this.rect.maxY) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    FrameView.prototype.moveFrame = function (x, y) {\r\n        if (this.rect.minX + x < this.padding) {\r\n            console.log("over left");\r\n        }\r\n        else {\r\n            if (this.rect.maxX + x > this.stageWidth - this.padding) {\r\n                console.log("over right");\r\n            }\r\n            else {\r\n                this.rect.minX += x;\r\n                this.rect.maxX += x;\r\n            }\r\n        }\r\n        if (this.rect.minY + y < this.padding) {\r\n            console.log("over top");\r\n        }\r\n        else {\r\n            if (this.rect.maxY + y > this.stageHeight - this.padding) {\r\n                console.log("over bottom");\r\n            }\r\n            else {\r\n                this.rect.minY += y;\r\n                this.rect.maxY += y;\r\n            }\r\n        }\r\n        this.update();\r\n    };\r\n    FrameView.prototype.onDragMove = function (e) {\r\n        if (this.dragging) {\r\n            var local = e.data.getLocalPosition(this);\r\n            //左上\r\n            if (this.pointerIndex == 0) {\r\n                this.rect.minX = local.x;\r\n                this.rect.minY = local.y;\r\n                console.log("左上");\r\n            }\r\n            //中上\r\n            else if (this.pointerIndex == 1) {\r\n                this.rect.minY = local.y;\r\n                console.log("中上");\r\n            }\r\n            //右上\r\n            else if (this.pointerIndex == 2) {\r\n                this.rect.maxX = local.x;\r\n                this.rect.minY = local.y;\r\n                console.log("右上");\r\n            }\r\n            //右中\r\n            else if (this.pointerIndex == 3) {\r\n                this.rect.maxX = local.x;\r\n                console.log("右中");\r\n            }\r\n            //右下\r\n            else if (this.pointerIndex == 4) {\r\n                this.rect.maxX = local.x;\r\n                this.rect.maxY = local.y;\r\n                console.log("右下");\r\n            }\r\n            //中下\r\n            else if (this.pointerIndex == 5) {\r\n                this.rect.maxY = local.y;\r\n                console.log("中下");\r\n            }\r\n            //左下\r\n            else if (this.pointerIndex == 6) {\r\n                this.rect.minX = local.x;\r\n                this.rect.maxY = local.y;\r\n                console.log("左下");\r\n            }\r\n            //左中\r\n            else if (this.pointerIndex == 7) {\r\n                this.rect.minX = local.x;\r\n                console.log("左中");\r\n            }\r\n            if (this.rect.minX < this.padding) {\r\n                this.rect.minX = this.padding;\r\n            }\r\n            if (this.rect.maxX > this.stageWidth - this.padding) {\r\n                this.rect.maxX = this.stageWidth - this.padding;\r\n            }\r\n            if (this.rect.minY < this.padding) {\r\n                this.rect.minY = this.padding;\r\n            }\r\n            if (this.rect.maxY > this.stageHeight - this.padding) {\r\n                this.rect.maxY = this.stageHeight - this.padding;\r\n            }\r\n            this.clipWidth = this.rect.maxX - this.rect.minX;\r\n            this.clipHeight = this.rect.maxY - this.rect.minY;\r\n            this.emit("size", { width: this.clipWidth, height: this.clipHeight });\r\n            this.startPot = { x: local.x, y: local.y };\r\n            this.update();\r\n        }\r\n    };\r\n    FrameView.prototype.onDragEnd = function (e) {\r\n        this.dragging = false;\r\n        var item = this.dragItem;\r\n        item.off(\'pointerup\', this.onDragEnd, this);\r\n        item.off(\'pointerupoutside\', this.onDragEnd, this);\r\n        item.off(\'pointermove\', this.onDragMove, this);\r\n        console.log(this.stageWidth, this.stageHeight);\r\n    };\r\n    FrameView.prototype.makePointer = function () {\r\n        var graphics = new PIXI.Graphics();\r\n        graphics.beginFill(0x069cff, 1);\r\n        graphics.drawRect(0, 0, this.pointerSize, this.pointerSize);\r\n        graphics.endFill();\r\n        return graphics;\r\n    };\r\n    FrameView.prototype.reset = function (l, r, t, b) {\r\n        this.rect.minX = l;\r\n        this.rect.maxX = r;\r\n        this.rect.minY = t;\r\n        this.rect.maxY = b;\r\n        this.clipWidth = this.rect.maxX - this.rect.minX;\r\n        this.clipHeight = this.rect.maxY - this.rect.minY;\r\n        this.update();\r\n    };\r\n    FrameView.prototype.update = function () {\r\n        var left = this.rect.minX;\r\n        var top = this.rect.minY;\r\n        var right = this.rect.maxX;\r\n        var bottom = this.rect.maxY;\r\n        var graphics = this.frame;\r\n        graphics.clear();\r\n        graphics.lineStyle(1, 0x069cff);\r\n        //透明层，用来交互\r\n        graphics.beginFill(0xffffff, 0.04);\r\n        graphics.drawRect(left, top, right - left, bottom - top);\r\n        graphics.endFill();\r\n        var offset = this.pointerSize / 2;\r\n        //左上\r\n        this.pointers[0].x = left - offset;\r\n        this.pointers[0].y = top - offset;\r\n        //中上\r\n        this.pointers[1].x = (left + right) / 2 - offset;\r\n        this.pointers[1].y = top - offset;\r\n        //右上\r\n        this.pointers[2].x = right - offset;\r\n        this.pointers[2].y = top - offset;\r\n        //右中\r\n        this.pointers[3].x = right - offset;\r\n        this.pointers[3].y = (top + bottom) / 2 - offset;\r\n        //右下\r\n        this.pointers[4].x = right - offset;\r\n        this.pointers[4].y = bottom - offset;\r\n        //中下\r\n        this.pointers[5].x = (right + left) / 2 - offset;\r\n        this.pointers[5].y = bottom - offset;\r\n        //左下\r\n        this.pointers[6].x = left - offset;\r\n        this.pointers[6].y = bottom - offset;\r\n        //左中\r\n        this.pointers[7].x = left - offset;\r\n        this.pointers[7].y = (bottom + top) / 2 - offset;\r\n        graphics = this.frameMask;\r\n        graphics.clear();\r\n        graphics.beginFill(0x000000, 0.8);\r\n        graphics.drawRect(0, 0, this.stageWidth, this.stageHeight);\r\n        graphics.beginHole();\r\n        graphics.drawRect(left, top, right - left, bottom - top);\r\n        graphics.endHole();\r\n        graphics.endFill();\r\n    };\r\n    return FrameView;\r\n}(PIXI.Container));\r\nexports.default = FrameView;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92aWV3L0ZyYW1lVmlldy50cz82MjhjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxREFBZ0M7QUFFaEM7O0dBRUc7QUFDSDtJQUF1Qyw2QkFBYztJQXFCakQsbUJBQVksQ0FBUSxFQUFFLENBQVE7UUFBOUIsWUFDSSxpQkFBTyxTQXdCVjtRQXJDRCxpQkFBVyxHQUFVLEVBQUUsQ0FBQztRQVN4QixhQUFPLEdBQVUsRUFBRSxDQUFDO1FBTWhCLEtBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLEtBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBRXJCLEtBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFFOUIsS0FBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNyQyxLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUU5QixLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2pDLEtBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUM5QixLQUFJLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUUxQixLQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNuQixLQUFJLElBQUksQ0FBQyxHQUFVLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFDO1lBQzdCLElBQUksQ0FBQyxHQUFrQixLQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDMUMsQ0FBQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDckIsS0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENB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QzthQUNyQjtZQUNELElBQUk7aUJBQ0MsSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsRUFBQztnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNyQjtZQUNELElBQUk7aUJBQ0MsSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsRUFBQztnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNyQjtZQUNELElBQUk7aUJBQ0MsSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsRUFBQztnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNyQjtZQUNELElBQUk7aUJBQ0MsSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsRUFBQztnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNyQjtZQUNELElBQUk7aUJBQ0MsSUFBRyxJQUFJLENBQUMsWUFBWSxJQUFJLENBQUMsRUFBQztnQkFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNy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USxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMzRCxRQUFRLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ3pELFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNuQixRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FBQyxDQXBTc0MsSUFBSSxDQUFDLFNBQVMsR0FvU3BEIiwiZmlsZSI6IjNlMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xyXG5cclxuLyoqXHJcbiAqIOWbm+i+ueahhuWSjOaLluWKqOaOp+WItueCueinhuWbvlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbWVWaWV3IGV4dGVuZHMgUElYSS5Db250YWluZXJ7XHJcbiAgICBcclxuICAgIGRyYWdJdGVtOlBJWEkuR3JhcGhpY3M7XHJcbiAgICBkcmFnZ2luZzpib29sZWFuO1xyXG4gICAgc3RhcnRQb3Q6YW55O1xyXG5cclxuICAgIGZyYW1lOlBJWEkuR3JhcGhpY3M7XHJcbiAgICBmcmFtZU1hc2s6UElYSS5HcmFwaGljcztcclxuICAgIHBvaW50ZXJzOkFycmF5PFBJWEkuR3JhcGhpY3M+O1xyXG4gICAgcG9pbnRlclNpemU6bnVtYmVyID0gNDA7XHJcbiAgICBwb2ludGVySW5kZXg6bnVtYmVyO1xyXG5cclxuICAgIHN0YWdlV2lkdGg6bnVtYmVyO1xyXG4gICAgc3RhZ2VIZWlnaHQ6bnVtYmVyO1xyXG5cclxuICAgIGNsaXBXaWR0aDpudW1iZXI7XHJcbiAgICBjbGlwSGVpZ2h0Om51bWJlcjtcclxuXHJcbiAgICBwYWRkaW5nOm51bWJlciA9IDQwO1xyXG4gICAgcmVjdDpQSVhJLkJvdW5kcztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih3Om51bWJlciwgaDpudW1iZXIpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhZ2VXaWR0aCA9IHc7XHJcbiAgICAgICAgdGhpcy5zdGFnZUhlaWdodCA9IGg7XHJcblxyXG4gICAgICAgIHRoaXMucmVjdCA9IG5ldyBQSVhJLkJvdW5kcygpO1xyXG5cclxuICAgICAgICB0aGlzLmZyYW1lTWFzayA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmZyYW1lTWFzayk7XHJcblxyXG4gICAgICAgIHRoaXMuZnJhbWUgPSBuZXcgUElYSS5HcmFwaGljcygpO1xyXG4gICAgICAgIHRoaXMuZnJhbWUuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5mcmFtZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wb2ludGVycyA9IFtdO1xyXG4gICAgICAgIGZvcih2YXIgaTpudW1iZXIgPSAwOyBpIDwgODsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIHA6IFBJWEkuR3JhcGhpY3MgPSB0aGlzLm1ha2VQb2ludGVyKCk7XHJcbiAgICAgICAgICAgIHAuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJzLnB1c2gocCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQocCk7XHJcbiAgICAgICAgICAgIHAub24oJ3BvaW50ZXJkb3duJywgdGhpcy5vbkRyYWdTdGFydC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVzZXQodGhpcy5wYWRkaW5nLCB3IC0gdGhpcy5wYWRkaW5nLCB0aGlzLnBhZGRpbmcsIGggLSB0aGlzLnBhZGRpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoaG9yaXpvbnRhbDpib29sZWFuKXtcclxuICAgICAgICB2YXIgdyA9IHRoaXMuc3RhZ2VXaWR0aDtcclxuICAgICAgICB2YXIgaCA9IHRoaXMuc3RhZ2VIZWlnaHQ7XHJcbiAgICAgICAgdmFyIHNpemUgPSAodyAtIDIgKiB0aGlzLnBhZGRpbmcpIC8gMi40O1xyXG4gICAgICAgIGlmKGhvcml6b250YWwpe1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KHRoaXMucGFkZGluZywgdyAtIHRoaXMucGFkZGluZywgc2l6ZSwgaCAtIHNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KHNpemUsIHcgLSBzaXplLCB0aGlzLnBhZGRpbmcsIGggLSB0aGlzLnBhZGRpbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja05lYXJQb2ludGVyKHA6YW55KXtcclxuICAgICAgICBmb3IodmFyIGk6bnVtYmVyID0gMDsgaSA8IHRoaXMucG9pbnRlcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2U6bnVtYmVyID0gdGhpcy5nZXREaXN0YW5jZSh0aGlzLnBvaW50ZXJzW2ldLCBwKTtcclxuICAgICAgICAgICAgaWYoZGlzdGFuY2UgPCB0aGlzLnBvaW50ZXJTaXplKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREaXN0YW5jZShhOmFueSwgYjphbnkpe1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoKGEueCAtIGIueCkgKiAoYS54IC0gYi54KSArIChhLnkgLSBiLnkpICogKGEueSAtIGIueSkpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRHJhZ1N0YXJ0KGU6YW55KXtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIHZhciBsb2NhbCA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRQb3QgPSB7eDogbG9jYWwueCwgeTpsb2NhbC55fTtcclxuXHJcbiAgICAgICAgdmFyIGl0ZW0gPSBlLnRhcmdldDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJJbmRleCA9IHRoaXMuY2hlY2tOZWFyUG9pbnRlcihsb2NhbCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzLnBvaW50ZXJJbmRleFwiLCB0aGlzLnBvaW50ZXJJbmRleCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdGhpcy5ib3guc2V0Q2hpbGRJbmRleChpdGVtLCB0aGlzLmJveC5jaGlsZHJlbi5sZW5ndGggLSAxKTtcclxuICAgICAgICBpdGVtLm9uKCdwb2ludGVydXAnLCB0aGlzLm9uRHJhZ0VuZCwgdGhpcyk7XHJcbiAgICAgICAgaXRlbS5vbigncG9pbnRlcnVwb3V0c2lkZScsIHRoaXMub25EcmFnRW5kLCB0aGlzKTtcclxuICAgICAgICBpdGVtLm9uKCdwb2ludGVybW92ZScsIHRoaXMub25EcmFnTW92ZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5kcmFnSXRlbSA9IGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgaGl0RnJhbWUoZTphbnkpe1xyXG4gICAgICAgIHZhciBsb2NhbCA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMpO1xyXG4gICAgICAgIGlmKGxvY2FsLnggPiB0aGlzLnJlY3QubWluWCAmJiBsb2NhbC54IDwgdGhpcy5yZWN0Lm1heFgpe1xyXG4gICAgICAgICAgICBpZihsb2NhbC55ID4gdGhpcy5yZWN0Lm1pblkgJiYgbG9jYWwueSA8IHRoaXMucmVjdC5tYXhZKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlRnJhbWUoeDpudW1iZXIsIHk6bnVtYmVyKXtcclxuICAgICAgICBpZih0aGlzLnJlY3QubWluWCArIHggPCB0aGlzLnBhZGRpbmcpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm92ZXIgbGVmdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaWYodGhpcy5yZWN0Lm1heFggKyB4ID4gdGhpcy5zdGFnZVdpZHRoIC0gdGhpcy5wYWRkaW5nKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3ZlciByaWdodFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblggKz0geDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5tYXhYICs9IHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMucmVjdC5taW5ZICsgeSA8IHRoaXMucGFkZGluZyl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3ZlciB0b3BcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucmVjdC5tYXhZICsgeSA+IHRoaXMuc3RhZ2VIZWlnaHQgLSB0aGlzLnBhZGRpbmcpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJvdmVyIGJvdHRvbVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblkgKz0geTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5tYXhZICs9IHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EcmFnTW92ZShlOmFueSl7XHJcbiAgICAgICAgaWYodGhpcy5kcmFnZ2luZyl7XHJcbiAgICAgICAgICAgIHZhciBsb2NhbCA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgLy/lt6bkuIpcclxuICAgICAgICAgICAgaWYodGhpcy5wb2ludGVySW5kZXggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWCA9IGxvY2FsLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWSA9IGxvY2FsLnk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW3puS4ilwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+S4reS4ilxyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMucG9pbnRlckluZGV4ID09IDEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblkgPSBsb2NhbC55O1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLkuK3kuIpcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/lj7PkuIpcclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLnBvaW50ZXJJbmRleCA9PSAyKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5tYXhYID0gbG9jYWwueDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5taW5ZID0gbG9jYWwueTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+z5LiKXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5Y+z5LitXHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5wb2ludGVySW5kZXggPT0gMyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWF4WCA9IGxvY2FsLng7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPs+S4rVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+WPs+S4i1xyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMucG9pbnRlckluZGV4ID09IDQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1heFggPSBsb2NhbC54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1heFkgPSBsb2NhbC55O1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlj7PkuItcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy/kuK3kuItcclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLnBvaW50ZXJJbmRleCA9PSA1KXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdC5tYXhZID0gbG9jYWwueTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Lit5LiLXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8v5bem5LiLXHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5wb2ludGVySW5kZXggPT0gNil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWCA9IGxvY2FsLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWF4WSA9IGxvY2FsLnk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW3puS4i1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL+W3puS4rVxyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMucG9pbnRlckluZGV4ID09IDcpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1pblggPSBsb2NhbC54O1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlt6bkuK1cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnJlY3QubWluWCA8IHRoaXMucGFkZGluZyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWCA9IHRoaXMucGFkZGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnJlY3QubWF4WCA+IHRoaXMuc3RhZ2VXaWR0aCAtIHRoaXMucGFkZGluZyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWF4WCA9IHRoaXMuc3RhZ2VXaWR0aCAtIHRoaXMucGFkZGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnJlY3QubWluWSA8IHRoaXMucGFkZGluZyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3QubWluWSA9IHRoaXMucGFkZGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnJlY3QubWF4WSA+IHRoaXMuc3RhZ2VIZWlnaHQgLSB0aGlzLnBhZGRpbmcpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0Lm1heFkgPSB0aGlzLnN0YWdlSGVpZ2h0IC0gdGhpcy5wYWRkaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsaXBXaWR0aCA9IHRoaXMucmVjdC5tYXhYIC0gdGhpcy5yZWN0Lm1pblg7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpcEhlaWdodCA9IHRoaXMucmVjdC5tYXhZIC0gdGhpcy5yZWN0Lm1pblk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJzaXplXCIsIHt3aWR0aDogdGhpcy5jbGlwV2lkdGgsIGhlaWdodDogdGhpcy5jbGlwSGVpZ2h0fSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG90ID0ge3g6IGxvY2FsLngsIHk6bG9jYWwueX07XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRHJhZ0VuZChlOmFueSl7XHJcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5kcmFnSXRlbTtcclxuICAgICAgICBpdGVtLm9mZigncG9pbnRlcnVwJywgdGhpcy5vbkRyYWdFbmQsIHRoaXMpO1xyXG4gICAgICAgIGl0ZW0ub2ZmKCdwb2ludGVydXBvdXRzaWRlJywgdGhpcy5vbkRyYWdFbmQsIHRoaXMpO1xyXG4gICAgICAgIGl0ZW0ub2ZmKCdwb2ludGVybW92ZScsIHRoaXMub25EcmFnTW92ZSwgdGhpcyk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGFnZVdpZHRoLCB0aGlzLnN0YWdlSGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBtYWtlUG9pbnRlcigpe1xyXG4gICAgICAgIHZhciBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDB4MDY5Y2ZmLCAxKTtcclxuICAgICAgICBncmFwaGljcy5kcmF3UmVjdCgwLCAwLCB0aGlzLnBvaW50ZXJTaXplLCB0aGlzLnBvaW50ZXJTaXplKTtcclxuICAgICAgICBncmFwaGljcy5lbmRGaWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIGdyYXBoaWNzO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KGw6bnVtYmVyLCByOm51bWJlciwgdDpudW1iZXIsIGI6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLnJlY3QubWluWCA9IGw7XHJcbiAgICAgICAgdGhpcy5yZWN0Lm1heFggPSByO1xyXG4gICAgICAgIHRoaXMucmVjdC5taW5ZID0gdDtcclxuICAgICAgICB0aGlzLnJlY3QubWF4WSA9IGI7XHJcblxyXG4gICAgICAgIHRoaXMuY2xpcFdpZHRoID0gdGhpcy5yZWN0Lm1heFggLSB0aGlzLnJlY3QubWluWDtcclxuICAgICAgICB0aGlzLmNsaXBIZWlnaHQgPSB0aGlzLnJlY3QubWF4WSAtIHRoaXMucmVjdC5taW5ZO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG5cclxuICAgICAgICB2YXIgbGVmdCA9IHRoaXMucmVjdC5taW5YO1xyXG4gICAgICAgIHZhciB0b3AgPSB0aGlzLnJlY3QubWluWTtcclxuICAgICAgICB2YXIgcmlnaHQgPSB0aGlzLnJlY3QubWF4WDtcclxuICAgICAgICB2YXIgYm90dG9tID0gdGhpcy5yZWN0Lm1heFk7XHJcblxyXG4gICAgICAgIHZhciBncmFwaGljcyA9IHRoaXMuZnJhbWU7XHJcbiAgICAgICAgZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICBncmFwaGljcy5saW5lU3R5bGUoMSwgMHgwNjljZmYpO1xyXG4gICAgICAgIC8v6YCP5piO5bGC77yM55So5p2l5Lqk5LqSXHJcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDB4ZmZmZmZmLCAwLjA0KTtcclxuICAgICAgICBncmFwaGljcy5kcmF3UmVjdChsZWZ0LCB0b3AsIHJpZ2h0IC0gbGVmdCwgYm90dG9tIC0gdG9wKTtcclxuICAgICAgICBncmFwaGljcy5lbmRGaWxsKCk7XHJcblxyXG4gICAgICAgIHZhciBvZmZzZXQ6bnVtYmVyID0gdGhpcy5wb2ludGVyU2l6ZSAvIDI7XHJcblxyXG4gICAgICAgIC8v5bem5LiKXHJcbiAgICAgICAgdGhpcy5wb2ludGVyc1swXS54ID0gbGVmdCAtIG9mZnNldDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJzWzBdLnkgPSB0b3AgLSBvZmZzZXQ7XHJcblxyXG4gICAgICAgIC8v5Lit5LiKXHJcbiAgICAgICAgdGhpcy5wb2ludGVyc1sxXS54ID0gKGxlZnQgKyByaWdodCkgLyAyIC0gb2Zmc2V0O1xyXG4gICAgICAgIHRoaXMucG9pbnRlcnNbMV0ueSA9IHRvcCAtIG9mZnNldDtcclxuXHJcbiAgICAgICAgLy/lj7PkuIpcclxuICAgICAgICB0aGlzLnBvaW50ZXJzWzJdLnggPSByaWdodCAtIG9mZnNldDtcclxuICAgICAgICB0aGlzLnBvaW50ZXJzWzJdLnkgPSB0b3AgLSBvZmZzZXQ7XHJcblxyXG4gICAgICAgIC8v5Y+z5LitXHJcbiAgICAgICAgdGhpcy5wb2ludGVyc1szXS54ID0gcmlnaHQgLSBvZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyc1szXS55ID0gKHRvcCArIGJvdHRvbSkgLyAyIC0gb2Zmc2V0O1xyXG5cclxuICAgICAgICAvL+WPs+S4i1xyXG4gICAgICAgIHRoaXMucG9pbnRlcnNbNF0ueCA9IHJpZ2h0IC0gb2Zmc2V0O1xyXG4gICAgICAgIHRoaXMucG9pbnRlcnNbNF0ueSA9IGJvdHRvbSAtIG9mZnNldDtcclxuXHJcbiAgICAgICAgLy/kuK3kuItcclxuICAgICAgICB0aGlzLnBvaW50ZXJzWzVdLnggPSAocmlnaHQgKyBsZWZ0KSAvIDIgLSBvZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyc1s1XS55ID0gYm90dG9tIC0gb2Zmc2V0O1xyXG5cclxuICAgICAgICAvL+W3puS4i1xyXG4gICAgICAgIHRoaXMucG9pbnRlcnNbNl0ueCA9IGxlZnQgLSBvZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyc1s2XS55ID0gYm90dG9tIC0gb2Zmc2V0O1xyXG5cclxuICAgICAgICAvL+W3puS4rVxyXG4gICAgICAgIHRoaXMucG9pbnRlcnNbN10ueCA9IGxlZnQgLSBvZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5wb2ludGVyc1s3XS55ID0gKGJvdHRvbSArIHRvcCkgLyAyIC0gb2Zmc2V0O1xyXG5cclxuICAgICAgICBncmFwaGljcyA9IHRoaXMuZnJhbWVNYXNrO1xyXG4gICAgICAgIGdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDB4MDAwMDAwLCAwLjgpO1xyXG4gICAgICAgIGdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIHRoaXMuc3RhZ2VXaWR0aCwgdGhpcy5zdGFnZUhlaWdodCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5Ib2xlKCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuZHJhd1JlY3QobGVmdCwgdG9wLCByaWdodCAtIGxlZnQsIGJvdHRvbSAtIHRvcCk7XHJcbiAgICAgICAgZ3JhcGhpY3MuZW5kSG9sZSgpO1xyXG4gICAgICAgIGdyYXBoaWNzLmVuZEZpbGwoKTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3e17\n')},"3f39":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3L2luZGV4LnZ1ZT8yNGE0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjNmMzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3f39\n")},"56d7":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\nvar es_array_index_of = __webpack_require__("c975");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.search.js\nvar es_string_search = __webpack_require__("841c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__("e260");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__("e6cf");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__("cca6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.finally.js\nvar es_promise_finally = __webpack_require__("a79d");\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.runtime.esm.js\nvar vue_runtime_esm = __webpack_require__("2b0e");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2a34ca46-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=template&id=318acee4&\nvar Appvue_type_template_id_318acee4_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{attrs:{"id":"app"}},[_c(\'Web\')],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/App.vue?vue&type=template&id=318acee4&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2a34ca46-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/Web/index.vue?vue&type=template&id=4e20f1c0&scoped=true&\nvar Webvue_type_template_id_4e20f1c0_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"page"},[_c(\'div\',{staticClass:"stage"},[_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(_vm.useDom),expression:"useDom"}],staticClass:"pic",style:(_vm.style)}),_c(\'canvas\',{ref:"canvas",staticClass:"canvas",class:{\'hide\': _vm.useDom}})]),_c(\'div\',{staticClass:"bottom"},[_c(\'div\',{staticClass:"state"},[_c(\'div\',{staticClass:"tip"},[_vm._v("原始尺寸："+_vm._s(_vm.originSize.width)+"x"+_vm._s(_vm.originSize.height))]),_c(\'div\',{staticClass:"tip"},[_vm._v("裁剪尺寸："+_vm._s(_vm.clipSize.width)+"x"+_vm._s(_vm.clipSize.height))])]),_c(\'div\',{staticClass:"control"},[_c(\'div\',{staticClass:"btns"},[_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onTransform(\'fitWidth\')}}},[_c(\'div\',{staticClass:"ico size width"})]),_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onTransform(\'fitHeight\')}}},[_c(\'div\',{staticClass:"ico size height"})])]),_c(\'div\',{staticClass:"btns"},[_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onTransform(\'rotateLeft\')}}},[_c(\'div\',{staticClass:"ico rotate left"})]),_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onTransform(\'rotateRight\')}}},[_c(\'div\',{staticClass:"ico rotate right"})])]),_c(\'div\',{staticClass:"btns"},[_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onTransform(\'turnX\')}}},[_c(\'div\',{staticClass:"ico turn x"})]),_c(\'div\',{staticClass:"box",on:{"click":function($event){return _vm.onTransform(\'turnY\')}}},[_c(\'div\',{staticClass:"ico turn y"})])])]),_c(\'div\',{staticClass:"clip-btns"},[_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(!_vm.useDom),expression:"!useDom"}],staticClass:"clip btn",on:{"click":_vm.onStartDom}},[_c(\'div\',{staticClass:"ico web"}),_vm._v("预处理")]),_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(_vm.useDom),expression:"useDom"}],staticClass:"clip btn",on:{"click":function($event){return _vm.onEndDom(false)}}},[_vm._v("×")]),_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(_vm.useDom),expression:"useDom"}],staticClass:"clip btn",on:{"click":function($event){return _vm.onEndDom(true)}}},[_vm._v("√")]),_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(!_vm.useDom),expression:"!useDom"}],staticClass:"clip btn",on:{"click":_vm.onClip}},[_c(\'div\',{staticClass:"ico cut"}),_vm._v("裁剪")])])]),_c(\'Preview\',{ref:"preview",on:{"clip":_vm.onSure,"scale":_vm.onScale}})],1)}\nvar Webvue_type_template_id_4e20f1c0_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/Web/index.vue?vue&type=template&id=4e20f1c0&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__("96cf");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("1da1");\n\n// EXTERNAL MODULE: ./src/core/Game.ts\nvar Game = __webpack_require__("044f");\n\n// EXTERNAL MODULE: ./src/core/web/ImageCliper.ts\nvar ImageCliper = __webpack_require__("f8de");\n\n// EXTERNAL MODULE: ./src/core/tooler/CommonTooler.ts\nvar CommonTooler = __webpack_require__("5ba0");\nvar CommonTooler_default = /*#__PURE__*/__webpack_require__.n(CommonTooler);\n\n// EXTERNAL MODULE: ./src/core/listener.js\nvar listener = __webpack_require__("2643");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2a34ca46-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Preview/index.vue?vue&type=template&id=17e531b8&scoped=true&\nvar Previewvue_type_template_id_17e531b8_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.visible)?_c(\'div\',{staticClass:"preview"},[_c(\'div\',{staticClass:"box"},[_c(\'div\',{staticClass:"img-box"},[(_vm.url)?_c(\'img\',{staticClass:"img",attrs:{"src":_vm.url}}):_vm._e()]),(_vm.info)?_c(\'div\',{staticClass:"info"},[_c(\'div\',{staticClass:"tip"},[_vm._v("裁剪尺寸："+_vm._s(_vm.info.clipSize.width)+"x"+_vm._s(_vm.info.clipSize.height))])]):_vm._e(),_c(\'div\',{staticClass:"scale"},_vm._l((_vm.scales),function(item,index){return _c(\'div\',{key:item.label,staticClass:"size",class:{selected:_vm.scaleId==index},on:{"click":function($event){return _vm.onChangeSize(index)}}},[_vm._v(_vm._s(item.label))])}),0),_c(\'div\',{staticClass:"result-btns"},[_c(\'div\',{staticClass:"btn",on:{"click":_vm.onCancel}},[_vm._v("取消")]),_c(\'div\',{staticClass:"sure btn",on:{"click":_vm.onSure}},[_vm._v("确定")])])])]):_vm._e()}\nvar Previewvue_type_template_id_17e531b8_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/Preview/index.vue?vue&type=template&id=17e531b8&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Preview/index.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar game;\n/* harmony default export */ var Previewvue_type_script_lang_js_ = ({\n  data: function data() {\n    return {\n      url: \'\',\n      visible: false,\n      info: null,\n      scaleId: 0,\n      scales: [{\n        label: "无缩放",\n        value: 1\n      }, {\n        label: "750px",\n        value: 750\n      }, {\n        label: "30%",\n        value: 0.3\n      }, {\n        label: "50%",\n        value: 0.5\n      }, {\n        label: "70%",\n        value: 0.7\n      }]\n    };\n  },\n  mounted: function mounted() {},\n  methods: {\n    show: function show(url, info) {\n      this.visible = true;\n      this.url = url;\n      this.info = info;\n    },\n    onCancel: function onCancel() {\n      this.visible = false;\n    },\n    onSure: function onSure() {\n      this.visible = false;\n      this.$emit("clip");\n    },\n    //设置缩放尺寸预览\n    onChangeSize: function onChangeSize(n) {\n      this.scaleId = n;\n      this.$emit("scale", this.scales[n]);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/Preview/index.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_Previewvue_type_script_lang_js_ = (Previewvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/Preview/index.vue?vue&type=style&index=0&id=17e531b8&lang=less&scoped=true&\nvar Previewvue_type_style_index_0_id_17e531b8_lang_less_scoped_true_ = __webpack_require__("345f");\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("2877");\n\n// CONCATENATED MODULE: ./src/components/Preview/index.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  components_Previewvue_type_script_lang_js_,\n  Previewvue_type_template_id_17e531b8_scoped_true_render,\n  Previewvue_type_template_id_17e531b8_scoped_true_staticRenderFns,\n  false,\n  null,\n  "17e531b8",\n  null\n  \n)\n\n/* harmony default export */ var Preview = (component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/Web/index.vue?vue&type=script&lang=js&\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar Webvue_type_script_lang_js_game;\n/* harmony default export */ var Webvue_type_script_lang_js_ = ({\n  data: function data() {\n    return {\n      // inPre: false,\n      // hide: false,\n      useDom: false,\n      style: {},\n      pic: {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0,\n        padding: 0\n      },\n      originSize: {\n        width: 0,\n        height: 0\n      },\n      clipSize: {\n        width: 0,\n        height: 0\n      },\n      img: null,\n      url: "",\n      blob: null,\n      info: null\n    };\n  },\n  components: {\n    Preview: Preview\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    Webvue_type_script_lang_js_game = new Game["Game"](this.$refs.canvas);\n    Webvue_type_script_lang_js_game.reset(new ImageCliper["ImageCliper"]()); //初始化图片尺寸\n\n    listener["default"].on("initSize", function (w, h) {\n      _this.originSize.width = w;\n      _this.originSize.height = h;\n    }); //设置裁剪后的真实尺寸\n\n    listener["default"].on("clipSize", function (w, h) {\n      _this.clipSize.width = parseInt(w);\n      _this.clipSize.height = parseInt(h);\n    }); //裁剪完成\n\n    listener["default"].on("clipEnd", function (url, blob, info) {\n      _this.url = url;\n      _this.blob = blob;\n      _this.info = info;\n\n      _this.$refs.preview.show(url, info);\n    }); //dom截图模式框尺寸变换\n\n    listener["default"].on("domSize", function (w, h) {\n      var r = window.innerWidth / 750;\n      var s = _this.pic.width / _this.originSize.width / r;\n      _this.clipSize.width = parseInt(w / s);\n      _this.clipSize.height = parseInt(h / s);\n    }); //移动dom图片\n\n    listener["default"].on("move", function (offset) {\n      console.log("pic move");\n      var _this$pic = _this.pic,\n          top = _this$pic.top,\n          left = _this$pic.left,\n          width = _this$pic.width,\n          height = _this$pic.height,\n          padding = _this$pic.padding;\n\n      if (width > height) {\n        left += offset.x;\n      } else {\n        top += offset.y;\n      }\n\n      _this.pic.left = left;\n      _this.pic.top = top;\n\n      _this.update();\n    });\n  },\n  methods: {\n    onSure: function onSure() {\n      var data = {\n        type: "complete",\n        url: this.url,\n        blob: this.blob,\n        info: this.info\n      };\n      console.log("clip complete", data);\n      window.parent.postMessage(data);\n    },\n    //设置缩放尺寸预览\n    onScale: function onScale(obj) {\n      // this.scaleId = n;\n      if (obj.value == 750) {\n        listener["default"].emit("clipPreview", obj.value / this.clipSize.width);\n      } else {\n        listener["default"].emit("clipPreview", obj.value);\n      }\n    },\n    //预览\n    onClip: function onClip() {\n      listener["default"].emit("clipPreview", 1);\n    },\n    //变换图片\n    onTransform: function onTransform(type) {\n      listener["default"].emit("transform", type);\n    },\n    //更新dom图片位置\n    update: function update() {\n      var obj = {\n        top: this.pic.top + "px",\n        left: this.pic.left + "px",\n        width: this.pic.width + "px",\n        height: this.pic.height + "px"\n      };\n      var style = Object.assign(this.style, obj);\n      this.style = style;\n    },\n    //裁剪dom图片结束\n    onEndDom: function onEndDom(use) {\n      var param = null;\n\n      if (use) {\n        var r = window.innerWidth / 750;\n        var _this$pic2 = this.pic,\n            left = _this$pic2.left,\n            top = _this$pic2.top,\n            width = _this$pic2.width,\n            height = _this$pic2.height;\n        param = {\n          left: left / r,\n          top: top / r,\n          width: width / r,\n          height: height / r,\n          img: this.img\n        };\n      } else {\n        this.onTransform(\'fitWidth\');\n      }\n\n      listener["default"].emit("endDom", param);\n      this.useDom = false;\n    },\n    //始使用dom图片\n    onStartDom: function onStartDom() {\n      var _this2 = this;\n\n      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var url, img;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.useDom = true;\n                url = CommonTooler_default.a.getQueryString("url");\n                _this2.style = {\n                  backgroundImage: "url(" + url + ")",\n                  left: 0,\n                  top: 0,\n                  width: 0,\n                  height: 0\n                };\n                _context.next = 5;\n                return CommonTooler_default.a.loadImage(url);\n\n              case 5:\n                img = _context.sent;\n                _this2.img = img;\n                listener["default"].emit("startDom", img.width > img.height, function (rect) {\n                  var left = rect.left;\n                  var top = rect.top;\n                  var width = rect.right - rect.left;\n                  var height = rect.bottom - rect.top;\n                  var padding = Math.min(left, top);\n\n                  if (width > height) {\n                    width = _this2.img.width * height / _this2.img.height;\n                  } else {\n                    height = _this2.img.height * width / _this2.img.width;\n                  }\n\n                  var r = window.innerWidth / 750;\n                  width = width * r;\n                  height = height * r;\n                  left = left * r;\n                  top = top * r;\n                  padding = padding * r;\n                  _this2.pic = {\n                    left: left,\n                    top: top,\n                    width: width,\n                    height: height,\n                    padding: padding\n                  };\n                  console.log(_this2.pic, "pic");\n\n                  _this2.update();\n                });\n\n              case 8:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/Web/index.vue?vue&type=script&lang=js&\n /* harmony default export */ var pages_Webvue_type_script_lang_js_ = (Webvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/pages/Web/index.vue?vue&type=style&index=0&id=4e20f1c0&lang=less&scoped=true&\nvar Webvue_type_style_index_0_id_4e20f1c0_lang_less_scoped_true_ = __webpack_require__("6dae");\n\n// CONCATENATED MODULE: ./src/pages/Web/index.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar Web_component = Object(componentNormalizer["a" /* default */])(\n  pages_Webvue_type_script_lang_js_,\n  Webvue_type_template_id_4e20f1c0_scoped_true_render,\n  Webvue_type_template_id_4e20f1c0_scoped_true_staticRenderFns,\n  false,\n  null,\n  "4e20f1c0",\n  null\n  \n)\n\n/* harmony default export */ var Web = (Web_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n// import Demo from \'./pages/Demo\'\n\n/* harmony default export */ var Appvue_type_script_lang_js_ = ({\n  name: \'App\',\n  components: {\n    Web: Web\n  }\n});\n// CONCATENATED MODULE: ./src/App.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_Appvue_type_script_lang_js_ = (Appvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/App.vue?vue&type=style&index=0&lang=css&\nvar Appvue_type_style_index_0_lang_css_ = __webpack_require__("034f");\n\n// CONCATENATED MODULE: ./src/App.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar App_component = Object(componentNormalizer["a" /* default */])(\n  src_Appvue_type_script_lang_js_,\n  Appvue_type_template_id_318acee4_render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var App = (App_component.exports);\n// CONCATENATED MODULE: ./src/main.js\n\n\n\n\n\n\n\n// import \'lib-flexible\'\n\n\n\n(function () {\n  var active = false;\n\n  if (location.search.indexOf("eruda=true") != -1) {\n    active = true;\n  } else {\n    if (localStorage.getItem("active-eruda") == "true") {\n      active = true;\n    }\n  }\n\n  if (!active) return;\n  var script = document.createElement("script");\n  script.src = "//cdn.bootcss.com/eruda/1.3.0/eruda.min.js";\n  document.body.appendChild(script);\n  script = document.createElement("script");\n  script.innerHTML = \'setTimeout(function(){eruda.init();console.log("eruda.init");}, 3000);\';\n  document.body.appendChild(script);\n})();\n\nvue_runtime_esm["a" /* default */].config.productionTip = false;\nnew vue_runtime_esm["a" /* default */]({\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount(\'#app\');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnZ1ZT81YTFlIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9XZWIvaW5kZXgudnVlPzcwNzYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUHJldmlldy9pbmRleC52dWU/NTMzMyIsIndlYnBhY2s6Ly8vc3JjL2NvbXBvbmVudHMvUHJldmlldy9pbmRleC52dWU/Y2Q5OCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QcmV2aWV3L2luZGV4LnZ1ZT9iOTQ3Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1ByZXZpZXcvaW5kZXgudnVlP2IyNGIiLCJ3ZWJwYWNrOi8vL3NyYy9wYWdlcy9XZWIvaW5kZXgudnVlPzEyNTAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL1dlYi9pbmRleC52dWU/MzQ2NiIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvV2ViL2luZGV4LnZ1ZT9mYTcyIiwid2VicGFjazovLy9zcmMvQXBwLnZ1ZT9jNjVkIiwid2VicGFjazovLy8uL3NyYy9BcHAudnVlPzExNjAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC52dWU/YmZmOSIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz81NmQ3Il0sIm5hbWVzIjpbImFjdGl2ZSIsImxvY2F0aW9uIiwic2VhcmNoIiwiaW5kZXhPZiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJWdWUiLCJjb25maWciLCJwcm9kdWN0aW9uVGlwIiwicmVuZGVyIiwiaCIsIkFwcCIsIiRtb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUksdUNBQU0sZ0JBQWdCLGFBQWEsMEJBQTBCLHdCQUF3QixpQkFBaUIsT0FBTyxZQUFZO0FBQzdIOzs7Ozs7QUNEQSxJQUFJLG1EQUFN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QUFDLENBQUM7QUFBQSxXQUFJQSxDQUFDLENBQUNDLEdBQUQsQ0FBTDtBQUFBO0FBREgsQ0FBUixFQUVHQyxNQUZILENBRVUsTUFGViIsImZpbGUiOiI1NmQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse2F0dHJzOntcImlkXCI6XCJhcHBcIn19LFtfYygnV2ViJyldLDEpfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJwYWdlXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJzdGFnZVwifSxbX2MoJ2Rpdicse2RpcmVjdGl2ZXM6W3tuYW1lOlwic2hvd1wiLHJhd05hbWU6XCJ2LXNob3dcIix2YWx1ZTooX3ZtLnVzZURvbSksZXhwcmVzc2lvbjpcInVzZURvbVwifV0sc3RhdGljQ2xhc3M6XCJwaWNcIixzdHlsZTooX3ZtLnN0eWxlKX0pLF9jKCdjYW52YXMnLHtyZWY6XCJjYW52YXNcIixzdGF0aWNDbGFzczpcImNhbnZhc1wiLGNsYXNzOnsnaGlkZSc6IF92bS51c2VEb219fSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3R0b21cIn0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcInN0YXRlXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ0aXBcIn0sW192bS5fdihcIuWOn+Wni+WwuuWvuO+8mlwiK192bS5fcyhfdm0ub3JpZ2luU2l6ZS53aWR0aCkrXCJ4XCIrX3ZtLl9zKF92bS5vcmlnaW5TaXplLmhlaWdodCkpXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidGlwXCJ9LFtfdm0uX3YoXCLoo4HliarlsLrlr7jvvJpcIitfdm0uX3MoX3ZtLmNsaXBTaXplLndpZHRoKStcInhcIitfdm0uX3MoX3ZtLmNsaXBTaXplLmhlaWdodCkpXSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJjb250cm9sXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJidG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vblRyYW5zZm9ybSgnZml0V2lkdGgnKX19fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaWNvIHNpemUgd2lkdGhcIn0pXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYm94XCIsb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe3JldHVybiBfdm0ub25UcmFuc2Zvcm0oJ2ZpdEhlaWdodCcpfX19LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpY28gc2l6ZSBoZWlnaHRcIn0pXSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJidG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vblRyYW5zZm9ybSgncm90YXRlTGVmdCcpfX19LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpY28gcm90YXRlIGxlZnRcIn0pXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYm94XCIsb246e1wiY2xpY2tcIjpmdW5jdGlvbigkZXZlbnQpe3JldHVybiBfdm0ub25UcmFuc2Zvcm0oJ3JvdGF0ZVJpZ2h0Jyl9fX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImljbyByb3RhdGUgcmlnaHRcIn0pXSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJidG5zXCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vblRyYW5zZm9ybSgndHVyblgnKX19fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaWNvIHR1cm4geFwifSldKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJib3hcIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vblRyYW5zZm9ybSgndHVyblknKX19fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaWNvIHR1cm4geVwifSldKV0pXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiY2xpcC1idG5zXCJ9LFtfYygnZGl2Jyx7ZGlyZWN0aXZlczpbe25hbWU6XCJzaG93XCIscmF3TmFtZTpcInYtc2hvd1wiLHZhbHVlOighX3ZtLnVzZURvbSksZXhwcmVzc2lvbjpcIiF1c2VEb21cIn1dLHN0YXRpY0NsYXNzOlwiY2xpcCBidG5cIixvbjp7XCJjbGlja1wiOl92bS5vblN0YXJ0RG9tfX0sW19jKCdkaXYnLHtzdGF0aWNDbGFzczpcImljbyB3ZWJcIn0pLF92bS5fdihcIumihOWkhOeQhlwiKV0pLF9jKCdkaXYnLHtkaXJlY3RpdmVzOlt7bmFtZTpcInNob3dcIixyYXdOYW1lOlwidi1zaG93XCIsdmFsdWU6KF92bS51c2VEb20pLGV4cHJlc3Npb246XCJ1c2VEb21cIn1dLHN0YXRpY0NsYXNzOlwiY2xpcCBidG5cIixvbjp7XCJjbGlja1wiOmZ1bmN0aW9uKCRldmVudCl7cmV0dXJuIF92bS5vbkVuZERvbShmYWxzZSl9fX0sW192bS5fdihcIsOXXCIpXSksX2MoJ2Rpdicse2RpcmVjdGl2ZXM6W3tuYW1lOlwic2hvd1wiLHJhd05hbWU6XCJ2LXNob3dcIix2YWx1ZTooX3ZtLnVzZURvbSksZXhwcmVzc2lvbjpcInVzZURvbVwifV0sc3RhdGljQ2xhc3M6XCJjbGlwIGJ0blwiLG9uOntcImNsaWNrXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLm9uRW5kRG9tKHRydWUpfX19LFtfdm0uX3YoXCLiiJpcIildKSxfYygnZGl2Jyx7ZGlyZWN0aXZlczpbe25hbWU6XCJzaG93XCIscmF3TmFtZTpcInYtc2hvd1wiLHZhbHVlOighX3ZtLnVzZURvbSksZXhwcmVzc2lvbjpcIiF1c2VEb21cIn1dLHN0YXRpY0NsYXNzOlwiY2xpcCBidG5cIixvbjp7XCJjbGlja1wiOl92bS5vbkNsaXB9fSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaWNvIGN1dFwifSksX3ZtLl92KFwi6KOB5YmqXCIpXSldKV0pLF9jKCdQcmV2aWV3Jyx7cmVmOlwicHJldmlld1wiLG9uOntcImNsaXBcIjpfdm0ub25TdXJlLFwic2NhbGVcIjpfdm0ub25TY2FsZX19KV0sMSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsInZhciByZW5kZXIgPSBmdW5jdGlvbiAoKSB7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7cmV0dXJuIChfdm0udmlzaWJsZSk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwicHJldmlld1wifSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYm94XCJ9LFtfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJpbWctYm94XCJ9LFsoX3ZtLnVybCk/X2MoJ2ltZycse3N0YXRpY0NsYXNzOlwiaW1nXCIsYXR0cnM6e1wic3JjXCI6X3ZtLnVybH19KTpfdm0uX2UoKV0pLChfdm0uaW5mbyk/X2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiaW5mb1wifSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidGlwXCJ9LFtfdm0uX3YoXCLoo4HliarlsLrlr7jvvJpcIitfdm0uX3MoX3ZtLmluZm8uY2xpcFNpemUud2lkdGgpK1wieFwiK192bS5fcyhfdm0uaW5mby5jbGlwU2l6ZS5oZWlnaHQpKV0pXSk6X3ZtLl9lKCksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwic2NhbGVcIn0sX3ZtLl9sKChfdm0uc2NhbGVzKSxmdW5jdGlvbihpdGVtLGluZGV4KXtyZXR1cm4gX2MoJ2Rpdicse2tleTppdGVtLmxhYmVsLHN0YXRpY0NsYXNzOlwic2l6ZVwiLGNsYXNzOntzZWxlY3RlZDpfdm0uc2NhbGVJZD09aW5kZXh9LG9uOntcImNsaWNrXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLm9uQ2hhbmdlU2l6ZShpbmRleCl9fX0sW192bS5fdihfdm0uX3MoaXRlbS5sYWJlbCkpXSl9KSwwKSxfYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJyZXN1bHQtYnRuc1wifSxbX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwiYnRuXCIsb246e1wiY2xpY2tcIjpfdm0ub25DYW5jZWx9fSxbX3ZtLl92KFwi5Y+W5raIXCIpXSksX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwic3VyZSBidG5cIixvbjp7XCJjbGlja1wiOl92bS5vblN1cmV9fSxbX3ZtLl92KFwi56Gu5a6aXCIpXSldKV0pXSk6X3ZtLl9lKCl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3XCIgdi1pZj1cInZpc2libGVcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWctYm94XCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHYtaWY9XCJ1cmxcIiA6c3JjPVwidXJsXCIgY2xhc3M9XCJpbWdcIj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1wiIHYtaWY9XCJpbmZvXCI+XHJcbiAgICAgICAgICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XCJ0aXBcIj7oo4HliarlsLrlr7jvvJp7e2luZm8ub3JpZ2luU2l6ZS53aWR0aH19eHt7aW5mby5vcmlnaW5TaXplLmhlaWdodH19PC9kaXY+IC0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRpcFwiPuijgeWJquWwuuWvuO+8mnt7aW5mby5jbGlwU2l6ZS53aWR0aH19eHt7aW5mby5jbGlwU2l6ZS5oZWlnaHR9fTwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzY2FsZVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpemVcIiBAY2xpY2s9XCJvbkNoYW5nZVNpemUoaW5kZXgpXCIgOmNsYXNzPVwie3NlbGVjdGVkOnNjYWxlSWQ9PWluZGV4fVwiIHYtZm9yPVwiKGl0ZW0sIGluZGV4KSBpbiBzY2FsZXNcIiB2LWJpbmQ6a2V5PVwiaXRlbS5sYWJlbFwiPnt7aXRlbS5sYWJlbH19PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlc3VsdC1idG5zXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuXCIgQGNsaWNrPVwib25DYW5jZWxcIj7lj5bmtog8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdXJlIGJ0blwiIEBjbGljaz1cIm9uU3VyZVwiPuehruWumjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuaW1wb3J0IENvbW1vblRvb2xlciBmcm9tICcuLi8uLi9jb3JlL3Rvb2xlci9Db21tb25Ub29sZXInXHJcbmltcG9ydCBsaXN0ZW5lciBmcm9tICcuLi8uLi9jb3JlL2xpc3RlbmVyJ1xyXG5cclxubGV0IGdhbWU7XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGRhdGEoKXtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6ICcnLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgaW5mbzogbnVsbCxcclxuICAgICAgICAgICAgc2NhbGVJZDogMCxcclxuICAgICAgICAgICAgc2NhbGVzOiBbXHJcbiAgICAgICAgICAgICAgICB7bGFiZWw6IFwi5peg57yp5pS+XCIsIHZhbHVlOiAxfSxcclxuICAgICAgICAgICAgICAgIHtsYWJlbDogXCI3NTBweFwiLCB2YWx1ZTogNzUwfSxcclxuICAgICAgICAgICAgICAgIHtsYWJlbDogXCIzMCVcIiwgdmFsdWU6IDAuM30sXHJcbiAgICAgICAgICAgICAgICB7bGFiZWw6IFwiNTAlXCIsIHZhbHVlOiAwLjV9LFxyXG4gICAgICAgICAgICAgICAge2xhYmVsOiBcIjcwJVwiLCB2YWx1ZTogMC43fVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoKXtcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgc2hvdyh1cmwsIGluZm8pe1xyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICAgICAgdGhpcy5pbmZvID0gaW5mbztcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ2FuY2VsKCl7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25TdXJlKCl7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLiRlbWl0KFwiY2xpcFwiKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+iuvue9rue8qeaUvuWwuuWvuOmihOiniFxyXG4gICAgICAgIG9uQ2hhbmdlU2l6ZShuKXtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZUlkID0gbjtcclxuICAgICAgICAgICAgdGhpcy4kZW1pdChcInNjYWxlXCIsIHRoaXMuc2NhbGVzW25dKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgIH0sXHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cImxlc3NcIiBzY29wZWQ+XHJcbkBpbXBvcnQgJy4vaW5kZXgubGVzcyc7XHJcbjwvc3R5bGU+IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MTdlNTMxYjgmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MTdlNTMxYjgmbGFuZz1sZXNzJnNjb3BlZD10cnVlJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgXCIxN2U1MzFiOFwiLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJwYWdlXCI+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGFnZVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGljXCIgOnN0eWxlPVwic3R5bGVcIiB2LXNob3c9XCJ1c2VEb21cIj48L2Rpdj5cclxuICAgICAgICAgICAgPGNhbnZhcyBjbGFzcz1cImNhbnZhc1wiIDpjbGFzcz1cInsnaGlkZSc6IHVzZURvbX1cIiByZWY9XCJjYW52YXNcIj48L2NhbnZhcz5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImJvdHRvbVwiPlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGlwXCI+5Y6f5aeL5bC65a+477yae3tvcmlnaW5TaXplLndpZHRofX14e3tvcmlnaW5TaXplLmhlaWdodH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGlwXCI+6KOB5Ymq5bC65a+477yae3tjbGlwU2l6ZS53aWR0aH19eHt7Y2xpcFNpemUuaGVpZ2h0fX08L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bnNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25UcmFuc2Zvcm0oJ2ZpdFdpZHRoJylcIj48ZGl2IGNsYXNzPVwiaWNvIHNpemUgd2lkdGhcIj48L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25UcmFuc2Zvcm0oJ2ZpdEhlaWdodCcpXCI+PGRpdiBjbGFzcz1cImljbyBzaXplIGhlaWdodFwiPjwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bnNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25UcmFuc2Zvcm0oJ3JvdGF0ZUxlZnQnKVwiPjxkaXYgY2xhc3M9XCJpY28gcm90YXRlIGxlZnRcIj48L2Rpdj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25UcmFuc2Zvcm0oJ3JvdGF0ZVJpZ2h0JylcIj48ZGl2IGNsYXNzPVwiaWNvIHJvdGF0ZSByaWdodFwiPjwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJ0bnNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCIgQGNsaWNrPVwib25UcmFuc2Zvcm0oJ3R1cm5YJylcIj48ZGl2IGNsYXNzPVwiaWNvIHR1cm4geFwiPjwvZGl2PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3hcIiBAY2xpY2s9XCJvblRyYW5zZm9ybSgndHVyblknKVwiPjxkaXYgY2xhc3M9XCJpY28gdHVybiB5XCI+PC9kaXY+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsaXAtYnRuc1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsaXAgYnRuXCIgQGNsaWNrPVwib25TdGFydERvbVwiIHYtc2hvdz1cIiF1c2VEb21cIj48ZGl2IGNsYXNzPVwiaWNvIHdlYlwiPjwvZGl2PumihOWkhOeQhjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsaXAgYnRuXCIgQGNsaWNrPVwib25FbmREb20oZmFsc2UpXCIgdi1zaG93PVwidXNlRG9tXCI+w5c8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGlwIGJ0blwiIEBjbGljaz1cIm9uRW5kRG9tKHRydWUpXCIgdi1zaG93PVwidXNlRG9tXCI+4oiaPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xpcCBidG5cIiBAY2xpY2s9XCJvbkNsaXBcIiB2LXNob3c9XCIhdXNlRG9tXCI+PGRpdiBjbGFzcz1cImljbyBjdXRcIj48L2Rpdj7oo4Hliao8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPFByZXZpZXcgQGNsaXA9XCJvblN1cmVcIiBAc2NhbGU9XCJvblNjYWxlXCIgcmVmPVwicHJldmlld1wiPjwvUHJldmlldz5cclxuICAgIDwvZGl2PlxyXG5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbmltcG9ydCB7R2FtZX0gZnJvbSAnLi4vLi4vY29yZS9HYW1lJ1xyXG5pbXBvcnQge0ltYWdlQ2xpcGVyfSBmcm9tICcuLi8uLi9jb3JlL3dlYi9JbWFnZUNsaXBlcidcclxuaW1wb3J0IENvbW1vblRvb2xlciBmcm9tICcuLi8uLi9jb3JlL3Rvb2xlci9Db21tb25Ub29sZXInXHJcblxyXG5pbXBvcnQgbGlzdGVuZXIgZnJvbSAnLi4vLi4vY29yZS9saXN0ZW5lcidcclxuaW1wb3J0IFByZXZpZXcgZnJvbSAnQC9jb21wb25lbnRzL1ByZXZpZXcnXHJcblxyXG5sZXQgZ2FtZTtcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgZGF0YSgpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8vIGluUHJlOiBmYWxzZSxcclxuICAgICAgICAgICAgLy8gaGlkZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHVzZURvbTogZmFsc2UsXHJcbiAgICAgICAgICAgIHN0eWxlOiB7fSxcclxuICAgICAgICAgICAgcGljOiB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9yaWdpblNpemU6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNsaXBTaXplOiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbWc6IG51bGwsXHJcbiAgICAgICAgICAgIHVybDogXCJcIiwgXHJcbiAgICAgICAgICAgIGJsb2I6IG51bGwsIFxyXG4gICAgICAgICAgICBpbmZvOiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtQcmV2aWV3fSxcclxuICAgIG1vdW50ZWQoKXtcclxuICAgICAgICBnYW1lID0gbmV3IEdhbWUodGhpcy4kcmVmcy5jYW52YXMpO1xyXG4gICAgICAgIGdhbWUucmVzZXQobmV3IEltYWdlQ2xpcGVyKTtcclxuXHJcbiAgICAgICAgLy/liJ3lp4vljJblm77niYflsLrlr7hcclxuICAgICAgICBsaXN0ZW5lci5vbihcImluaXRTaXplXCIsICh3LCBoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luU2l6ZS53aWR0aCA9IHc7XHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luU2l6ZS5oZWlnaHQgPSBoO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8v6K6+572u6KOB5Ymq5ZCO55qE55yf5a6e5bC65a+4XHJcbiAgICAgICAgbGlzdGVuZXIub24oXCJjbGlwU2l6ZVwiLCAodywgaCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNsaXBTaXplLndpZHRoID0gcGFyc2VJbnQodyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpcFNpemUuaGVpZ2h0ID0gcGFyc2VJbnQoaCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICAvL+ijgeWJquWujOaIkFxyXG4gICAgICAgIGxpc3RlbmVyLm9uKFwiY2xpcEVuZFwiLCAodXJsLCBibG9iLCBpbmZvKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICAgICAgdGhpcy5ibG9iID0gYmxvYjtcclxuICAgICAgICAgICAgdGhpcy5pbmZvID0gaW5mbztcclxuICAgICAgICAgICAgdGhpcy4kcmVmcy5wcmV2aWV3LnNob3codXJsLCBpbmZvKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvL2RvbeaIquWbvuaooeW8j+ahhuWwuuWvuOWPmOaNolxyXG4gICAgICAgIGxpc3RlbmVyLm9uKFwiZG9tU2l6ZVwiLCAodywgaCkgPT4ge1xyXG4gICAgICAgICAgICAgdmFyIHIgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDc1MDtcclxuICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnBpYy53aWR0aCAvIHRoaXMub3JpZ2luU2l6ZS53aWR0aCAvIHI7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpcFNpemUud2lkdGggPSBwYXJzZUludCh3IC8gcyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpcFNpemUuaGVpZ2h0ID0gcGFyc2VJbnQoaCAvIHMpO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8v56e75YqoZG9t5Zu+54mHXHJcbiAgICAgICAgbGlzdGVuZXIub24oXCJtb3ZlXCIsIG9mZnNldCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGljIG1vdmVcIilcclxuICAgICAgICAgICAgdmFyIHt0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmd9ID0gdGhpcy5waWM7XHJcbiAgICAgICAgICAgIGlmKHdpZHRoID4gaGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIGxlZnQgKz0gb2Zmc2V0Lng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRvcCArPSBvZmZzZXQueTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5waWMubGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMucGljLnRvcCA9IHRvcDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIG9uU3VyZSgpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY29tcGxldGVcIixcclxuICAgICAgICAgICAgICAgIHVybDogdGhpcy51cmwsXHJcbiAgICAgICAgICAgICAgICBibG9iOiB0aGlzLmJsb2IsXHJcbiAgICAgICAgICAgICAgICBpbmZvOiB0aGlzLmluZm9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsaXAgY29tcGxldGVcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/orr7nva7nvKnmlL7lsLrlr7jpooTop4hcclxuICAgICAgICBvblNjYWxlKG9iail7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2NhbGVJZCA9IG47XHJcbiAgICAgICAgICAgIGlmKG9iai52YWx1ZSA9PSA3NTApe1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcImNsaXBQcmV2aWV3XCIsIG9iai52YWx1ZSAvIHRoaXMuY2xpcFNpemUud2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5lbWl0KFwiY2xpcFByZXZpZXdcIiwgb2JqLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v6aKE6KeIXHJcbiAgICAgICAgb25DbGlwKCl7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLmVtaXQoXCJjbGlwUHJldmlld1wiLCAxKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+WPmOaNouWbvueJh1xyXG4gICAgICAgIG9uVHJhbnNmb3JtKHR5cGUpe1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5lbWl0KFwidHJhbnNmb3JtXCIsIHR5cGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v5pu05pawZG9t5Zu+54mH5L2N572uXHJcbiAgICAgICAgdXBkYXRlKCl7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IHRoaXMucGljLnRvcCArIFwicHhcIixcclxuICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMucGljLmxlZnQgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5waWMud2lkdGggKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucGljLmhlaWdodCArIFwicHhcIixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBPYmplY3QuYXNzaWduKHRoaXMuc3R5bGUsIG9iaik7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+ijgeWJqmRvbeWbvueJh+e7k+adn1xyXG4gICAgICAgIG9uRW5kRG9tKHVzZSl7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmKHVzZSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IHdpbmRvdy5pbm5lcldpZHRoIC8gNzUwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHtsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHR9ID0gdGhpcy5waWM7XHJcbiAgICAgICAgICAgICAgICBwYXJhbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0IC8gcixcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcCAvIHIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoIC8gcixcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAvIHIsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1nOiB0aGlzLmltZ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybSgnZml0V2lkdGgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcImVuZERvbVwiLCBwYXJhbSk7XHJcbiAgICAgICAgICAgIHRoaXMudXNlRG9tID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy/lp4vkvb/nlKhkb23lm77niYdcclxuICAgICAgICBhc3luYyBvblN0YXJ0RG9tKCl7XHJcbiAgICAgICAgICAgIHRoaXMudXNlRG9tID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSBDb21tb25Ub29sZXIuZ2V0UXVlcnlTdHJpbmcoXCJ1cmxcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGUgPSB7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiICsgdXJsICsgXCIpXCIsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIGltZyA9IGF3YWl0IENvbW1vblRvb2xlci5sb2FkSW1hZ2UodXJsKTtcclxuICAgICAgICAgICAgdGhpcy5pbWcgPSBpbWc7XHJcblxyXG4gICAgICAgICAgICBsaXN0ZW5lci5lbWl0KFwic3RhcnREb21cIiwgaW1nLndpZHRoID4gaW1nLmhlaWdodCwgKHJlY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gcmVjdC5sZWZ0O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvcCA9IHJlY3QudG9wO1xyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDtcclxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSBNYXRoLm1pbihsZWZ0LCB0b3ApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHdpZHRoID4gaGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMuaW1nLndpZHRoICogaGVpZ2h0IC8gdGhpcy5pbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmltZy5oZWlnaHQgKiB3aWR0aCAvIHRoaXMuaW1nLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByID0gd2luZG93LmlubmVyV2lkdGggLyA3NTA7XHJcblxyXG4gICAgICAgICAgICAgICAgd2lkdGggPSB3aWR0aCAqIHI7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQgKiByO1xyXG4gICAgICAgICAgICAgICAgbGVmdCA9IGxlZnQgKiByO1xyXG4gICAgICAgICAgICAgICAgdG9wID0gdG9wICogcjtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nICogcjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpYyA9IHtsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmd9O1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5waWMsIFwicGljXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBsYW5nPVwibGVzc1wiIHNjb3BlZD5cclxuQGltcG9ydCAnLi9pbmRleC5sZXNzJztcclxuPC9zdHlsZT4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZTIwZjFjMCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD00ZTIwZjFjMCZsYW5nPWxlc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjRlMjBmMWMwXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGlkPVwiYXBwXCI+XG4gICAgPFdlYi8+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbi8vIGltcG9ydCBEZW1vIGZyb20gJy4vcGFnZXMvRGVtbydcbmltcG9ydCBXZWIgZnJvbSAnLi9wYWdlcy9XZWInXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ0FwcCcsXG4gIGNvbXBvbmVudHM6IHtcbiAgICBXZWJcbiAgfVxufVxuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cbmh0bWwsIGJvZHl7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG59XG48L3N0eWxlPlxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9BcHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0FwcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0FwcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MzE4YWNlZTQmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQXBwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vQXBwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsIi8vIGltcG9ydCAnbGliLWZsZXhpYmxlJ1xyXG5pbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcclxuaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgaWYobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoXCJlcnVkYT10cnVlXCIpICE9IC0xKXtcclxuICAgICAgICBhY3RpdmUgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImFjdGl2ZS1lcnVkYVwiKSA9PSBcInRydWVcIil7XHJcbiAgICAgICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFhY3RpdmUpIHJldHVybjtcclxuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gICAgc2NyaXB0LnNyYyA9IFwiLy9jZG4uYm9vdGNzcy5jb20vZXJ1ZGEvMS4zLjAvZXJ1ZGEubWluLmpzXCI7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XHJcbiAgICBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gICAgc2NyaXB0LmlubmVySFRNTCA9ICdzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZXJ1ZGEuaW5pdCgpO2NvbnNvbGUubG9nKFwiZXJ1ZGEuaW5pdFwiKTt9LCAzMDAwKTsnO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG59KSgpO1xyXG5cclxuVnVlLmNvbmZpZy5wcm9kdWN0aW9uVGlwID0gZmFsc2U7XHJcblxyXG5uZXcgVnVlKHtcclxuICByZW5kZXI6IGggPT4gaChBcHApLFxyXG59KS4kbW91bnQoJyNhcHAnKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///56d7\n')},"5ba0":function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar CommonTooler = /** @class */ (function () {\r\n    function CommonTooler() {\r\n    }\r\n    CommonTooler.loadImage = function (url) {\r\n        return new Promise(function (resolve) {\r\n            var img = new Image();\r\n            img.crossOrigin = \'\';\r\n            console.log("image crossOrigin: " + img.crossOrigin);\r\n            img.onload = function () {\r\n                resolve(img);\r\n            };\r\n            img.src = url;\r\n        });\r\n    };\r\n    CommonTooler.checkTexture = function (texture) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timer, num, t;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        timer = Date.now();\r\n                        num = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(++num < 30)) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, CommonTooler.sleep(30)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        if (texture.width > 10) {\r\n                            return [3 /*break*/, 3];\r\n                        }\r\n                        return [3 /*break*/, 1];\r\n                    case 3:\r\n                        t = Date.now() - timer;\r\n                        console.log("texture init cost: " + t + "ms");\r\n                        return [2 /*return*/, num];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    CommonTooler.sleep = function (t) {\r\n        return new Promise(function (resolve) {\r\n            setTimeout(function () {\r\n                resolve();\r\n            }, t);\r\n        });\r\n    };\r\n    CommonTooler.getQueryString = function (name) {\r\n        var reg = new RegExp(\'(^|&)\' + name + \'=([^&]*)(&|$)\', \'i\');\r\n        var r = window.location.search.substr(1).match(reg);\r\n        if (r != null) {\r\n            return unescape(r[2]);\r\n        }\r\n        return null;\r\n    };\r\n    CommonTooler.getDistance = function (a, b) {\r\n        return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\r\n    };\r\n    CommonTooler.getCenter = function (a, b) {\r\n        return {\r\n            x: (a.x + b.x) / 2,\r\n            y: (a.y + b.y) / 2\r\n        };\r\n    };\r\n    /**\r\n     * 判断图片是否为png，根据像素透明值判断\r\n     * @param url 图片链接，本地或远程\r\n     */\r\n    CommonTooler.checkPng = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var timer, img, canvas, ctx, w, h, imgData, isPng, i, j, n, t;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        timer = Date.now();\r\n                        return [4 /*yield*/, CommonTooler.loadImage(url)];\r\n                    case 1:\r\n                        img = _a.sent();\r\n                        canvas = document.createElement(\'canvas\');\r\n                        ctx = canvas.getContext(\'2d\');\r\n                        w = Math.floor(img.width / 10);\r\n                        h = Math.floor(img.height / 10);\r\n                        canvas.width = w;\r\n                        canvas.height = h;\r\n                        ctx.drawImage(img, 0, 0, img.width, img.height, 0, 0, w, h);\r\n                        imgData = ctx.getImageData(0, 0, w, h);\r\n                        isPng = false;\r\n                        for (i = 0; i < h; i++) {\r\n                            // var list = [];\r\n                            for (j = 0; j < w; j++) {\r\n                                n = i * w * 4 + j * 4;\r\n                                if (imgData.data[n + 3] < 10) {\r\n                                    isPng = true;\r\n                                    break;\r\n                                    // list.push(".");\r\n                                }\r\n                                else {\r\n                                    // list.push("m");\r\n                                }\r\n                                if (isPng) {\r\n                                    break;\r\n                                }\r\n                            }\r\n                            // console.log(list.join(""));\r\n                        }\r\n                        t = Date.now() - timer;\r\n                        console.log("check is png: " + isPng + ", cost\\uFF1A" + t + "ms");\r\n                        return [2 /*return*/, isPng];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return CommonTooler;\r\n}());\r\nexports.default = CommonTooler;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90b29sZXIvQ29tbW9uVG9vbGVyLnRzPzhlMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBcUdBLENBQUM7SUFsR1Usc0JBQVMsR0FBaEIsVUFBaUIsR0FBVTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLGlCQUFPO1lBQ3RCLElBQUksR0FBRyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7WUFDdEIsR0FBRyxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7WUFDckIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3QkFBc0IsR0FBRyxDQUFDLFdBQWEsQ0FBQyxDQUFDO1lBQ3JELEdBQUcsQ0FBQyxNQUFNLEdBQUc7Z0JBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pCLENBQUM7WUFDRCxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNsQixDQUFDLENBQUM7SUFFTixDQUFDO0lBRVkseUJBQVksR0FBekIsVUFBMEIsT0FBVzs7Ozs7O3dCQUM3QixLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO3dCQUNuQixHQUFHLEdBQUcsQ0FBQyxDQUFDOzs7NkJBQ04sR0FBRSxHQUFHLEdBQUcsRUFBRTt3QkFDWixxQkFBTSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQzs7d0JBQTVCLFNBQTRCLENBQUM7d0JBQzdCLElBQUcsT0FBTyxDQUFDLEtBQUssR0FBRyxFQUFFLEVBQUM7NEJBQ2xCLHdCQUFNO3lCQUNUOzs7d0JBRUQsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUM7d0JBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXNCLENBQUMsT0FBSSxDQUFDLENBQUM7d0JBQ3pDLHNCQUFPLEdBQUcsRUFBQzs7OztLQUNkO0lBRU0sa0JBQUssR0FBWixVQUFhLENBQVE7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QUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dDQUMxQixJQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBQztvQ0FDeEIsS0FBSyxHQUFHLElBQUksQ0FBQztvQ0FDYixNQUFNO29DQUNOLGtCQUFrQjtpQ0FDckI7cUNBQ0c7b0NBQ0Esa0JBQWtCO2lDQUNyQjtnQ0FDRCxJQUFHLEtBQUssRUFBQztvQ0FDTCxNQUFNO2lDQUNUOzZCQUNKOzRCQUNELDhCQUE4Qjt5QkFDakM7d0JBQ0csQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUM7d0JBQzNCLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQWlCLEtBQUssb0JBQVUsQ0FBQyxPQUFJLENBQUMsQ0FBQzt3QkFDbkQsc0JBQU8sS0FBSyxFQUFDOzs7O0tBRWhCO0lBQ0wsbUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6IjViYTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tb25Ub29sZXJ7XHJcblxyXG5cclxuICAgIHN0YXRpYyBsb2FkSW1hZ2UodXJsOnN0cmluZyl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICcnO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgaW1hZ2UgY3Jvc3NPcmlnaW46ICR7aW1nLmNyb3NzT3JpZ2lufWApO1xyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoaW1nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbWcuc3JjID0gdXJsO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFzeW5jIGNoZWNrVGV4dHVyZSh0ZXh0dXJlOmFueSl7XHJcbiAgICAgICAgdmFyIHRpbWVyID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgbnVtID0gMDtcclxuICAgICAgICB3aGlsZSgrK251bSA8IDMwKXtcclxuICAgICAgICAgICAgYXdhaXQgQ29tbW9uVG9vbGVyLnNsZWVwKDMwKTtcclxuICAgICAgICAgICAgaWYodGV4dHVyZS53aWR0aCA+IDEwKXtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ID0gRGF0ZS5ub3coKSAtIHRpbWVyO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGB0ZXh0dXJlIGluaXQgY29zdDogJHt0fW1zYCk7XHJcbiAgICAgICAgcmV0dXJuIG51bTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2xlZXAodDpudW1iZXIpe1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlPT57XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9LCB0KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRRdWVyeVN0cmluZyhuYW1lOnN0cmluZyk6YW55IHtcclxuICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKF58JiknICsgbmFtZSArICc9KFteJl0qKSgmfCQpJywgJ2knKTtcclxuICAgICAgICB2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7XHJcbiAgICAgICAgaWYgKHIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV0dXJuIHVuZXNjYXBlKHJbMl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RGlzdGFuY2UoYTphbnksIGI6YW55KXtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGEueCAtIGIueCwgMikgKyBNYXRoLnBvdyhhLnkgLSBiLnksIDIpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0Q2VudGVyKGE6YW55LCBiOmFueSl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDogKGEueCArIGIueCkgLyAyLFxyXG4gICAgICAgICAgICB5OiAoYS55ICsgYi55KSAvIDJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliKTmlq3lm77niYfmmK/lkKbkuLpwbmfvvIzmoLnmja7lg4/ntKDpgI/mmI7lgLzliKTmlq1cclxuICAgICAqIEBwYXJhbSB1cmwg5Zu+54mH6ZO+5o6l77yM5pys5Zyw5oiW6L+c56iLXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBjaGVja1BuZyh1cmw6c3RyaW5nKXtcclxuICAgICAgICB2YXIgdGltZXIgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBpbWc6IGFueSA9IGF3YWl0IENvbW1vblRvb2xlci5sb2FkSW1hZ2UodXJsKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgY2FudmFzOmFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgdmFyIHcgPSBNYXRoLmZsb29yKGltZy53aWR0aCAvIDEwKTtcclxuICAgICAgICB2YXIgaCA9IE1hdGguZmxvb3IoaW1nLmhlaWdodCAvIDEwKTtcclxuICAgICAgICBcclxuICAgICAgICBjYW52YXMud2lkdGggPSB3O1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoO1xyXG5cclxuICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0LCAwLCAwLCB3LCBoKTtcclxuICAgICAgICB2YXIgaW1nRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdywgaCk7XHJcbiAgICAgICAgdmFyIGlzUG5nID0gZmFsc2U7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGg7IGkrKyl7XHJcbiAgICAgICAgICAgIC8vIHZhciBsaXN0ID0gW107XHJcbiAgICAgICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCB3OyBqKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIG4gPSBpICogdyAqIDQgKyBqICogNDtcclxuICAgICAgICAgICAgICAgIGlmKGltZ0RhdGEuZGF0YVtuICsgM10gPCAxMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNQbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpc3QucHVzaChcIi5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpc3QucHVzaChcIm1cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpc1BuZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobGlzdC5qb2luKFwiXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHQgPSBEYXRlLm5vdygpIC0gdGltZXI7XHJcbiAgICAgICAgY29uc29sZS5sb2coYGNoZWNrIGlzIHBuZzogJHtpc1BuZ30sIGNvc3TvvJoke3R9bXNgKTtcclxuICAgICAgICByZXR1cm4gaXNQbmc7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5ba0\n')},"6dae":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_4e20f1c0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("182d");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_4e20f1c0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_4e20f1c0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_4e20f1c0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvV2ViL2luZGV4LnZ1ZT82ODdhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUEyaUIsQ0FBZ0IsNGpCQUFHLEVBQUMiLCJmaWxlIjoiNmRhZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTEwLW9uZU9mLTEtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tMTAtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD00ZTIwZjFjMCZsYW5nPWxlc3Mmc2NvcGVkPXRydWUmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTEwLW9uZU9mLTEtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tMTAtb25lT2YtMS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMC1vbmVPZi0xLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9pbmRleC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD00ZTIwZjFjMCZsYW5nPWxlc3Mmc2NvcGVkPXRydWUmXCIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6dae\n')},"81b2":function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar CommonTooler_1 = __importDefault(__webpack_require__("5ba0"));\r\nvar CanvasTooler = /** @class */ (function () {\r\n    function CanvasTooler() {\r\n    }\r\n    //根据图片获取裁剪内容的离线画布\r\n    CanvasTooler.getClipCanvas = function (img, x, y, width, height) {\r\n        var canvas = document.createElement(\'canvas\');\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        var ctx = canvas.getContext(\'2d\');\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, x, y, width, height, 0, 0, width, height);\r\n        return canvas;\r\n    };\r\n    //根据图片链接获取原始内容的离线画布\r\n    CanvasTooler.getCanvasByUrl = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var canvas, img, ctx;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        canvas = document.createElement("canvas");\r\n                        return [4 /*yield*/, CommonTooler_1.default.loadImage(url)];\r\n                    case 1:\r\n                        img = _a.sent();\r\n                        canvas.width = img.width;\r\n                        canvas.height = img.height;\r\n                        ctx = canvas.getContext("2d");\r\n                        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, 0, 0);\r\n                        return [2 /*return*/, canvas];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    //根据图片获取缩放内容的离线画布\r\n    CanvasTooler.getScaleCanvas = function (img, x, y) {\r\n        var canvas = document.createElement("canvas");\r\n        canvas.width = img.width * Math.abs(x);\r\n        canvas.height = img.height * Math.abs(y);\r\n        var ctx = canvas.getContext("2d");\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.save();\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.scale(x, y);\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, x > 0 ? 0 : x * img.width, y > 0 ? 0 : y * img.height);\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.restore();\r\n        return canvas;\r\n    };\r\n    //根据图片获取旋转内容的离线画布\r\n    CanvasTooler.getRotateCanvas = function (img, angle) {\r\n        var canvas = document.createElement("canvas");\r\n        if (angle == 90 || angle == -90) {\r\n            canvas.width = img.height;\r\n            canvas.height = img.width;\r\n        }\r\n        var ctx = canvas.getContext("2d");\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.save();\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.rotate(angle * Math.PI / 180);\r\n        if (angle == 90) {\r\n            ctx === null || ctx === void 0 ? void 0 : ctx.translate(0, -img.height);\r\n        }\r\n        else {\r\n            ctx === null || ctx === void 0 ? void 0 : ctx.translate(-img.width, 0);\r\n        }\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(img, 0, 0);\r\n        ctx === null || ctx === void 0 ? void 0 : ctx.restore();\r\n        return canvas;\r\n    };\r\n    return CanvasTooler;\r\n}());\r\nexports.default = CanvasTooler;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS90b29sZXIvQ2FudmFzVG9vbGVyLnRzPzcyMjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxrRUFBMEM7QUFFMUM7SUFBQTtJQWdFQSxDQUFDO0lBOURHLGlCQUFpQjtJQUNWLDBCQUFhLEdBQXBCLFVBQXFCLEdBQU8sRUFBRSxDQUFRLEVBQUUsQ0FBUSxFQUFFLEtBQVksRUFBRSxNQUFhO1FBQ3pFLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDckIsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDdkIsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQyxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQzlELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxtQkFBbUI7SUFDTiwyQkFBYyxHQUEzQixVQUE0QixHQUFVOzs7Ozs7d0JBQzlCLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUNoQyxxQkFBTSxzQkFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7O3dCQUEzQyxHQUFHLEdBQU8sU0FBaUM7d0JBQy9DLE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQzt3QkFDekIsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO3dCQUN2QixHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbEMsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTt3QkFDMUIsc0JBQU8sTUFBTSxFQUFDOzs7O0tBQ2pCO0lBRUQsaUJBQWlCO0lBQ1YsMkJBQWMsR0FBckIsVUFBc0IsR0FBcUIsRUFBRSxDQUFRLEVBQUUsQ0FBUTtRQUMzRCxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbEMsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLElBQUksR0FBRztRQUNaLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUVqQixHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsU0FBUyxDQUNWLEdBQUcsRUFDSCxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxFQUN6QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUM1QjtRQUNGLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxPQUFPLEdBQUc7UUFDZixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQsaUJBQWlCO0lBQ1YsNEJBQWUsR0FBdEIsVUFBdUIsR0FBcUIsRUFBRSxLQUFZO1FBQ3RELElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsSUFBRyxLQUFLLElBQUksRUFBRSxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUUsRUFBQztZQUMzQixNQUFNLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDMUIsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDO1NBQzdCO1FBQ0QsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVsQyxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsSUFBSSxHQUFHO1FBQ1osR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLEVBQUU7UUFDbkMsSUFBRyxLQUFLLElBQUksRUFBRSxFQUFDO1lBQ1gsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFO1NBQ2xDO2FBQ0c7WUFDQSxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUU7U0FDakM7UUFFRCxHQUFHLGFBQUgsR0FBRyx1QkFBSCxHQUFHLENBQUUsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1FBQzFCLEdBQUcsYUFBSCxHQUFHLHVCQUFILEdBQUcsQ0FBRSxPQUFPLEdBQUc7UUFDZixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6IjgxYjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbW9uVG9vbGVyIGZyb20gXCIuL0NvbW1vblRvb2xlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzVG9vbGVye1xyXG5cclxuICAgIC8v5qC55o2u5Zu+54mH6I635Y+W6KOB5Ymq5YaF5a6555qE56a757q/55S75biDXHJcbiAgICBzdGF0aWMgZ2V0Q2xpcENhbnZhcyhpbWc6YW55LCB4Om51bWJlciwgeTpudW1iZXIsIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcil7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIGN0eD8uZHJhd0ltYWdlKGltZywgeCwgeSwgd2lkdGgsIGhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICAvL+agueaNruWbvueJh+mTvuaOpeiOt+WPluWOn+Wni+WGheWuueeahOemu+e6v+eUu+W4g1xyXG4gICAgc3RhdGljIGFzeW5jIGdldENhbnZhc0J5VXJsKHVybDpzdHJpbmcpe1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHZhciBpbWc6YW55ID0gYXdhaXQgQ29tbW9uVG9vbGVyLmxvYWRJbWFnZSh1cmwpO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgICBjdHg/LmRyYXdJbWFnZShpbWcsIDAsIDApO1xyXG4gICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy/moLnmja7lm77niYfojrflj5bnvKnmlL7lhoXlrrnnmoTnprvnur/nlLvluINcclxuICAgIHN0YXRpYyBnZXRTY2FsZUNhbnZhcyhpbWc6SFRNTENhbnZhc0VsZW1lbnQsIHg6bnVtYmVyLCB5Om51bWJlcil7XHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoICogTWF0aC5hYnMoeCk7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQgKiBNYXRoLmFicyh5KTtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgY3R4Py5zYXZlKCk7XHJcbiAgICAgICAgY3R4Py5zY2FsZSh4LCB5KTtcclxuICAgICAgICBcclxuICAgICAgICBjdHg/LmRyYXdJbWFnZShcclxuICAgICAgICAgICAgaW1nLCBcclxuICAgICAgICAgICAgeCA+IDAgPyAwIDogeCAqIGltZy53aWR0aCwgXHJcbiAgICAgICAgICAgIHkgPiAwID8gMCA6IHkgKiBpbWcuaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjdHg/LnJlc3RvcmUoKTtcclxuICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5qC55o2u5Zu+54mH6I635Y+W5peL6L2s5YaF5a6555qE56a757q/55S75biDXHJcbiAgICBzdGF0aWMgZ2V0Um90YXRlQ2FudmFzKGltZzpIVE1MQ2FudmFzRWxlbWVudCwgYW5nbGU6bnVtYmVyKXtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBpZihhbmdsZSA9PSA5MCB8fCBhbmdsZSA9PSAtOTApe1xyXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcuaGVpZ2h0O1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgY3R4Py5zYXZlKCk7XHJcbiAgICAgICAgY3R4Py5yb3RhdGUoYW5nbGUgKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICBpZihhbmdsZSA9PSA5MCl7XHJcbiAgICAgICAgICAgIGN0eD8udHJhbnNsYXRlKDAsIC1pbWcuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgY3R4Py50cmFuc2xhdGUoLWltZy53aWR0aCwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eD8uZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcbiAgICAgICAgY3R4Py5yZXN0b3JlKCk7XHJcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///81b2\n')},"85ec":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnZ1ZT9hNmYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Ijg1ZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85ec\n")},"88b7":function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.BaseScene = void 0;\r\nvar PIXI = __importStar(__webpack_require__("f015"));\r\nvar BaseScene = /** @class */ (function () {\r\n    function BaseScene() {\r\n        this.loader = PIXI.Loader.shared;\r\n        this.container = new PIXI.Container();\r\n    }\r\n    BaseScene.prototype.load = function (url) {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            if (_this.loader.resources[url]) {\r\n                resolve();\r\n            }\r\n            else {\r\n                _this.loader.add({\r\n                    url: url,\r\n                    //crossOrigin为空不等于anonymous\r\n                    crossOrigin: \'anonymous\'\r\n                }).load(function () {\r\n                    resolve();\r\n                });\r\n            }\r\n        });\r\n    };\r\n    BaseScene.prototype.init = function (width, height, app) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.app = app;\r\n    };\r\n    BaseScene.prototype.update = function () {\r\n    };\r\n    BaseScene.prototype.destory = function () {\r\n        this.container.destroy({\r\n            children: true\r\n        });\r\n    };\r\n    return BaseScene;\r\n}());\r\nexports.BaseScene = BaseScene;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9CYXNlU2NlbmUudHM/MGVkYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscURBQWdDO0FBR2hDO0lBT0k7UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDMUMsQ0FBQztJQUVELHdCQUFJLEdBQUosVUFBSyxHQUFVO1FBQWYsaUJBZUM7UUFkRyxPQUFPLElBQUksT0FBTyxDQUFDLGlCQUFPO1lBQ3RCLElBQUcsS0FBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUM7Z0JBQzFCLE9BQU8sRUFBRSxDQUFDO2FBQ2I7aUJBQ0c7Z0JBQ0EsS0FBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7b0JBQ1osR0FBRyxFQUFFLEdBQUc7b0JBQ1IsMkJBQTJCO29CQUMzQixXQUFXLEVBQUUsV0FBVztpQkFDM0IsQ0FBQyxDQUFDLElBQUksQ0FBQztvQkFDSixPQUFPLEVBQUUsQ0FBQztnQkFDZCxDQUFDLENBQUMsQ0FBQzthQUNOO1FBQ0wsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUVELHdCQUFJLEdBQUosVUFBSyxLQUFZLEVBQUUsTUFBYSxFQUFFLEdBQW9CO1FBQ2xELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ25CLENBQUM7SUFFRCwwQkFBTSxHQUFOO0lBRUEsQ0FBQztJQUVELDJCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztZQUNuQixRQUFRLEVBQUUsSUFBSTtTQUNqQixDQUFDO0lBQ04sQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FBQztBQTVDWSw4QkFBUyIsImZpbGUiOiI4OGI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcclxuaW1wb3J0IHsgSVNjZW5lIH0gZnJvbSAnLi9JU2NlbmUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VTY2VuZSBpbXBsZW1lbnRzIElTY2VuZXtcclxuICAgIGxvYWRlcjogUElYSS5Mb2FkZXI7XHJcbiAgICB3aWR0aDpudW1iZXI7XHJcbiAgICBoZWlnaHQ6bnVtYmVyO1xyXG4gICAgY29udGFpbmVyOiBQSVhJLkNvbnRhaW5lcjtcclxuICAgIGFwcDpQSVhJLkFwcGxpY2F0aW9uO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMubG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZCh1cmw6c3RyaW5nKTpQcm9taXNlPHZvaWQ+e1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5sb2FkZXIucmVzb3VyY2VzW3VybF0pe1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlci5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vY3Jvc3NPcmlnaW7kuLrnqbrkuI3nrYnkuo5hbm9ueW1vdXNcclxuICAgICAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogJ2Fub255bW91cydcclxuICAgICAgICAgICAgICAgIH0pLmxvYWQoKCk9PntcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCh3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIsIGFwcDpQSVhJLkFwcGxpY2F0aW9uKTp2b2lke1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBkZXN0b3J5KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmRlc3Ryb3koe1xyXG4gICAgICAgICAgICBjaGlsZHJlbjogdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///88b7\n')},f015:function(module,exports){eval("module.exports = PIXI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJQSVhJXCI/M2Q3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJmMDE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBQSVhJOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///f015\n")},f71a:function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar PIXI = __importStar(__webpack_require__("f015"));\r\nvar FrameView_1 = __importDefault(__webpack_require__("3e17"));\r\nvar CommonTooler_1 = __importDefault(__webpack_require__("5ba0"));\r\n/**\r\n * 四边框和拖动控制点视图\r\n */\r\nvar ScaleView = /** @class */ (function (_super) {\r\n    __extends(ScaleView, _super);\r\n    function ScaleView(w, h, target) {\r\n        var _this = _super.call(this) || this;\r\n        _this.points = [];\r\n        _this.target = target;\r\n        _this.frameView = new FrameView_1.default(w, h);\r\n        _this.addChild(_this.frameView);\r\n        _this.frameView.interactive = true;\r\n        _this.frameView.on(\'pointerdown\', _this.onDragStart.bind(_this));\r\n        _this.frameView.on(\'pointerup\', _this.onDragEnd, _this);\r\n        _this.frameView.on(\'pointerupoutside\', _this.onDragEnd, _this);\r\n        _this.frameView.on(\'pointermove\', _this.onDragMove, _this);\r\n        return _this;\r\n    }\r\n    ScaleView.prototype.onDragStart = function (e) {\r\n        var local = e.data.getLocalPosition(this.frameView);\r\n        this.dragging = true;\r\n        this.startPot = local;\r\n        this.inFrame = this.frameView.hitFrame(e);\r\n        this.points.push({\r\n            data: e.data.getLocalPosition(this.frameView),\r\n            global: e.data.global,\r\n            id: e.data.identifier\r\n        });\r\n        if (this.points.length == 2) {\r\n            this.center = CommonTooler_1.default.getCenter(this.points[0].data, this.points[1].data);\r\n        }\r\n    };\r\n    ScaleView.prototype.onDragMove = function (e) {\r\n        if (!this.dragging)\r\n            return;\r\n        var ox, oy;\r\n        //两指缩放\r\n        if (this.points.length == 2) {\r\n            var size = CommonTooler_1.default.getDistance(this.points[0].global, this.points[1].global);\r\n            if (this.distance) {\r\n                var width = this.target.width;\r\n                var height = this.target.height;\r\n                var scale = this.target.scale.x;\r\n                if (size > this.distance) {\r\n                    scale *= 1.01;\r\n                }\r\n                else {\r\n                    scale *= 0.99;\r\n                }\r\n                if (scale < 0.1) {\r\n                    scale = 0.1;\r\n                }\r\n                else if (scale > 2.4) {\r\n                    scale = 2.4;\r\n                }\r\n                this.target.scale.set(scale, scale);\r\n                ox = this.target.width - width;\r\n                oy = this.target.height - height;\r\n                this.target.x -= ox * this.center.x / this.target.texture.width;\r\n                this.target.y -= oy * this.center.y / this.target.texture.height;\r\n            }\r\n            else {\r\n                this.distance = size;\r\n            }\r\n        }\r\n        //单指移动\r\n        else {\r\n            var local = e.data.getLocalPosition(this.frameView);\r\n            ox = local.x - this.startPot.x;\r\n            oy = local.y - this.startPot.y;\r\n            //在操作框内则移动操作框\r\n            if (this.inFrame) {\r\n                this.frameView.moveFrame(ox, oy);\r\n            }\r\n            else {\r\n                //不使用dom截图则直接移动图片\r\n                if (this.target.visible) {\r\n                    this.target.x += ox;\r\n                    this.target.y += oy;\r\n                }\r\n                //使用dom截图发送事件控制元素移动\r\n                else {\r\n                    this.emit("move", { x: ox, y: oy });\r\n                }\r\n            }\r\n            this.startPot = local;\r\n        }\r\n    };\r\n    ScaleView.prototype.onDragEnd = function (e) {\r\n        this.points = this.points.filter(function (item) { return item.id != e.data.identifier; });\r\n        if (this.points.length != 2) {\r\n            this.distance = 0;\r\n            this.dragging = false;\r\n            this.center = null;\r\n        }\r\n    };\r\n    return ScaleView;\r\n}(PIXI.Container));\r\nexports.default = ScaleView;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS92aWV3L1NjYWxlVmlldy50cz83YTBiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxxREFBZ0M7QUFDaEMsK0RBQW9DO0FBRXBDLGtFQUFrRDtBQUVsRDs7R0FFRztBQUNIO0lBQXVDLDZCQUFjO0lBVWpELG1CQUFZLENBQVEsRUFBRSxDQUFRLEVBQUUsTUFBa0I7UUFBbEQsWUFDSSxpQkFBTyxTQVdWO1FBaEJELFlBQU0sR0FBUyxFQUFFLENBQUM7UUFPZCxLQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixLQUFJLENBQUMsU0FBUyxHQUFHLElBQUksbUJBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDckMsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFOUIsS0FBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLEtBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxLQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzlELEtBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFJLENBQUMsU0FBUyxFQUFFLEtBQUksQ0FBQyxDQUFDO1FBQ3JELEtBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLGtCQUFrQixFQUFFLEtBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSSxDQUFDLENBQUM7UUFDNUQsS0FBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLEtBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSSxDQUFDLENBQUM7O0lBQzVELENBQUM7SUFFRCwrQkFBVyxHQUFYLFVBQVksQ0FBSztRQUNiLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBRXRCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDYixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1lBQzdDLE1BQU0sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU07WUFDckIsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVTtTQUN4QixDQUFDLENBQUM7UUFFSCxJQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBQztZQUN2QixJQUFJLENBQUMsTUFBTSxHQUFHLHNCQUFZLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDbEY7SUFDTCxDQUFDO0lBRUQsOEJBQVUsR0FBVixVQUFXLENBQUs7UUFDWixJQUFHLENBQUMsSUFBSSxDQUFDLFFBQVE7WUFBRSxPQUFPO1FBRTFCLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUNYLE1BQU07UUFDTixJQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBQztZQUN2QixJQUFJLElBQUksR0FBRyxzQkFBWSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2xGLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBQztnQkFDYixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztnQkFDOUIsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ2hDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDaEMsSUFBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBQztvQkFDcEIsS0FBSyxJQUFJLElBQUksQ0FBQztpQkFDakI7cUJBQ0c7b0JBQ0EsS0FBSyxJQUFJLElBQUksQ0FBQztpQkFDakI7Z0JBRUQsSUFBRyxLQUFLLEdBQUcsR0FBRyxFQUFDO29CQUNYLEtBQUssR0FBRyxHQUFHLENBQUM7aUJBQ2Y7cUJBQ0ksSUFBRyxLQUFLLEdBQUcsR0FBRyxFQUFDO29CQUNoQixLQUFLLEdBQUcsR0FBRyxDQUFDO2lCQUNmO2dCQUNELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ3BDLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQy9CLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7Z0JBQ2hFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7YUFDcEU7aUJBQ0c7Z0JBQ0EsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7YUFDeEI7U0FDSjtRQUNELE1BQU07YUFDRjtZQUNBLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3BELEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQy9CLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQy9CLGFBQWE7WUFDYixJQUFHLElBQUksQ0FBQyxPQUFPLEVBQUM7Z0JBQ1osSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO2FBQ3BDO2lCQUNHO2dCQUNBLGlCQUFpQjtnQkFDakIsSUFBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBQztvQkFDbkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO29CQUNwQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQ3ZCO2dCQUNELG1CQUFtQjtxQkFDZjtvQkFDQSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBQyxDQUFDLENBQUM7aUJBQ3JDO2FBQ0o7WUFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztTQUN6QjtJQUNMLENBQUM7SUFFRCw2QkFBUyxHQUFULFVBQVUsQ0FBSztRQUNYLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsY0FBSSxJQUFJLFdBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQTVCLENBQTRCLENBQUMsQ0FBQztRQUN2RSxJQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBQztZQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztZQUNsQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUN0QjtJQUNMLENBQUM7SUFDTCxnQkFBQztBQUFELENBQUMsQ0EzR3NDLElBQUksQ0FBQyxTQUFTLEdBMkdwRCIsImZpbGUiOiJmNzFhLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcclxuaW1wb3J0IEZyYW1lVmlldyBmcm9tICcuL0ZyYW1lVmlldyc7XHJcbmltcG9ydCBsaXN0ZW5lciBmcm9tICcuLi9saXN0ZW5lcidcclxuaW1wb3J0IENvbW1vblRvb2xlciBmcm9tICcuLi90b29sZXIvQ29tbW9uVG9vbGVyJztcclxuXHJcbi8qKlxyXG4gKiDlm5vovrnmoYblkozmi5bliqjmjqfliLbngrnop4blm75cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjYWxlVmlldyBleHRlbmRzIFBJWEkuQ29udGFpbmVye1xyXG4gICAgZnJhbWVWaWV3OkZyYW1lVmlldztcclxuICAgIGRyYWdnaW5nOmJvb2xlYW47XHJcbiAgICBzdGFydFBvdDphbnk7XHJcbiAgICBkaXN0YW5jZTpudW1iZXI7XHJcbiAgICBjZW50ZXI6YW55O1xyXG4gICAgcG9pbnRzOmFueVtdID0gW107XHJcbiAgICB0YXJnZXQ6UElYSS5TcHJpdGU7XHJcbiAgICBpbkZyYW1lOkJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IodzpudW1iZXIsIGg6bnVtYmVyLCB0YXJnZXQ6UElYSS5TcHJpdGUpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgIHRoaXMuZnJhbWVWaWV3ID0gbmV3IEZyYW1lVmlldyh3LCBoKTtcclxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuZnJhbWVWaWV3KTtcclxuXHJcbiAgICAgICAgdGhpcy5mcmFtZVZpZXcuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZnJhbWVWaWV3Lm9uKCdwb2ludGVyZG93bicsIHRoaXMub25EcmFnU3RhcnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5mcmFtZVZpZXcub24oJ3BvaW50ZXJ1cCcsIHRoaXMub25EcmFnRW5kLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmZyYW1lVmlldy5vbigncG9pbnRlcnVwb3V0c2lkZScsIHRoaXMub25EcmFnRW5kLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmZyYW1lVmlldy5vbigncG9pbnRlcm1vdmUnLCB0aGlzLm9uRHJhZ01vdmUsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRHJhZ1N0YXJ0KGU6YW55KXtcclxuICAgICAgICB2YXIgbG9jYWwgPSBlLmRhdGEuZ2V0TG9jYWxQb3NpdGlvbih0aGlzLmZyYW1lVmlldyk7XHJcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zdGFydFBvdCA9IGxvY2FsO1xyXG5cclxuICAgICAgICB0aGlzLmluRnJhbWUgPSB0aGlzLmZyYW1lVmlldy5oaXRGcmFtZShlKTtcclxuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHtcclxuICAgICAgICAgICAgZGF0YTogZS5kYXRhLmdldExvY2FsUG9zaXRpb24odGhpcy5mcmFtZVZpZXcpLFxyXG4gICAgICAgICAgICBnbG9iYWw6IGUuZGF0YS5nbG9iYWwsXHJcbiAgICAgICAgICAgIGlkOiBlLmRhdGEuaWRlbnRpZmllclxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZih0aGlzLnBvaW50cy5sZW5ndGggPT0gMil7XHJcbiAgICAgICAgICAgIHRoaXMuY2VudGVyID0gQ29tbW9uVG9vbGVyLmdldENlbnRlcih0aGlzLnBvaW50c1swXS5kYXRhLCB0aGlzLnBvaW50c1sxXS5kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EcmFnTW92ZShlOmFueSl7XHJcbiAgICAgICAgaWYoIXRoaXMuZHJhZ2dpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIG94LCBveTtcclxuICAgICAgICAvL+S4pOaMh+e8qeaUvlxyXG4gICAgICAgIGlmKHRoaXMucG9pbnRzLmxlbmd0aCA9PSAyKXtcclxuICAgICAgICAgICAgdmFyIHNpemUgPSBDb21tb25Ub29sZXIuZ2V0RGlzdGFuY2UodGhpcy5wb2ludHNbMF0uZ2xvYmFsLCB0aGlzLnBvaW50c1sxXS5nbG9iYWwpO1xyXG4gICAgICAgICAgICBpZih0aGlzLmRpc3RhbmNlKXtcclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMudGFyZ2V0LndpZHRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMudGFyZ2V0LmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IHRoaXMudGFyZ2V0LnNjYWxlLng7XHJcbiAgICAgICAgICAgICAgICBpZihzaXplID4gdGhpcy5kaXN0YW5jZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgKj0gMS4wMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgKj0gMC45OTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZihzY2FsZSA8IDAuMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgPSAwLjE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHNjYWxlID4gMi40KXtcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IDIuNDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnNjYWxlLnNldChzY2FsZSwgc2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgb3ggPSB0aGlzLnRhcmdldC53aWR0aCAtIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgb3kgPSB0aGlzLnRhcmdldC5oZWlnaHQgLSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC54IC09IG94ICogdGhpcy5jZW50ZXIueCAvIHRoaXMudGFyZ2V0LnRleHR1cmUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC55IC09IG95ICogdGhpcy5jZW50ZXIueSAvIHRoaXMudGFyZ2V0LnRleHR1cmUuaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL+WNleaMh+enu+WKqFxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHZhciBsb2NhbCA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMuZnJhbWVWaWV3KTtcclxuICAgICAgICAgICAgb3ggPSBsb2NhbC54IC0gdGhpcy5zdGFydFBvdC54O1xyXG4gICAgICAgICAgICBveSA9IGxvY2FsLnkgLSB0aGlzLnN0YXJ0UG90Lnk7XHJcbiAgICAgICAgICAgIC8v5Zyo5pON5L2c5qGG5YaF5YiZ56e75Yqo5pON5L2c5qGGXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaW5GcmFtZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lVmlldy5tb3ZlRnJhbWUob3gsIG95KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgLy/kuI3kvb/nlKhkb23miKrlm77liJnnm7TmjqXnp7vliqjlm77niYdcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMudGFyZ2V0LnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnggKz0gb3g7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQueSArPSBveTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v5L2/55SoZG9t5oiq5Zu+5Y+R6YCB5LqL5Lu25o6n5Yi25YWD57Sg56e75YqoXHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdChcIm1vdmVcIiwge3g6IG94LCB5OiBveX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb3QgPSBsb2NhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EcmFnRW5kKGU6YW55KXtcclxuICAgICAgICB0aGlzLnBvaW50cyA9IHRoaXMucG9pbnRzLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT0gZS5kYXRhLmlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmKHRoaXMucG9pbnRzLmxlbmd0aCAhPSAyKXtcclxuICAgICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jZW50ZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4gICAgIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///f71a\n')},f8de:function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { "default": mod };\r\n};\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.ImageCliper = void 0;\r\nvar PIXI = __importStar(__webpack_require__("f015"));\r\nvar BaseScene_1 = __webpack_require__("88b7");\r\nvar listener_1 = __importDefault(__webpack_require__("2643"));\r\nvar CanvasTooler_1 = __importDefault(__webpack_require__("81b2"));\r\nvar CommonTooler_1 = __importDefault(__webpack_require__("5ba0"));\r\nvar ConvertTooler_1 = __importDefault(__webpack_require__("2df6"));\r\nvar ScaleView_1 = __importDefault(__webpack_require__("f71a"));\r\nvar ImageCliper = /** @class */ (function (_super) {\r\n    __extends(ImageCliper, _super);\r\n    function ImageCliper() {\r\n        var _this = _super.call(this) || this;\r\n        _this.times = 0;\r\n        _this.rotation = 0;\r\n        return _this;\r\n    }\r\n    ImageCliper.prototype.init = function (width, height, app) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var url, res, texture, _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _super.prototype.init.call(this, width, height, app);\r\n                        url = CommonTooler_1.default.getQueryString("url");\r\n                        console.log("image url: ", url);\r\n                        return [4 /*yield*/, CommonTooler_1.default.checkPng(url)];\r\n                    case 1:\r\n                        res = _b.sent();\r\n                        this.png = !!res;\r\n                        if (!url.startsWith("http")) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.load(url)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        texture = this.loader.resources[url].texture;\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        texture = PIXI.Texture.from(url);\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        _a = this;\r\n                        return [4 /*yield*/, CanvasTooler_1.default.getCanvasByUrl(url)];\r\n                    case 5:\r\n                        _a.imgCanvas = _b.sent();\r\n                        return [4 /*yield*/, CommonTooler_1.default.checkTexture(texture)];\r\n                    case 6:\r\n                        _b.sent();\r\n                        this.setup(texture);\r\n                        this.addListeners();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ImageCliper.prototype.addListeners = function () {\r\n        var _this = this;\r\n        //长图使用dom截取完成\r\n        listener_1.default.on("endDom", function (rect) {\r\n            _this.pic.visible = true;\r\n            if (!rect) {\r\n                return;\r\n            }\r\n            var left = rect.left, top = rect.top, width = rect.width, height = rect.height, img = rect.img;\r\n            var _a = _this.scaleView.frameView.rect, maxX = _a.maxX, maxY = _a.maxY, minX = _a.minX, minY = _a.minY;\r\n            var scale;\r\n            if (width > height) {\r\n                scale = img.width / width;\r\n            }\r\n            else {\r\n                scale = img.height / height;\r\n            }\r\n            var x = (minX - left) * scale;\r\n            var y = (minY - top) * scale;\r\n            var w = (maxX - minX) * scale;\r\n            var h = (maxY - minY) * scale;\r\n            var div = CanvasTooler_1.default.getClipCanvas(img, x, y, w, h);\r\n            // document.body.appendChild(div);\r\n            _this.imgCanvas = div;\r\n            listener_1.default.emit("clipSize", w, h);\r\n            _this.texture = PIXI.Texture.from(_this.imgCanvas);\r\n            _this.pic.texture = _this.texture;\r\n            if (w > h) {\r\n                _this.fitWidth();\r\n            }\r\n            else {\r\n                _this.fitHeight();\r\n            }\r\n        });\r\n        //长图使用dom初始化\r\n        listener_1.default.on("startDom", function (horizontal, callback) {\r\n            _this.pic.visible = false;\r\n            _this.scaleView.frameView.init(horizontal);\r\n            var rect = _this.scaleView.frameView.rect;\r\n            callback({\r\n                left: rect.minX,\r\n                right: rect.maxX,\r\n                top: rect.minY,\r\n                bottom: rect.maxY\r\n            });\r\n        });\r\n        //裁剪预览\r\n        listener_1.default.on("clipPreview", function (scale) {\r\n            console.log(scale, "scale");\r\n            _this.onDraw(scale);\r\n        });\r\n        //图片变换\r\n        listener_1.default.on("transform", function (key) {\r\n            switch (key) {\r\n                case "fitWidth":\r\n                    _this.fitWidth();\r\n                    break;\r\n                case "fitHeight":\r\n                    _this.fitHeight();\r\n                    break;\r\n                case "rotateLeft":\r\n                    _this.rotateLeft();\r\n                    break;\r\n                case "rotateRight":\r\n                    _this.rotateRight();\r\n                    break;\r\n                case "turnX":\r\n                    _this.turnX();\r\n                    break;\r\n                case "turnY":\r\n                    _this.turnY();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ImageCliper.prototype.fitWidth = function () {\r\n        var p = this.scaleView.frameView.padding;\r\n        var w = this.texture.width;\r\n        var h = this.texture.height;\r\n        var s = (this.width - 2 * p) / w;\r\n        this.pic.scale.set(s, s);\r\n        this.pic.position.x = p;\r\n        this.pic.position.y = this.height / 2 - (s * h) / 2;\r\n        var l = p;\r\n        var r = this.width - p;\r\n        var t = w > h ? this.pic.position.y : p;\r\n        var b = w > h ? this.height - this.pic.position.y : this.height - p;\r\n        this.scaleView.frameView.reset(l, r, t, b);\r\n        listener_1.default.emit("clipSize", w, (b - t) * s);\r\n    };\r\n    ImageCliper.prototype.fitHeight = function () {\r\n        var p = this.scaleView.frameView.padding;\r\n        var w = this.texture.width;\r\n        var h = this.texture.height;\r\n        var s = (this.height - 2 * p) / h;\r\n        this.pic.scale.set(s, s);\r\n        this.pic.position.x = this.width / 2 - (s * w) / 2;\r\n        this.pic.position.y = p;\r\n        var l = w > h ? p : this.pic.position.x;\r\n        var r = w > h ? this.width - p : this.width - this.pic.position.x;\r\n        var t = p;\r\n        var b = this.height - p;\r\n        this.scaleView.frameView.reset(l, r, t, b);\r\n        listener_1.default.emit("clipSize", (r - l) / s, h);\r\n    };\r\n    ImageCliper.prototype.rotateLeft = function () {\r\n        this.imgCanvas = CanvasTooler_1.default.getRotateCanvas(this.imgCanvas, -90);\r\n        this.texture = PIXI.Texture.from(this.imgCanvas);\r\n        this.pic.texture = this.texture;\r\n        listener_1.default.emit("clipSize", this.texture.width, this.texture.height);\r\n        if (this.texture.width > this.texture.height) {\r\n            this.fitWidth();\r\n        }\r\n        else {\r\n            this.fitHeight();\r\n        }\r\n    };\r\n    ImageCliper.prototype.rotateRight = function () {\r\n        this.imgCanvas = CanvasTooler_1.default.getRotateCanvas(this.imgCanvas, 90);\r\n        this.texture = PIXI.Texture.from(this.imgCanvas);\r\n        this.pic.texture = this.texture;\r\n        listener_1.default.emit("clipSize", this.texture.width, this.texture.height);\r\n        if (this.texture.width > this.texture.height) {\r\n            this.fitWidth();\r\n        }\r\n        else {\r\n            this.fitHeight();\r\n        }\r\n    };\r\n    ImageCliper.prototype.turnX = function () {\r\n        this.imgCanvas = CanvasTooler_1.default.getScaleCanvas(this.imgCanvas, -1, 1);\r\n        this.texture = PIXI.Texture.from(this.imgCanvas);\r\n        this.pic.texture = this.texture;\r\n        listener_1.default.emit("clipSize", this.texture.width, this.texture.height);\r\n    };\r\n    ImageCliper.prototype.turnY = function () {\r\n        this.imgCanvas = CanvasTooler_1.default.getScaleCanvas(this.imgCanvas, 1, -1);\r\n        this.texture = PIXI.Texture.from(this.imgCanvas);\r\n        this.pic.texture = this.texture;\r\n        listener_1.default.emit("clipSize", this.texture.width, this.texture.height);\r\n    };\r\n    ImageCliper.prototype.setup = function (texture) {\r\n        var _this = this;\r\n        this.texture = texture;\r\n        texture.baseTexture.wrapMode = PIXI.WRAP_MODES.REPEAT;\r\n        var w = this.texture.width;\r\n        var h = this.texture.height;\r\n        this.pic = new PIXI.Sprite(texture);\r\n        listener_1.default.emit("initSize", w, h);\r\n        this.pic.position.set(this.width / 2 - w / 2, this.height / 2 - h / 2);\r\n        this.container.addChild(this.pic);\r\n        this.scaleView = new ScaleView_1.default(this.width, this.height, this.pic);\r\n        this.container.addChild(this.scaleView);\r\n        this.scaleView.on("move", function (data) {\r\n            listener_1.default.emit("move", data);\r\n        });\r\n        this.scaleView.frameView.on("size", function (data) {\r\n            //pixi截图模式\r\n            if (_this.pic.visible) {\r\n                var _a = _this.pic.scale, x = _a.x, y = _a.y;\r\n                listener_1.default.emit("clipSize", data.width / x, data.height / y);\r\n            }\r\n            //dom截图模式\r\n            else {\r\n                listener_1.default.emit("domSize", data.width, data.height);\r\n            }\r\n        });\r\n    };\r\n    ImageCliper.prototype.onDraw = function (scale) {\r\n        var _a = this.scaleView.frameView.rect, minX = _a.minX, maxX = _a.maxX, minY = _a.minY, maxY = _a.maxY;\r\n        var x = minX - this.pic.x;\r\n        var y = minY - this.pic.y;\r\n        var width = maxX - minX;\r\n        var height = maxY - minY;\r\n        var s = this.pic.scale.x;\r\n        var img = this.texture.baseTexture.resource;\r\n        if (!this.canvas) {\r\n            this.canvas = document.createElement(\'canvas\');\r\n        }\r\n        var canvas = this.canvas;\r\n        canvas.width = Math.floor(width / s * scale);\r\n        canvas.height = Math.floor(height / s * scale);\r\n        var ctx = canvas.getContext(\'2d\');\r\n        ctx.drawImage(img.source, x / s, y / s, width / s, height / s, 0, 0, canvas.width, canvas.height);\r\n        var urlData;\r\n        if (this.png) {\r\n            urlData = canvas.toDataURL("image/png");\r\n        }\r\n        else {\r\n            urlData = canvas.toDataURL("image/jpeg", 0.8);\r\n        }\r\n        var blob = ConvertTooler_1.default.dataURLtoBlob(urlData);\r\n        var url = urlData;\r\n        var info = {\r\n            clipSize: {\r\n                width: canvas.width,\r\n                height: canvas.height\r\n            }\r\n        };\r\n        listener_1.default.emit("clipEnd", url, blob, info);\r\n    };\r\n    ImageCliper.prototype.update = function () {\r\n        // if(this.pic){\r\n        //     this.pic.rotation += 0.04;\r\n        // }\r\n    };\r\n    ImageCliper.prototype.destory = function () {\r\n        _super.prototype.destory.call(this);\r\n    };\r\n    return ImageCliper;\r\n}(BaseScene_1.BaseScene));\r\nexports.ImageCliper = ImageCliper;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29yZS93ZWIvSW1hZ2VDbGlwZXIudHM/Y2IyMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFEQUFnQztBQUNoQyw4Q0FBeUM7QUFDekMsOERBQWtDO0FBQ2xDLGtFQUFrRDtBQUNsRCxrRUFBa0Q7QUFDbEQsbUVBQW9EO0FBQ3BELCtEQUEwQztBQUUxQztJQUFpQywrQkFBUztJQWlCdEM7UUFBQSxZQUNJLGlCQUFPLFNBQ1Y7UUFQRCxXQUFLLEdBQVUsQ0FBQyxDQUFDO1FBQ2pCLGNBQVEsR0FBVSxDQUFDLENBQUM7O0lBTXBCLENBQUM7SUFFSywwQkFBSSxHQUFWLFVBQVcsS0FBWSxFQUFFLE1BQWEsRUFBRSxHQUFvQjs7Ozs7O3dCQUN4RCxpQkFBTSxJQUFJLFlBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFFM0IsR0FBRyxHQUFHLHNCQUFZLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFFdEIscUJBQU0sc0JBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDOzt3QkFBdEMsR0FBRyxHQUFHLFNBQWdDO3dCQUMxQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7NkJBSWQsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBdEIsd0JBQXNCO3dCQUNyQixxQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQzs7d0JBQXBCLFNBQW9CLENBQUM7d0JBQ3JCLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7Ozt3QkFHN0MsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDOzs7d0JBR3JDLFNBQUk7d0JBQWEscUJBQU0sc0JBQVksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDOzt3QkFBdkQsR0FBSyxTQUFTLEdBQUcsU0FBc0MsQ0FBQzt3QkFDeEQscUJBQU0sc0JBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDOzt3QkFBeEMsU0FBd0MsQ0FBQzt3QkFFekMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDcEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDOzs7OztLQUN2QjtJQUVELGtDQUFZLEdBQVo7UUFBQSxpQkF5RkM7UUF4RkcsYUFBYTtRQUNiLGtCQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFDLElBQVE7WUFDM0IsS0FBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBRXhCLElBQUcsQ0FBQyxJQUFJLEVBQUM7Z0JBQ0wsT0FBTzthQUNWO1lBRUksUUFBSSxHQUE2QixJQUFJLEtBQWpDLEVBQUUsR0FBRyxHQUF3QixJQUFJLElBQTVCLEVBQUUsS0FBSyxHQUFpQixJQUFJLE1BQXJCLEVBQUUsTUFBTSxHQUFTLElBQUksT0FBYixFQUFFLEdBQUcsR0FBSSxJQUFJLElBQVIsQ0FBUztZQUN2QyxTQUEyQixLQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQXZELElBQUksWUFBRSxJQUFJLFlBQUUsSUFBSSxZQUFFLElBQUksVUFBaUMsQ0FBQztZQUU3RCxJQUFJLEtBQUssQ0FBQztZQUNWLElBQUcsS0FBSyxHQUFHLE1BQU0sRUFBQztnQkFDZCxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7YUFDN0I7aUJBQ0c7Z0JBQ0EsS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO2FBQy9CO1lBRUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQzlCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUM7WUFDOUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBRTlCLElBQUksR0FBRyxHQUFHLHNCQUFZLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0RCxrQ0FBa0M7WUFDbEMsS0FBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7WUFDckIsa0JBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNoQyxLQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNqRCxLQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxLQUFJLENBQUMsT0FBTyxDQUFDO1lBQ2hDLElBQUcsQ0FBQyxHQUFHLENBQUMsRUFBQztnQkFDTCxLQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7YUFDbkI7aUJBQ0c7Z0JBQ0EsS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2FBQ3BCO1FBRUwsQ0FBQyxDQUFDO1FBRUYsWUFBWTtRQUNaLGtCQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxVQUFDLFVBQWtCLEVBQUUsUUFBaUI7WUFDMUQsS0FBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBRXpCLEtBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUMxQyxJQUFJLElBQUksR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7WUFFekMsUUFBUSxDQUFDO2dCQUNMLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDZixLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUk7Z0JBQ2hCLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDZCxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUk7YUFDcEIsQ0FBQztRQUNOLENBQUMsQ0FBQztRQUVGLE1BQU07UUFDTixrQkFBUSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsVUFBQyxLQUFZO1lBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzVCLEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDO1FBRUYsTUFBTTtRQUNOLGtCQUFRLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxVQUFDLEdBQVU7WUFDaEMsUUFBTyxHQUFHLEVBQUM7Z0JBQ1AsS0FBSyxVQUFVO29CQUNYLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztvQkFDaEIsTUFBTTtnQkFDVixLQUFLLFdBQVc7b0JBQ1osS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO29CQUNqQixNQUFNO2dCQUNWLEtBQUssWUFBWTtvQkFDYixLQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7b0JBQ2xCLE1BQU07Z0JBQ1YsS0FBSyxhQUFhO29CQUNkLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDbkIsTUFBTTtnQkFDVixLQUFLLE9BQU87b0JBQ1IsS0FBSSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUNiLE1BQU07Z0JBQ1YsS0FBSyxPQUFPO29CQUNSLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDYixNQUFNO2dCQUVWO29CQUNJLE1BQU07YUFFYjtRQUVMLENBQUMsQ0FBQztJQUNOLENBQUM7SUFHRCw4QkFBUSxHQUFSO1FBQ0ksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQzNCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXBELElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNWLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFM0Msa0JBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRUQsK0JBQVMsR0FBVDtRQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztRQUN6QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztRQUMzQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUV4QixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTNDLGtCQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELGdDQUFVLEdBQVY7UUFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLHNCQUFZLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVuRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ2hDLGtCQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25FLElBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUM7WUFDeEMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ25CO2FBQ0c7WUFDQSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDcEI7SUFDTCxDQUFDO0lBRUQsaUNBQVcsR0FBWDtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsc0JBQVksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ2hDLGtCQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25FLElBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUM7WUFDeEMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ25CO2FBQ0c7WUFDQSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDcEI7SUFDTCxDQUFDO0lBRUQsMkJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsc0JBQVksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ2hDLGtCQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCwyQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxzQkFBWSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDaEMsa0JBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELDJCQUFLLEdBQUwsVUFBTSxPQUFvQjtRQUExQixpQkErQkM7UUE5QkcsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsT0FBTyxDQUFDLFdBQVcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUM7UUFDdEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDM0IsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7UUFFNUIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsa0JBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVoQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWxDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxtQkFBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXhDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxVQUFDLElBQVE7WUFDL0Isa0JBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hDLENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBQyxJQUFRO1lBQ3pDLFVBQVU7WUFDVixJQUFHLEtBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFDO2dCQUNaLFNBQVMsS0FBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQXRCLENBQUMsU0FBRSxDQUFDLE9BQWtCLENBQUM7Z0JBQzVCLGtCQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQzlEO1lBQ0QsU0FBUztpQkFDTDtnQkFDQSxrQkFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDckQ7UUFFTCxDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQsNEJBQU0sR0FBTixVQUFPLEtBQVk7UUFDWCxTQUEyQixJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQXZELElBQUksWUFBRSxJQUFJLFlBQUUsSUFBSSxZQUFFLElBQUksVUFBaUMsQ0FBQztRQUM3RCxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFCLElBQUksS0FBSyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBSSxNQUFNLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFFekIsSUFBSSxHQUFHLEdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO1FBRWhELElBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDO1lBQ1osSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ2xEO1FBQ0QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN6QixNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztRQUM3QyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztRQUUvQyxJQUFJLEdBQUcsR0FBTyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBRSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDbEcsSUFBSSxPQUFPLENBQUM7UUFDWixJQUFHLElBQUksQ0FBQyxHQUFHLEVBQUM7WUFDUixPQUFPLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUMzQzthQUNHO1lBQ0EsT0FBTyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ2pEO1FBRUQsSUFBSSxJQUFJLEdBQUcsdUJBQWEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDaEQsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDO1FBQ2xCLElBQUksSUFBSSxHQUFHO1lBQ1AsUUFBUSxFQUFFO2dCQUNOLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSztnQkFDbkIsTUFBTSxFQUFFLE1BQU0sQ0FBQyxNQUFNO2FBQ3hCO1NBQ0osQ0FBQztRQUVGLGtCQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCw0QkFBTSxHQUFOO1FBQ0ksZ0JBQWdCO1FBQ2hCLGlDQUFpQztRQUNqQyxJQUFJO0lBQ1IsQ0FBQztJQUVELDZCQUFPLEdBQVA7UUFDSSxpQkFBTSxPQUFPLFdBQUUsQ0FBQztJQUNwQixDQUFDO0lBRUwsa0JBQUM7QUFBRCxDQUFDLENBMVNnQyxxQkFBUyxHQTBTekM7QUExU1ksa0NBQVciLCJmaWxlIjoiZjhkZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XHJcbmltcG9ydCB7IEJhc2VTY2VuZSB9IGZyb20gJy4uL0Jhc2VTY2VuZSc7XHJcbmltcG9ydCBsaXN0ZW5lciBmcm9tICcuLi9saXN0ZW5lcidcclxuaW1wb3J0IENhbnZhc1Rvb2xlciBmcm9tICcuLi90b29sZXIvQ2FudmFzVG9vbGVyJztcclxuaW1wb3J0IENvbW1vblRvb2xlciBmcm9tICcuLi90b29sZXIvQ29tbW9uVG9vbGVyJztcclxuaW1wb3J0IENvbnZlcnRUb29sZXIgZnJvbSAnLi4vdG9vbGVyL0NvbnZlcnRUb29sZXInO1xyXG5pbXBvcnQgU2NhbGVWaWV3IGZyb20gJy4uL3ZpZXcvU2NhbGVWaWV3JztcclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZUNsaXBlciBleHRlbmRzIEJhc2VTY2VuZXtcclxuXHJcbiAgICBwaWM6UElYSS5TcHJpdGU7XHJcbiAgICB0ZXh0dXJlOlBJWEkuVGV4dHVyZTtcclxuICAgIGRyYWdnaW5nOmJvb2xlYW47XHJcbiAgICBzdGFydFBvdDphbnk7XHJcbiAgICAvLyBmcmFtZVZpZXc6RnJhbWVWaWV3O1xyXG4gICAgLy8gc2NhbGVUb29sZXI6U2NhbGVUb29sZXI7XHJcbiAgICBzY2FsZVZpZXc6U2NhbGVWaWV3O1xyXG4gICAgbGluZTogUElYSS5HcmFwaGljcztcclxuICAgIGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHBuZzpib29sZWFuO1xyXG4gICAgdGltZXM6bnVtYmVyID0gMDtcclxuICAgIHJvdGF0aW9uOm51bWJlciA9IDA7XHJcblxyXG4gICAgaW1nQ2FudmFzOmFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9ICAgXHJcblxyXG4gICAgYXN5bmMgaW5pdCh3aWR0aDpudW1iZXIsIGhlaWdodDpudW1iZXIsIGFwcDpQSVhJLkFwcGxpY2F0aW9uKXtcclxuICAgICAgICBzdXBlci5pbml0KHdpZHRoLCBoZWlnaHQsIGFwcCk7XHJcblxyXG4gICAgICAgIHZhciB1cmwgPSBDb21tb25Ub29sZXIuZ2V0UXVlcnlTdHJpbmcoXCJ1cmxcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpbWFnZSB1cmw6IFwiLCB1cmwpO1xyXG5cclxuICAgICAgICB2YXIgcmVzID0gYXdhaXQgQ29tbW9uVG9vbGVyLmNoZWNrUG5nKHVybCk7XHJcbiAgICAgICAgdGhpcy5wbmcgPSAhIXJlcztcclxuXHJcbiAgICAgICAgdmFyIHRleHR1cmU6YW55O1xyXG5cclxuICAgICAgICBpZih1cmwuc3RhcnRzV2l0aChcImh0dHBcIikpe1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvYWQodXJsKTtcclxuICAgICAgICAgICAgdGV4dHVyZSA9IHRoaXMubG9hZGVyLnJlc291cmNlc1t1cmxdLnRleHR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSh1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG4gICAgICAgIHRoaXMuaW1nQ2FudmFzID0gYXdhaXQgQ2FudmFzVG9vbGVyLmdldENhbnZhc0J5VXJsKHVybCk7XHJcbiAgICAgICAgYXdhaXQgQ29tbW9uVG9vbGVyLmNoZWNrVGV4dHVyZSh0ZXh0dXJlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cCh0ZXh0dXJlKTtcclxuICAgICAgICB0aGlzLmFkZExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZExpc3RlbmVycygpe1xyXG4gICAgICAgIC8v6ZW/5Zu+5L2/55SoZG9t5oiq5Y+W5a6M5oiQXHJcbiAgICAgICAgbGlzdGVuZXIub24oXCJlbmREb21cIiwgKHJlY3Q6YW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGljLnZpc2libGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYoIXJlY3Qpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIge2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCwgaW1nfSA9IHJlY3Q7XHJcbiAgICAgICAgICAgIHZhciB7bWF4WCwgbWF4WSwgbWluWCwgbWluWX0gPSB0aGlzLnNjYWxlVmlldy5mcmFtZVZpZXcucmVjdDtcclxuXHJcbiAgICAgICAgICAgIHZhciBzY2FsZTtcclxuICAgICAgICAgICAgaWYod2lkdGggPiBoZWlnaHQpe1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBpbWcud2lkdGggLyB3aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBpbWcuaGVpZ2h0IC8gaGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgeCA9IChtaW5YIC0gbGVmdCkgKiBzY2FsZTtcclxuICAgICAgICAgICAgdmFyIHkgPSAobWluWSAtIHRvcCkgKiBzY2FsZTtcclxuICAgICAgICAgICAgdmFyIHcgPSAobWF4WCAtIG1pblgpICogc2NhbGU7XHJcbiAgICAgICAgICAgIHZhciBoID0gKG1heFkgLSBtaW5ZKSAqIHNjYWxlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRpdiA9IENhbnZhc1Rvb2xlci5nZXRDbGlwQ2FudmFzKGltZywgeCwgeSwgdywgaCk7XHJcbiAgICAgICAgICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuICAgICAgICAgICAgdGhpcy5pbWdDYW52YXMgPSBkaXY7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLmVtaXQoXCJjbGlwU2l6ZVwiLCB3LCBoKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20odGhpcy5pbWdDYW52YXMpO1xyXG4gICAgICAgICAgICB0aGlzLnBpYy50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xyXG4gICAgICAgICAgICBpZih3ID4gaCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpdFdpZHRoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZml0SGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy/plb/lm77kvb/nlKhkb23liJ3lp4vljJZcclxuICAgICAgICBsaXN0ZW5lci5vbihcInN0YXJ0RG9tXCIsIChob3Jpem9udGFsOmJvb2xlYW4sIGNhbGxiYWNrOkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGljLnZpc2libGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGVWaWV3LmZyYW1lVmlldy5pbml0KGhvcml6b250YWwpO1xyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IHRoaXMuc2NhbGVWaWV3LmZyYW1lVmlldy5yZWN0O1xyXG5cclxuICAgICAgICAgICAgY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgbGVmdDogcmVjdC5taW5YLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHJlY3QubWF4WCxcclxuICAgICAgICAgICAgICAgIHRvcDogcmVjdC5taW5ZLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiByZWN0Lm1heFlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvL+ijgeWJqumihOiniFxyXG4gICAgICAgIGxpc3RlbmVyLm9uKFwiY2xpcFByZXZpZXdcIiwgKHNjYWxlOm51bWJlcik9PntcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc2NhbGUsIFwic2NhbGVcIik7XHJcbiAgICAgICAgICAgIHRoaXMub25EcmF3KHNjYWxlKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvL+WbvueJh+WPmOaNolxyXG4gICAgICAgIGxpc3RlbmVyLm9uKFwidHJhbnNmb3JtXCIsIChrZXk6c3RyaW5nKT0+e1xyXG4gICAgICAgICAgICBzd2l0Y2goa2V5KXtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJmaXRXaWR0aFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZml0V2lkdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJmaXRIZWlnaHRcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpdEhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInJvdGF0ZUxlZnRcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJyb3RhdGVSaWdodFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0dXJuWFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHVyblgoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0dXJuWVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHVyblkoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgXHJcblxyXG4gICAgZml0V2lkdGgoKSB7XHJcbiAgICAgICAgdmFyIHAgPSB0aGlzLnNjYWxlVmlldy5mcmFtZVZpZXcucGFkZGluZztcclxuICAgICAgICB2YXIgdyA9IHRoaXMudGV4dHVyZS53aWR0aDtcclxuICAgICAgICB2YXIgaCA9IHRoaXMudGV4dHVyZS5oZWlnaHQ7XHJcbiAgICAgICAgdmFyIHMgPSAodGhpcy53aWR0aCAtIDIgKiBwKSAvIHc7XHJcbiAgICAgICAgdGhpcy5waWMuc2NhbGUuc2V0KHMsIHMpO1xyXG4gICAgICAgIHRoaXMucGljLnBvc2l0aW9uLnggPSBwO1xyXG4gICAgICAgIHRoaXMucGljLnBvc2l0aW9uLnkgPSB0aGlzLmhlaWdodCAvIDIgLSAocyAqIGgpIC8gMjtcclxuXHJcbiAgICAgICAgdmFyIGwgPSBwO1xyXG4gICAgICAgIHZhciByID0gdGhpcy53aWR0aCAtIHA7XHJcbiAgICAgICAgdmFyIHQgPSB3ID4gaCA/IHRoaXMucGljLnBvc2l0aW9uLnkgOiBwO1xyXG4gICAgICAgIHZhciBiID0gdyA+IGggPyB0aGlzLmhlaWdodCAtIHRoaXMucGljLnBvc2l0aW9uLnkgOiB0aGlzLmhlaWdodCAtIHA7XHJcbiAgICAgICAgdGhpcy5zY2FsZVZpZXcuZnJhbWVWaWV3LnJlc2V0KGwsIHIsIHQsIGIpO1xyXG5cclxuICAgICAgICBsaXN0ZW5lci5lbWl0KFwiY2xpcFNpemVcIiwgdywgKGIgLSB0KSAqIHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZpdEhlaWdodCgpe1xyXG4gICAgICAgIHZhciBwID0gdGhpcy5zY2FsZVZpZXcuZnJhbWVWaWV3LnBhZGRpbmc7XHJcbiAgICAgICAgdmFyIHcgPSB0aGlzLnRleHR1cmUud2lkdGg7XHJcbiAgICAgICAgdmFyIGggPSB0aGlzLnRleHR1cmUuaGVpZ2h0O1xyXG4gICAgICAgIHZhciBzID0gKHRoaXMuaGVpZ2h0IC0gMiAqIHApIC8gaDtcclxuICAgICAgICB0aGlzLnBpYy5zY2FsZS5zZXQocywgcyk7XHJcbiAgICAgICAgdGhpcy5waWMucG9zaXRpb24ueCA9IHRoaXMud2lkdGggLyAyIC0gKHMgKiB3KSAvIDI7XHJcbiAgICAgICAgdGhpcy5waWMucG9zaXRpb24ueSA9IHA7XHJcblxyXG4gICAgICAgIHZhciBsID0gdyA+IGggPyBwIDogdGhpcy5waWMucG9zaXRpb24ueDtcclxuICAgICAgICB2YXIgciA9ICB3ID4gaCA/IHRoaXMud2lkdGggLSBwIDogdGhpcy53aWR0aCAtIHRoaXMucGljLnBvc2l0aW9uLng7XHJcbiAgICAgICAgdmFyIHQgPSBwO1xyXG4gICAgICAgIHZhciBiID0gdGhpcy5oZWlnaHQgLSBwO1xyXG4gICAgICAgIHRoaXMuc2NhbGVWaWV3LmZyYW1lVmlldy5yZXNldChsLCByLCB0LCBiKTtcclxuXHJcbiAgICAgICAgbGlzdGVuZXIuZW1pdChcImNsaXBTaXplXCIsIChyIC0gbCkgLyBzLCBoKTtcclxuICAgIH1cclxuXHJcbiAgICByb3RhdGVMZWZ0KCl7XHJcbiAgICAgICAgdGhpcy5pbWdDYW52YXMgPSBDYW52YXNUb29sZXIuZ2V0Um90YXRlQ2FudmFzKHRoaXMuaW1nQ2FudmFzLCAtOTApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKHRoaXMuaW1nQ2FudmFzKTtcclxuICAgICAgICB0aGlzLnBpYy50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xyXG4gICAgICAgIGxpc3RlbmVyLmVtaXQoXCJjbGlwU2l6ZVwiLCB0aGlzLnRleHR1cmUud2lkdGgsIHRoaXMudGV4dHVyZS5oZWlnaHQpO1xyXG4gICAgICAgIGlmKHRoaXMudGV4dHVyZS53aWR0aCA+IHRoaXMudGV4dHVyZS5oZWlnaHQpe1xyXG4gICAgICAgICAgICB0aGlzLmZpdFdpZHRoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuZml0SGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJvdGF0ZVJpZ2h0KCl7XHJcbiAgICAgICAgdGhpcy5pbWdDYW52YXMgPSBDYW52YXNUb29sZXIuZ2V0Um90YXRlQ2FudmFzKHRoaXMuaW1nQ2FudmFzLCA5MCk7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20odGhpcy5pbWdDYW52YXMpO1xyXG4gICAgICAgIHRoaXMucGljLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XHJcbiAgICAgICAgbGlzdGVuZXIuZW1pdChcImNsaXBTaXplXCIsIHRoaXMudGV4dHVyZS53aWR0aCwgdGhpcy50ZXh0dXJlLmhlaWdodCk7XHJcbiAgICAgICAgaWYodGhpcy50ZXh0dXJlLndpZHRoID4gdGhpcy50ZXh0dXJlLmhlaWdodCl7XHJcbiAgICAgICAgICAgIHRoaXMuZml0V2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5maXRIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHVyblgoKXtcclxuICAgICAgICB0aGlzLmltZ0NhbnZhcyA9IENhbnZhc1Rvb2xlci5nZXRTY2FsZUNhbnZhcyh0aGlzLmltZ0NhbnZhcywgLTEsIDEpO1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKHRoaXMuaW1nQ2FudmFzKTtcclxuICAgICAgICB0aGlzLnBpYy50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xyXG4gICAgICAgIGxpc3RlbmVyLmVtaXQoXCJjbGlwU2l6ZVwiLCB0aGlzLnRleHR1cmUud2lkdGgsIHRoaXMudGV4dHVyZS5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHR1cm5ZKCl7XHJcbiAgICAgICAgdGhpcy5pbWdDYW52YXMgPSBDYW52YXNUb29sZXIuZ2V0U2NhbGVDYW52YXModGhpcy5pbWdDYW52YXMsIDEsIC0xKTtcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSh0aGlzLmltZ0NhbnZhcyk7XHJcbiAgICAgICAgdGhpcy5waWMudGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcclxuICAgICAgICBsaXN0ZW5lci5lbWl0KFwiY2xpcFNpemVcIiwgdGhpcy50ZXh0dXJlLndpZHRoLCB0aGlzLnRleHR1cmUuaGVpZ2h0KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0dXAodGV4dHVyZTpQSVhJLlRleHR1cmUpe1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7ICAgXHJcbiAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS53cmFwTW9kZSA9IFBJWEkuV1JBUF9NT0RFUy5SRVBFQVQ7XHJcbiAgICAgICAgdmFyIHcgPSB0aGlzLnRleHR1cmUud2lkdGg7XHJcbiAgICAgICAgdmFyIGggPSB0aGlzLnRleHR1cmUuaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLnBpYyA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcclxuICAgICAgICBsaXN0ZW5lci5lbWl0KFwiaW5pdFNpemVcIiwgdywgaCk7XHJcblxyXG4gICAgICAgIHRoaXMucGljLnBvc2l0aW9uLnNldCh0aGlzLndpZHRoIC8gMiAtIHcgLyAyLCB0aGlzLmhlaWdodCAvIDIgLSBoIC8gMik7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5waWMpO1xyXG5cclxuICAgICAgICB0aGlzLnNjYWxlVmlldyA9IG5ldyBTY2FsZVZpZXcodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucGljKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnNjYWxlVmlldyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NhbGVWaWV3Lm9uKFwibW92ZVwiLCAoZGF0YTphbnkpID0+IHtcclxuICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcIm1vdmVcIiwgZGF0YSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5zY2FsZVZpZXcuZnJhbWVWaWV3Lm9uKFwic2l6ZVwiLCAoZGF0YTphbnkpID0+IHtcclxuICAgICAgICAgICAgLy9waXhp5oiq5Zu+5qih5byPXHJcbiAgICAgICAgICAgIGlmKHRoaXMucGljLnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHt4LCB5fSA9IHRoaXMucGljLnNjYWxlO1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuZW1pdChcImNsaXBTaXplXCIsIGRhdGEud2lkdGggLyB4LCBkYXRhLmhlaWdodCAvIHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vZG9t5oiq5Zu+5qih5byPXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5lbWl0KFwiZG9tU2l6ZVwiLCBkYXRhLndpZHRoLCBkYXRhLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25EcmF3KHNjYWxlOm51bWJlcil7XHJcbiAgICAgICAgdmFyIHttaW5YLCBtYXhYLCBtaW5ZLCBtYXhZfSA9IHRoaXMuc2NhbGVWaWV3LmZyYW1lVmlldy5yZWN0O1xyXG4gICAgICAgIHZhciB4ID0gbWluWCAtIHRoaXMucGljLng7XHJcbiAgICAgICAgdmFyIHkgPSBtaW5ZIC0gdGhpcy5waWMueTtcclxuICAgICAgICB2YXIgd2lkdGggPSBtYXhYIC0gbWluWDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gbWF4WSAtIG1pblk7XHJcbiAgICAgICAgdmFyIHMgPSB0aGlzLnBpYy5zY2FsZS54O1xyXG5cclxuICAgICAgICB2YXIgaW1nOmFueSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvdXJjZTtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuY2FudmFzKXtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iod2lkdGggLyBzICogc2NhbGUpO1xyXG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKGhlaWdodCAvIHMgKiBzY2FsZSk7XHJcblxyXG4gICAgICAgIGxldCBjdHg6YW55ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcuc291cmNlLCB4IC8gcywgeSAvIHMsIHdpZHRoIC8gcywgaGVpZ2h0IC8gcywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgdXJsRGF0YTtcclxuICAgICAgICBpZih0aGlzLnBuZyl7XHJcbiAgICAgICAgICAgIHVybERhdGEgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB1cmxEYXRhID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIiwgMC44KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBibG9iID0gQ29udmVydFRvb2xlci5kYXRhVVJMdG9CbG9iKHVybERhdGEpO1xyXG4gICAgICAgIHZhciB1cmwgPSB1cmxEYXRhO1xyXG4gICAgICAgIHZhciBpbmZvID0ge1xyXG4gICAgICAgICAgICBjbGlwU2l6ZToge1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGlzdGVuZXIuZW1pdChcImNsaXBFbmRcIiwgdXJsLCBibG9iLCBpbmZvKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgLy8gaWYodGhpcy5waWMpe1xyXG4gICAgICAgIC8vICAgICB0aGlzLnBpYy5yb3RhdGlvbiArPSAwLjA0O1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0b3J5KCk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLmRlc3RvcnkoKTtcclxuICAgIH1cclxuXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///f8de\n')}});